{"meta":{"title":"DarkStrand","subtitle":null,"description":"everything will be ok","author":"DarkStrand","url":""},"pages":[{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2021-08-12T02:40:48.567Z","comments":false,"path":"about/index.html","permalink":"/about/index.html","excerpt":"","text":"[ã•ãã‚‰è˜ã®hojun] ä¸&nbsp; Mashiro&nbsp; ï¼ˆ çœŸï¼ˆã¾ï¼‰ç™½ï¼ˆã—ã‚ï¼‰ ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2021-08-12T02:40:48.568Z","comments":false,"path":"bangumi/index.html","permalink":"/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2021-08-12T02:40:48.569Z","comments":true,"path":"comment/index.html","permalink":"/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2021-08-12T02:40:48.570Z","comments":false,"path":"donate/index.html","permalink":"/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2021-08-12T02:40:48.571Z","comments":false,"path":"lab/index.html","permalink":"/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala","keywords":"Labå®éªŒå®¤"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2021-08-12T02:40:48.571Z","comments":true,"path":"links/index.html","permalink":"/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2021-08-12T02:40:48.572Z","comments":true,"path":"rss/index.html","permalink":"/rss/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2021-08-12T02:40:48.573Z","comments":true,"path":"tags/index.html","permalink":"/tags/index.html","excerpt":"","text":""},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2021-08-12T12:54:52.145Z","comments":false,"path":"music/index.html","permalink":"/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2021-08-12T02:40:48.573Z","comments":false,"path":"theme-sakura/index.html","permalink":"/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2021-08-12T02:40:48.568Z","comments":false,"path":"client/index.html","permalink":"/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2021-08-12T02:40:48.574Z","comments":false,"path":"video/index.html","permalink":"/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"macç³»ç»Ÿé‡åˆ°çš„å„ç§é—®é¢˜","slug":"mac","date":"2021-08-26T08:14:23.473Z","updated":"2021-08-26T08:24:05.995Z","comments":true,"path":"2021/08/26/mac/","link":"","permalink":"/2021/08/26/mac/","excerpt":"","text":"brewå¯åŠ¨mongodbæ—¶æŠ¥é”™ Error: Formula mongodb-community has not implemented #plist, #service or installed a locatable service file é¦–å…ˆä½¿ç”¨brew updateæ›´æ–°brew å¦‚æœè¿™æ—¶å€™æ„å¤–æŒ‰ä¸‹control+zï¼Œå†æ¬¡æ‰§è¡Œbrew updateä¼šæç¤º Error: Another active Homebrew update process is already in progress.Please wait for it to finish or terminate it to continue. è§£å†³åŠæ³• rm -rf /usr/local/var/homebrew/locks å†æ¬¡æ›´æ–°ï¼Œå¹¶å¯åŠ¨å‘ç°æˆåŠŸäº†","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"mac","slug":"mac","permalink":"/tags/mac/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"vueé¢è¯•é¢˜æ€»ç»“","slug":"vue-conclusion","date":"2021-08-17T08:27:17.475Z","updated":"2021-08-25T07:55:16.560Z","comments":true,"path":"2021/08/17/vue-conclusion/","link":"","permalink":"/2021/08/17/vue-conclusion/","excerpt":"","text":"åŸæ–‡ 1. vueæ¡†æ¶ç¯‡1.1 vueçš„ä¼˜ç‚¹ è½»é‡çº§æ¡†æ¶ï¼šåªå…³æ³¨è§†å›¾å±‚ï¼Œæ˜¯ä¸€ä¸ªæ„å»ºæ•°æ®çš„è§†å›¾é›†åˆï¼Œå¤§å°åªæœ‰å‡ åkbï¼› ç®€å•æ˜“å­¦ï¼šå›½äººå¼€å‘ï¼Œä¸­æ–‡æ–‡æ¡£ï¼Œä¸å­˜åœ¨è¯­è¨€éšœç¢ ï¼Œæ˜“äºç†è§£å’Œå­¦ä¹ ï¼› åŒå‘æ•°æ®ç»‘å®šï¼šä¿ç•™äº†angularçš„ç‰¹ç‚¹ï¼Œåœ¨æ•°æ®æ“ä½œæ–¹é¢æ›´ä¸ºç®€å•ï¼› ç»„ä»¶åŒ–ï¼šä¿ç•™äº†reactçš„ä¼˜ç‚¹ï¼Œå®ç°äº†htmlçš„å°è£…å’Œé‡ç”¨ï¼Œåœ¨æ„å»ºå•é¡µé¢åº”ç”¨æ–¹é¢æœ‰ç€ç‹¬ç‰¹çš„ä¼˜åŠ¿ï¼› è§†å›¾ï¼Œæ•°æ®ï¼Œç»“æ„åˆ†ç¦»ï¼šä½¿æ•°æ®çš„æ›´æ”¹æ›´ä¸ºç®€å•ï¼Œä¸éœ€è¦è¿›è¡Œé€»è¾‘ä»£ç çš„ä¿®æ”¹ï¼Œåªéœ€è¦æ“ä½œæ•°æ®å°±èƒ½å®Œæˆç›¸å…³æ“ä½œï¼› è™šæ‹ŸDOMï¼šdomæ“ä½œæ˜¯éå¸¸è€—è´¹æ€§èƒ½çš„ï¼Œä¸å†ä½¿ç”¨åŸç”Ÿçš„domæ“ä½œèŠ‚ç‚¹ï¼Œæå¤§è§£æ”¾domæ“ä½œï¼Œä½†å…·ä½“æ“ä½œçš„è¿˜æ˜¯domä¸è¿‡æ˜¯æ¢äº†å¦ä¸€ç§æ–¹å¼ï¼› è¿è¡Œé€Ÿåº¦æ›´å¿«:ç›¸æ¯”è¾ƒä¸reactè€Œè¨€ï¼ŒåŒæ ·æ˜¯æ“ä½œè™šæ‹Ÿdomï¼Œå°±æ€§èƒ½è€Œè¨€ï¼Œvueå­˜åœ¨å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚ 1.2 è¯·è¯¦ç»†è¯´ä¸‹ä½ å¯¹vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿæ€»å…±åˆ†ä¸º8ä¸ªé˜¶æ®µåˆ›å»ºå‰/åï¼Œè½½å…¥å‰/åï¼Œæ›´æ–°å‰/åï¼Œé”€æ¯å‰/åã€‚ åˆ›å»ºå‰/å åœ¨beforeCreateé˜¶æ®µï¼Œvueå®ä¾‹çš„æŒ‚è½½å…ƒç´ elå’Œæ•°æ®å¯¹è±¡dataéƒ½ä¸ºundefinedï¼Œè¿˜æœªåˆå§‹åŒ–ã€‚ åœ¨createdé˜¶æ®µï¼Œvueå®ä¾‹çš„æ•°æ®å¯¹è±¡dataæœ‰äº†ï¼Œelä¸ºundefinedï¼Œè¿˜æœªåˆå§‹åŒ–ã€‚ è½½å…¥å‰/åï¼š åœ¨beforeMounté˜¶æ®µï¼Œvueå®ä¾‹çš„$elå’Œdataéƒ½åˆå§‹åŒ–äº†ï¼Œä½†è¿˜æ˜¯æŒ‚è½½ä¹‹å‰ä¸ºè™šæ‹Ÿçš„domèŠ‚ç‚¹ï¼Œdata.messageè¿˜æœªæ›¿æ¢ã€‚ åœ¨mountedé˜¶æ®µï¼Œvueå®ä¾‹æŒ‚è½½å®Œæˆï¼Œdata.messageæˆåŠŸæ¸²æŸ“ã€‚ æ›´æ–°å‰/åï¼šå½“dataå˜åŒ–æ—¶ï¼Œä¼šè§¦å‘beforeUpdateå’Œupdatedæ–¹æ³• é”€æ¯å‰/åï¼šåœ¨æ‰§è¡Œdestroyæ–¹æ³•åï¼Œå¯¹dataçš„æ”¹å˜ä¸ä¼šå†è§¦å‘å‘¨æœŸå‡½æ•°ï¼Œè¯´æ˜æ­¤æ—¶vueå®ä¾‹å·²ç»è§£é™¤äº†äº‹ä»¶ç›‘å¬ä»¥åŠå’Œdomçš„ç»‘å®šï¼Œä½†æ˜¯domç»“æ„ä¾ç„¶å­˜åœ¨ 1.3 ä¸ºä»€ä¹ˆvueç»„ä»¶ä¸­dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ å¯¹è±¡ä¸ºå¼•ç”¨ç±»å‹ï¼Œå½“å¤ç”¨ç»„ä»¶æ—¶ï¼Œç”±äºæ•°æ®å¯¹è±¡éƒ½æŒ‡å‘åŒä¸€ä¸ªdataå¯¹è±¡ï¼Œå½“åœ¨ä¸€ä¸ªç»„ä»¶ä¸­ä¿®æ”¹dataæ—¶ï¼Œå…¶ä»–é‡ç”¨çš„ç»„ä»¶ä¸­çš„dataä¼šåŒæ—¶è¢«ä¿®æ”¹ï¼› è€Œä½¿ç”¨è¿”å›å¯¹è±¡çš„å‡½æ•°ï¼Œç”±äºæ¯æ¬¡è¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡ï¼ˆObjectçš„å®ä¾‹ï¼‰ï¼Œå¼•ç”¨åœ°å€ä¸åŒï¼Œåˆ™ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚ 1.4 vueä¸­v-ifå’Œv-showæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿv-ifå’Œv-showçœ‹èµ·æ¥ä¼¼ä¹å·®ä¸å¤šï¼Œå½“æ¡ä»¶ä¸æˆç«‹æ—¶ï¼Œå…¶æ‰€å¯¹åº”çš„æ ‡ç­¾å…ƒç´ éƒ½ä¸å¯è§ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªé€‰é¡¹æ˜¯æœ‰åŒºåˆ«çš„: æ‰‹æ®µï¼šv-ifæ˜¯é€šè¿‡æ§åˆ¶domèŠ‚ç‚¹çš„å­˜åœ¨ä¸å¦æ¥æ§åˆ¶å…ƒç´ çš„æ˜¾éšï¼›v-showæ˜¯é€šè¿‡è®¾ç½®DOMå…ƒç´ çš„displayæ ·å¼ï¼Œblockä¸ºæ˜¾ç¤ºï¼Œnoneä¸ºéšè—ï¼› ç¼–è¯‘è¿‡ç¨‹ï¼šv-ifåˆ‡æ¢æœ‰ä¸€ä¸ªå±€éƒ¨ç¼–è¯‘/å¸è½½çš„è¿‡ç¨‹ï¼Œåˆ‡æ¢è¿‡ç¨‹ä¸­åˆé€‚åœ°é”€æ¯å’Œé‡å»ºå†…éƒ¨çš„äº‹ä»¶ç›‘å¬å’Œå­ç»„ä»¶ï¼›v-showåªæ˜¯ç®€å•çš„åŸºäºcssåˆ‡æ¢ï¼› ç¼–è¯‘æ¡ä»¶ï¼šv-ifæ˜¯æƒ°æ€§çš„ï¼Œå¦‚æœåˆå§‹æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšï¼›åªæœ‰åœ¨æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶æ‰å¼€å§‹å±€éƒ¨ç¼–è¯‘ï¼ˆç¼–è¯‘è¢«ç¼“å­˜ï¼Ÿç¼–è¯‘è¢«ç¼“å­˜åï¼Œç„¶åå†åˆ‡æ¢çš„æ—¶å€™è¿›è¡Œå±€éƒ¨å¸è½½); v-showæ˜¯åœ¨ä»»ä½•æ¡ä»¶ä¸‹ï¼ˆé¦–æ¬¡æ¡ä»¶æ˜¯å¦ä¸ºçœŸï¼‰éƒ½è¢«ç¼–è¯‘ï¼Œç„¶åè¢«ç¼“å­˜ï¼Œè€Œä¸”DOMå…ƒç´ ä¿ç•™ï¼› æ€§èƒ½æ¶ˆè€—ï¼šv-ifæœ‰æ›´é«˜çš„åˆ‡æ¢æ¶ˆè€—ï¼›v-showæœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€—ï¼› ç”¨æ³•æ¨èï¼š v-ifæ›´é€‚åˆå¸¦æœ‰æƒé™çš„æ“ä½œï¼Œæ¸²æŸ“æ—¶åˆ¤æ–­æƒé™æ•°æ®ï¼Œæœ‰åˆ™å±•ç¤ºè¯¥åŠŸèƒ½ï¼Œæ²¡æœ‰åˆ™åˆ é™¤ã€‚ v-showæ›´é€‚åˆäºæ—¥å¸¸ä½¿ç”¨ï¼Œå¯ä»¥å‡å°‘æ•°æ®çš„æ¸²æŸ“ï¼Œå‡å°‘ä¸å¿…è¦çš„æ“ä½œã€‚ç»¼ä¸Šï¼Œv-ifæœ‰æ›´é«˜çš„åˆ‡æ¢æ¶ˆè€—ï¼Œè€Œv-showæœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€—ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢v-showè¾ƒå¥½ï¼Œå¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶ä¸å¤§å¯èƒ½æ”¹å˜ï¼Œæ›´å€¾å‘åŠŸèƒ½æƒé™æ€§çš„è¯v-ifè¾ƒå¥½ã€‚ 1.5 computedå’Œwatchçš„åŒºåˆ«1.5.1 è®¡ç®—å±æ€§computedï¼š æ”¯æŒç¼“å­˜ï¼Œåªæœ‰ä¾èµ–æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œæ‰ä¼šé‡æ–°è¿›è¡Œè®¡ç®— ä¸æ”¯æŒå¼‚æ­¥ï¼Œå½“computedå†…æœ‰å¼‚æ­¥æ“ä½œæ—¶æ— æ•ˆï¼Œæ— æ³•ç›‘å¬æ•°æ®çš„å˜åŒ– computed å±æ€§å€¼ä¼šé»˜è®¤èµ°ç¼“å­˜ï¼Œè®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„ï¼Œä¹Ÿå°±æ˜¯åŸºäºdataä¸­å£°æ˜è¿‡æˆ–è€…çˆ¶ç»„ä»¶ä¼ é€’çš„propsä¸­çš„æ•°æ®é€šè¿‡è®¡ç®—å¾—åˆ°çš„å€¼ å¦‚æœä¸€ä¸ªå±æ€§æ˜¯ç”±å…¶ä»–å±æ€§è®¡ç®—è€Œæ¥çš„ï¼Œè¿™ä¸ªå±æ€§ä¾èµ–å…¶ä»–å±æ€§ï¼Œæ˜¯ä¸€ä¸ªå¤šå¯¹ä¸€æˆ–è€…ä¸€å¯¹ä¸€ï¼Œä¸€èˆ¬ç”¨computed å¦‚æœcomputedå±æ€§å±æ€§å€¼æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆé»˜è®¤ä¼šèµ°getæ–¹æ³•ï¼›å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯å±æ€§çš„å±æ€§å€¼ï¼›åœ¨computedä¸­çš„ï¼Œå±æ€§éƒ½æœ‰ä¸€ä¸ªgetå’Œä¸€ä¸ªsetæ–¹æ³•ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œè°ƒç”¨setæ–¹æ³•ã€‚ 1.5.2 ä¾¦å¬å±æ€§watchï¼š ä¸æ”¯æŒç¼“å­˜ï¼Œæ•°æ®å˜ï¼Œç›´æ¥ä¼šè§¦å‘ç›¸åº”çš„æ“ä½œï¼› watchæ”¯æŒå¼‚æ­¥ï¼›ç›‘å¬çš„å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æœ€æ–°çš„å€¼ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¾“å…¥ä¹‹å‰çš„å€¼ï¼› å½“ä¸€ä¸ªå±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦æ‰§è¡Œå¯¹åº”çš„æ“ä½œï¼›ä¸€å¯¹å¤šï¼› ç›‘å¬æ•°æ®å¿…é¡»æ˜¯dataä¸­å£°æ˜è¿‡æˆ–è€…çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„propsä¸­çš„æ•°æ®ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œè§¦å‘å…¶ä»–æ“ä½œï¼Œå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼š immediateï¼šç»„ä»¶åŠ è½½ç«‹å³è§¦å‘å›è°ƒå‡½æ•°æ‰§è¡Œ watch: { firstName: { handler(newName, oldName) { this.fullName = newName + &#39; &#39; + this.lastName; }, // ä»£è¡¨åœ¨wacthé‡Œå£°æ˜äº†firstNameè¿™ä¸ªæ–¹æ³•ä¹‹åç«‹å³æ‰§è¡Œhandleræ–¹æ³• immediate: true } } deep: deepçš„æ„æ€å°±æ˜¯æ·±å…¥è§‚å¯Ÿï¼Œç›‘å¬å™¨ä¼šä¸€å±‚å±‚çš„å¾€ä¸‹éå†ï¼Œç»™å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½åŠ ä¸Šè¿™ä¸ªç›‘å¬å™¨ï¼Œä½†æ˜¯è¿™æ ·æ€§èƒ½å¼€é”€å°±ä¼šéå¸¸å¤§äº†ï¼Œä»»ä½•ä¿®æ”¹objé‡Œé¢ä»»ä½•ä¸€ä¸ªå±æ€§éƒ½ä¼šè§¦å‘è¿™ä¸ªç›‘å¬å™¨é‡Œçš„ handlerwatch: { obj: { handler(newName, oldName) { console.log(&#39;obj.a changed&#39;); }, immediate: true, deep: true } } ä¼˜åŒ–ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²çš„å½¢å¼ç›‘å¬ watch: { &#39;obj.a&#39;: { handler(newName, oldName) { console.log(&#39;obj.a changed&#39;); }, immediate: true, // deep: true } } è¿™æ ·Vue.jsæ‰ä¼šä¸€å±‚ä¸€å±‚è§£æä¸‹å»ï¼Œç›´åˆ°é‡åˆ°å±æ€§aï¼Œç„¶åæ‰ç»™aè®¾ç½®ç›‘å¬å‡½æ•°ã€‚ 1.6 vue-loaderæ˜¯ä»€ä¹ˆï¼Ÿä½¿ç”¨å®ƒçš„ç”¨é€”æœ‰å“ªäº›ï¼Ÿvueæ–‡ä»¶çš„ä¸€ä¸ªåŠ è½½å™¨ï¼Œè·Ÿtemplate/js/styleè½¬æ¢æˆjsæ¨¡å—ã€‚ 1.7 $nextTickæ˜¯ä»€ä¹ˆï¼Ÿvueå®ç°å“åº”å¼å¹¶ä¸æ˜¯æ•°æ®å‘ç”Ÿå˜åŒ–ådomç«‹å³å˜åŒ–ï¼Œè€Œæ˜¯æŒ‰ç…§ä¸€å®šçš„ç­–ç•¥æ¥è¿›è¡Œdomæ›´æ–°ã€‚ nextTick æ˜¯åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œåœ¨ä¿®æ”¹æ•°æ®ä¹‹åä½¿ç”¨nextTickï¼Œåˆ™å¯ä»¥åœ¨å›è°ƒä¸­è·å–æ›´æ–°åçš„ DOM 1.8 v-for keyçš„ä½œç”¨ å½“Vueç”¨ v-for æ­£åœ¨æ›´æ–°å·²æ¸²æŸ“è¿‡çš„å…ƒç´ åˆ—è¡¨æ—¶ï¼Œå®ƒé»˜è®¤ç”¨å°±åœ°å¤ç”¨ç­–ç•¥ã€‚å¦‚æœæ•°æ®é¡¹çš„é¡ºåºè¢«æ”¹å˜ï¼ŒVueå°†ä¸æ˜¯ç§»åŠ¨DOMå…ƒç´ æ¥åŒ¹é…æ•°æ®é¡¹çš„æ”¹å˜ï¼Œè€Œæ˜¯ç®€å•å¤ç”¨æ­¤å¤„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ç¡®ä¿å®ƒåœ¨ç‰¹å®šç´¢å¼•ä¸‹æ˜¾ç¤ºå·²è¢«æ¸²æŸ“è¿‡çš„æ¯ä¸ªå…ƒç´ ã€‚ ä¸ºäº†ç»™Vueä¸€ä¸ªæç¤ºï¼Œä»¥ä¾¿å®ƒèƒ½è·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ï¼Œä»è€Œé‡ç”¨å’Œé‡æ–°æ’åºç°æœ‰å…ƒç´ ï¼Œä½ éœ€è¦ä¸ºæ¯é¡¹æä¾›ä¸€ä¸ªå”¯ä¸€ key å±æ€§ã€‚keyå±æ€§çš„ç±»å‹åªèƒ½ä¸º stringæˆ–è€…numberç±»å‹ã€‚ key çš„ç‰¹æ®Šå±æ€§ä¸»è¦ç”¨åœ¨Vueçš„è™šæ‹ŸDOMç®—æ³•ï¼Œåœ¨æ–°æ—§nodeså¯¹æ¯”æ—¶è¾¨è¯†VNodesã€‚å¦‚æœä¸ä½¿ç”¨ keyï¼ŒVueä¼šä½¿ç”¨ä¸€ç§æœ€å¤§é™åº¦å‡å°‘åŠ¨æ€å…ƒç´ å¹¶ä¸”å°½å¯èƒ½çš„å°è¯•ä¿®å¤/å†åˆ©ç”¨ç›¸åŒç±»å‹å…ƒç´ çš„ç®—æ³•ã€‚ä½¿ç”¨keyï¼Œå®ƒä¼šåŸºäºkeyçš„å˜åŒ–é‡æ–°æ’åˆ—å…ƒç´ é¡ºåºï¼Œå¹¶ä¸”ä¼šç§»é™¤ key ä¸å­˜åœ¨çš„å…ƒç´ ã€‚ 1.9 ç®€è¿°MVVM MVVMæ˜¯ Model-View-ViewModel çš„ç¼©å†™ã€‚MVVM æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ã€‚ Modelå±‚ ä»£è¡¨æ•°æ®æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥åœ¨Modelä¸­å®šä¹‰æ•°æ®ä¿®æ”¹å’Œæ“ä½œçš„ä¸šåŠ¡é€»è¾‘Viewå±‚ ä»£è¡¨UIç»„ä»¶ï¼Œå®ƒè´Ÿè´£å°†æ•°æ®æ¨¡å‹è½¬åŒ–æˆUIå±•ç°å‡ºæ¥ViewModel æ˜¯ä¸€ä¸ªåŒæ­¥ View å’Œ Model çš„å¯¹è±¡ã€‚ åœ¨ MVVM æ¶æ„ä¸‹ï¼Œ Viewå’Œ Model ä¹‹é—´å¹¶æ²¡æœ‰ç›´æ¥çš„è”ç³»ï¼Œè€Œæ˜¯é€šè¿‡ViewModelè¿›è¡Œäº¤äº’ï¼ŒModelå’ŒViewModelä¹‹é—´çš„äº¤äº’æ˜¯åŒå‘çš„ï¼Œå› æ­¤Viewæ•°æ®çš„å˜åŒ–ä¼šåŒæ­¥åˆ°Modelä¸­ï¼Œè€ŒModelæ•°æ®çš„å˜åŒ–ä¹Ÿä¼šç«‹å³åæ˜ åˆ°Viewä¸Šã€‚ ViewModelé€šè¿‡åŒå‘æ•°æ®ç»‘å®šæŠŠViewå±‚å’ŒModelå±‚è¿æ¥äº†èµ·æ¥ï¼Œè€ŒViewå’ŒModelä¹‹é—´çš„åŒæ­¥å·¥ä½œå®Œå…¨æ˜¯è‡ªåŠ¨çš„ï¼Œæ— éœ€äººä¸ºå¹²æ¶‰ï¼Œå› æ­¤å¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ“ä½œDOMï¼Œä¸éœ€è¦å…³æ³¨æ•°æ®çŠ¶æ€çš„åŒæ­¥é—®é¢˜ï¼Œå¤æ‚çš„æ•°æ®çŠ¶æ€ç»´æŠ¤å®Œå…¨ç”±MVVMæ¥ç»Ÿä¸€ç®¡ç†ã€‚ 1.10 Vueçš„åŒå‘æ•°æ®ç»‘å®šåŸç†æ˜¯ä»€ä¹ˆï¼Ÿvue.js æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡Object.defineProperty()æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterï¼Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒã€‚ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š éœ€è¦observerçš„æ•°æ®å¯¹è±¡è¿›è¡Œé€’å½’éå†ï¼ŒåŒ…æ‹¬å­å±æ€§å¯¹è±¡çš„å±æ€§ï¼Œéƒ½åŠ ä¸Šsetterå’Œgetterè¿™æ ·çš„è¯ï¼Œç»™è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªå€¼èµ‹å€¼ï¼Œå°±ä¼šè§¦å‘setterï¼Œé‚£ä¹ˆå°±èƒ½ç›‘å¬åˆ°äº†æ•°æ®å˜åŒ– compilerè§£ææ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­çš„å˜é‡æ›¿æ¢æˆæ•°æ®ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾ï¼Œå¹¶å°†æ¯ä¸ªæŒ‡ä»¤å¯¹åº”çš„èŠ‚ç‚¹ç»‘å®šæ›´æ–°å‡½æ•°ï¼Œæ·»åŠ ç›‘å¬æ•°æ®çš„è®¢é˜…è€…ï¼Œä¸€æ—¦æ•°æ®æœ‰å˜åŠ¨ï¼Œæ”¶åˆ°é€šçŸ¥ï¼Œæ›´æ–°è§†å›¾ Watcherè®¢é˜…è€…æ˜¯Observerå’ŒCompilerä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ï¼Œä¸»è¦åšçš„äº‹æƒ…æ˜¯: åœ¨è‡ªèº«å®ä¾‹åŒ–æ—¶å¾€å±æ€§è®¢é˜…å™¨(dep)é‡Œé¢æ·»åŠ è‡ªå·± è‡ªèº«å¿…é¡»æœ‰ä¸€ä¸ªupdate()æ–¹æ³• å¾…å±æ€§å˜åŠ¨dep.notice()é€šçŸ¥æ—¶ï¼Œèƒ½è°ƒç”¨è‡ªèº«çš„update()æ–¹æ³•ï¼Œå¹¶è§¦å‘Compileä¸­ç»‘å®šçš„å›è°ƒï¼Œåˆ™åŠŸæˆèº«é€€ã€‚ MVVMä½œä¸ºæ•°æ®ç»‘å®šçš„å…¥å£ï¼Œæ•´åˆObserverã€Compileå’ŒWatcherä¸‰è€…ï¼Œé€šè¿‡Observeræ¥ç›‘å¬è‡ªå·±çš„modelæ•°æ®å˜åŒ–ï¼Œé€šè¿‡Compileæ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼Œæœ€ç»ˆåˆ©ç”¨Watcheræ­èµ·Observerå’ŒCompileä¹‹é—´çš„é€šä¿¡æ¡¥æ¢ï¼Œè¾¾åˆ°æ•°æ®å˜åŒ– -&gt; è§†å›¾æ›´æ–°ï¼›è§†å›¾äº¤äº’å˜åŒ–(input) -&gt; æ•°æ®modelå˜æ›´çš„åŒå‘ç»‘å®šæ•ˆæœã€‚ vueåŒå‘ç»‘å®šåŸç† 1.11 ç»„ä»¶ä¼ å€¼1.11.1 çˆ¶ä¼ å­é€šè¿‡propsä¼ é€’ çˆ¶ç»„ä»¶ï¼š &lt;child value = &#39;ä¼ é€’çš„æ•°æ®&#39; /&gt; å­ç»„ä»¶: props[&#39;value&#39;],æ¥æ”¶æ•°æ®,æ¥å—ä¹‹åä½¿ç”¨å’Œdataä¸­å®šä¹‰æ•°æ®ä½¿ç”¨æ–¹å¼ä¸€æ · 1.11.2 å­ä¼ çˆ¶åœ¨çˆ¶ç»„ä»¶ä¸­ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰çš„äº‹ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡$emit()è§¦å‘è¯¥äº‹ä»¶å¹¶ä¼ å€¼ã€‚ çˆ¶ç»„ä»¶ï¼š &lt;child @receive = &#39;receive&#39; /&gt; å­ç»„ä»¶: this.$emit(&#39;receive&#39;,&#39;ä¼ é€’çš„æ•°æ®&#39;) 1.11.3 å…„å¼Ÿç»„ä»¶ä¼ å€¼ é€šè¿‡ä¸­å¤®é€šä¿¡ let bus = new Vue() Aï¼šmethods :{ å‡½æ•°{bus.$emit(â€˜è‡ªå®šä¹‰äº‹ä»¶åâ€™ï¼Œæ•°æ®)} å‘é€ Bï¼šcreated ï¼ˆï¼‰{bus.$on(â€˜Aå‘é€è¿‡æ¥çš„è‡ªå®šä¹‰äº‹ä»¶åâ€™ï¼Œå‡½æ•°)} è¿›è¡Œæ•°æ®æ¥æ”¶ é€šè¿‡vuex 1.12 prop éªŒè¯ï¼Œå’Œé»˜è®¤å€¼æˆ‘ä»¬åœ¨çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šè¯¥propsçš„é»˜è®¤å€¼åŠç±»å‹ï¼Œå½“ä¼ é€’æ•°æ®ç±»å‹ä¸æ­£ç¡®çš„æ—¶å€™ï¼Œvueä¼šå‘å‡ºè­¦å‘Š props: { visible: { default: true, type: Boolean, required: true }, } 1.13 è¯·è¯´ä¸‹å°è£… vue ç»„ä»¶çš„è¿‡ç¨‹ é¦–å…ˆï¼Œç»„ä»¶å¯ä»¥æå‡æ•´ä¸ªé¡¹ç›®çš„å¼€å‘æ•ˆç‡ã€‚èƒ½å¤ŸæŠŠé¡µé¢æŠ½è±¡æˆå¤šä¸ªç›¸å¯¹ç‹¬ç«‹çš„æ¨¡å—ï¼Œè§£å†³äº†æˆ‘ä»¬ä¼ ç»Ÿé¡¹ç›®å¼€å‘ï¼šæ•ˆç‡ä½ã€éš¾ç»´æŠ¤ã€å¤ç”¨æ€§ç­‰é—®é¢˜ã€‚ ç„¶åï¼Œä½¿ç”¨Vue.extendæ–¹æ³•åˆ›å»ºä¸€ä¸ªç»„ä»¶ï¼Œç„¶åä½¿ç”¨Vue.componentæ–¹æ³•æ³¨å†Œç»„ä»¶ã€‚å­ç»„ä»¶éœ€è¦æ•°æ®ï¼Œå¯ä»¥åœ¨propsä¸­æ¥å—å®šä¹‰ã€‚è€Œå­ç»„ä»¶ä¿®æ”¹å¥½æ•°æ®åï¼Œæƒ³æŠŠæ•°æ®ä¼ é€’ç»™çˆ¶ç»„ä»¶ã€‚å¯ä»¥é‡‡ç”¨emitæ–¹æ³•ã€‚ &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;vueç»„ä»¶&lt;/title&gt; &lt;script src=&quot;vue.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;app1&quot;&gt; &lt;my-com&gt;&lt;/my-com&gt; &lt;/div&gt; &lt;div id=&quot;app2&quot;&gt; &lt;my-com&gt;&lt;/my-com&gt; &lt;/div&gt; &lt;script&gt; /*åˆ›å»ºç»„ä»¶*/ var myCom = Vue.extend({ template: &#39;&lt;div&gt;è¿™æ˜¯æˆ‘çš„ç»„ä»¶&lt;/div&gt;&#39; }); /*å…¨å±€æ³¨å†Œç»„ä»¶*/ Vue.component(&#39;my-com&#39;,myCom); /*å®šä¹‰vueå®ä¾‹app1*/ var app1 = new Vue({ el: &#39;#app1&#39; }); /*å®šä¹‰vueå®ä¾‹app2*/ var app2 = new Vue({ el: &#39;#app2&#39; }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; 1.14 Vue.jsçš„templateç¼–è¯‘ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å…ˆè½¬åŒ–æˆASTæ ‘ï¼Œå†å¾—åˆ°çš„renderå‡½æ•°è¿”å›VNodeï¼ˆVueçš„è™šæ‹ŸDOMèŠ‚ç‚¹ï¼‰ï¼Œè¯¦ç»†æ­¥éª¤å¦‚ä¸‹ï¼š é¦–å…ˆï¼Œé€šè¿‡compileç¼–è¯‘å™¨æŠŠtemplateç¼–è¯‘æˆASTè¯­æ³•æ ‘ï¼ˆabstract syntax tree å³ æºä»£ç çš„æŠ½è±¡è¯­æ³•ç»“æ„çš„æ ‘çŠ¶è¡¨ç°å½¢å¼ï¼‰ï¼Œcompileæ˜¯createCompilerçš„è¿”å›å€¼ï¼ŒcreateCompileræ˜¯ç”¨ä»¥åˆ›å»ºç¼–è¯‘å™¨çš„ã€‚å¦å¤–compileè¿˜è´Ÿè´£åˆå¹¶optionã€‚ ç„¶åï¼ŒASTä¼šç»è¿‡generateï¼ˆå°†ASTè¯­æ³•æ ‘è½¬åŒ–æˆrender funtionå­—ç¬¦ä¸²çš„è¿‡ç¨‹ï¼‰å¾—åˆ°renderå‡½æ•°ï¼Œrenderçš„è¿”å›å€¼æ˜¯VNodeï¼ŒVNodeæ˜¯Vueçš„è™šæ‹ŸDOMèŠ‚ç‚¹ï¼Œé‡Œé¢æœ‰ï¼ˆæ ‡ç­¾åã€å­èŠ‚ç‚¹ã€æ–‡æœ¬ç­‰ç­‰ï¼‰ 1.15 scssæ˜¯ä»€ä¹ˆï¼Ÿåœ¨vue.cliä¸­çš„å®‰è£…ä½¿ç”¨æ­¥éª¤æ˜¯ï¼Ÿæœ‰å“ªå‡ å¤§ç‰¹æ€§ï¼Ÿcssçš„é¢„ç¼–è¯‘,ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š ç¬¬ä¸€æ­¥ï¼šç”¨npm ä¸‹ä¸‰ä¸ªloaderï¼ˆsass-loaderã€css-loaderã€node-sassï¼‰ ç¬¬äºŒæ­¥ï¼šåœ¨buildç›®å½•æ‰¾åˆ°webpack.base.config.jsï¼Œåœ¨é‚£ä¸ªextendså±æ€§ä¸­åŠ ä¸€ä¸ªæ‹“å±•.scss ç¬¬ä¸‰æ­¥ï¼šè¿˜æ˜¯åœ¨åŒä¸€ä¸ªæ–‡ä»¶ï¼Œé…ç½®ä¸€ä¸ªmoduleå±æ€§ ç¬¬å››æ­¥ï¼šç„¶ååœ¨ç»„ä»¶çš„styleæ ‡ç­¾åŠ ä¸Šlangå±æ€§ ï¼Œä¾‹å¦‚ï¼šlang=â€scssâ€ ç‰¹æ€§ä¸»è¦æœ‰: å¯ä»¥ç”¨å˜é‡ï¼Œä¾‹å¦‚ï¼ˆ$å˜é‡åç§°=å€¼ï¼‰ å¯ä»¥ç”¨æ··åˆå™¨ï¼Œä¾‹å¦‚ï¼ˆï¼‰ å¯ä»¥åµŒå¥— 1.16 vueå¦‚ä½•ç›‘å¬å¯¹è±¡æˆ–è€…æ•°ç»„æŸä¸ªå±æ€§çš„å˜åŒ–å½“åœ¨é¡¹ç›®ä¸­ç›´æ¥è®¾ç½®æ•°ç»„çš„æŸä¸€é¡¹çš„å€¼ï¼Œæˆ–è€…ç›´æ¥è®¾ç½®å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä½ ä¼šå‘ç°é¡µé¢å¹¶æ²¡æœ‰æ›´æ–°ã€‚è¿™æ˜¯å› ä¸ºObject.defineProperty()é™åˆ¶ï¼Œç›‘å¬ä¸åˆ°å˜åŒ–ã€‚è§£å†³æ–¹å¼ï¼š this.$set(ä½ è¦æ”¹å˜çš„æ•°ç»„/å¯¹è±¡ï¼Œä½ è¦æ”¹å˜çš„ä½ç½®/keyï¼Œä½ è¦æ”¹æˆä»€ä¹ˆvalue) this.$set(this.arr, 0, &quot;OBKoro1&quot;); // æ”¹å˜æ•°ç»„ this.$set(this.obj, &quot;c&quot;, &quot;OBKoro1&quot;); // æ”¹å˜å¯¹è±¡ è°ƒç”¨ä»¥ä¸‹å‡ ä¸ªæ•°ç»„çš„æ–¹æ³• splice()ã€ push()ã€pop()ã€shift()ã€unshift()ã€sort()ã€reverse() vueæºç é‡Œç¼“å­˜äº†arrayçš„åŸå‹é“¾ï¼Œç„¶åé‡å†™äº†è¿™å‡ ä¸ªæ–¹æ³•ï¼Œè§¦å‘è¿™å‡ ä¸ªæ–¹æ³•çš„æ—¶å€™ä¼šobserveræ•°æ®ï¼Œæ„æ€æ˜¯ä½¿ç”¨è¿™äº›æ–¹æ³•ä¸ç”¨æˆ‘ä»¬å†è¿›è¡Œé¢å¤–çš„æ“ä½œï¼Œè§†å›¾è‡ªåŠ¨è¿›è¡Œæ›´æ–°ã€‚ æ¨èä½¿ç”¨spliceæ–¹æ³•ä¼šæ¯”è¾ƒå¥½è‡ªå®šä¹‰,å› ä¸ºspliceå¯ä»¥åœ¨æ•°ç»„çš„ä»»ä½•ä½ç½®è¿›è¡Œåˆ é™¤/æ·»åŠ æ“ä½œ 1.17 å¸¸ç”¨çš„äº‹ä»¶ä¿®é¥°ç¬¦ .stop:é˜»æ­¢å†’æ³¡ .prevent:é˜»æ­¢é»˜è®¤è¡Œä¸º. .self:ä»…ç»‘å®šå…ƒç´ è‡ªèº«è§¦å‘ .once: 2.1.4 æ–°å¢,åªè§¦å‘ä¸€æ¬¡ .passive: 2.3.0 æ–°å¢,æ»šåŠ¨äº‹ä»¶çš„é»˜è®¤è¡Œä¸º (å³æ»šåŠ¨è¡Œä¸º) å°†ä¼šç«‹å³è§¦å‘,ä¸èƒ½å’Œ.prevent ä¸€èµ·ä½¿ç”¨ .sync ä¿®é¥°ç¬¦ ä» 2.3.0 èµ·vueé‡æ–°å¼•å…¥äº†.syncä¿®é¥°ç¬¦ï¼Œä½†æ˜¯è¿™æ¬¡å®ƒåªæ˜¯ä½œä¸ºä¸€ä¸ªç¼–è¯‘æ—¶çš„è¯­æ³•ç³–å­˜åœ¨ã€‚å®ƒä¼šè¢«æ‰©å±•ä¸ºä¸€ä¸ªè‡ªåŠ¨æ›´æ–°çˆ¶ç»„ä»¶å±æ€§çš„ v-on ç›‘å¬å™¨ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š &lt;comp :foo.sync=&quot;bar&quot;&gt;&lt;/comp&gt; ä¼šè¢«æ‰©å±•ä¸ºï¼š &lt;comp :foo=&quot;bar&quot; @update:foo=&quot;val =&gt; bar = val&quot;&gt;&lt;/comp&gt; å½“å­ç»„ä»¶éœ€è¦æ›´æ–° foo çš„å€¼æ—¶ï¼Œå®ƒéœ€è¦æ˜¾å¼åœ°è§¦å‘ä¸€ä¸ªæ›´æ–°äº‹ä»¶ï¼š this.$emit(&#39;update:foo&#39;, newValue) vueä¸­.syncä¿®é¥°ç¬¦ 1.18 vueå¦‚ä½•è·å–domå…ˆç»™æ ‡ç­¾è®¾ç½®ä¸€ä¸ªrefå€¼ï¼Œå†é€šè¿‡this.$refs.domNameè·å–ï¼Œä¾‹å¦‚ï¼š &lt;div ref=&quot;test&quot;&gt;&lt;/div&gt; const dom = this.$refs.test 1.19 v-onå¯ä»¥ç›‘å¬å¤šä¸ªæ–¹æ³•å—ï¼Ÿæ˜¯å¯ä»¥çš„ï¼Œæ¥ä¸ªä¾‹å­ï¼š &lt;input type=&quot;text&quot; v-on=&quot;{ input:onInput,focus:onFocus,blur:onBlur, }&quot;&gt; 1.20 assetså’Œstaticçš„åŒºåˆ«è¿™ä¸¤ä¸ªéƒ½æ˜¯ç”¨æ¥å­˜æ”¾é¡¹ç›®ä¸­æ‰€ä½¿ç”¨çš„é™æ€èµ„æºæ–‡ä»¶ã€‚ ä¸¤è€…çš„åŒºåˆ«ï¼š assetsä¸­çš„æ–‡ä»¶åœ¨è¿è¡Œnpm run buildçš„æ—¶å€™ä¼šæ‰“åŒ…ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¼šè¢«å‹ç¼©ä½“ç§¯ï¼Œä»£ç æ ¼å¼åŒ–ä¹‹ç±»çš„ã€‚æ‰“åŒ…ä¹‹åä¹Ÿä¼šæ”¾åˆ°staticä¸­ã€‚ staticä¸­çš„æ–‡ä»¶åˆ™ä¸ä¼šè¢«æ‰“åŒ…ã€‚ å»ºè®®ï¼šå°†å›¾ç‰‡ç­‰æœªå¤„ç†çš„æ–‡ä»¶æ”¾åœ¨assetsä¸­ï¼Œæ‰“åŒ…å‡å°‘ä½“ç§¯ã€‚è€Œå¯¹äºç¬¬ä¸‰æ–¹å¼•å…¥çš„ä¸€äº›èµ„æºæ–‡ä»¶å¦‚iconfont.cssç­‰å¯ä»¥æ”¾åœ¨staticä¸­ï¼Œå› ä¸ºè¿™äº›æ–‡ä»¶å·²ç»ç»è¿‡å¤„ç†äº†ã€‚ 1.21slotæ’æ§½å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å°è£…äº†ä¸€ä¸ªå­ç»„ä»¶ä¹‹åï¼Œåœ¨çˆ¶ç»„ä»¶ä½¿ç”¨çš„æ—¶å€™ï¼Œæƒ³æ·»åŠ ä¸€äº›domå…ƒç´ ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨slotæ’æ§½äº†ï¼Œä½†æ˜¯è¿™äº›domæ˜¯å¦æ˜¾ç¤ºä»¥åŠåœ¨å“ªé‡Œæ˜¾ç¤ºï¼Œåˆ™æ˜¯çœ‹å­ç»„ä»¶ä¸­slotç»„ä»¶çš„ä½ç½®äº†ã€‚ ä»¥ä¸‹ä¸ºè¯¦ç»†æ‰©å±• 1.21.1 æ’æ§½æ˜¯ä»€ä¹ˆ å†™ä¸ªçˆ¶ç»„ä»¶ï¼štest.vue &lt;template&gt; &lt;div&gt; &lt;div&gt;å¤§å®¶å¥½æˆ‘æ˜¯çˆ¶ç»„ä»¶&lt;/div&gt; &lt;myslot&gt; &lt;p&gt;æµ‹è¯•ä¸€ä¸‹å§å†…å®¹å†™åœ¨è¿™é‡Œäº†èƒ½å¦æ˜¾ç¤º&lt;/p&gt; &lt;/myslot&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import myslot from &#39;./myslot&#39;; export default { components: { myslot } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; å†™ä¸ªå­ç»„ä»¶ï¼šmyslot.vue &lt;template&gt; &lt;div&gt; &lt;div&gt;æˆ‘æ˜¯å­ç»„ä»¶&lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; &lt;/script&gt; &lt;style&gt; &lt;/style&gt; è¿è¡Œä»£ç ï¼Œå‘ç°ï¼Œæœ€ç»ˆæ¸²æŸ“çš„æ•ˆæœæ˜¯ å¤§å®¶å¥½æˆ‘æ˜¯çˆ¶ç»„ä»¶ æˆ‘æ˜¯å­ç»„ä»¶ é‚£å¦‚æœæˆ‘æƒ³å®ç°æ˜¾ç¤ºçˆ¶ç»„ä»¶ä¸­pæ ‡ç­¾çš„å†…å®¹æ€ä¹ˆåŠ ä¿®æ”¹å­ç»„ä»¶ï¼šmyslot.vue &lt;template&gt; &lt;div&gt; &lt;div&gt;æˆ‘æ˜¯å­ç»„ä»¶&lt;/div&gt; &lt;p&gt;ç°åœ¨æµ‹è¯•ä¸€ä¸‹slot&lt;/p&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; &lt;/script&gt; &lt;style&gt; &lt;/style&gt; è¿è¡Œä»£ç ï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹æ•ˆæœ å¤§å®¶å¥½æˆ‘æ˜¯çˆ¶ç»„ä»¶æˆ‘æ˜¯å­ç»„ä»¶ç°åœ¨æµ‹è¯•ä¸€ä¸‹slotæµ‹è¯•ä¸€ä¸‹å§å†…å®¹å†™åœ¨è¿™é‡Œäº†èƒ½å¦æ˜¾ç¤º å®˜æ–¹æ–‡æ¡£å¯¹äºæ’æ§½çš„åº”ç”¨åœºæ™¯æ˜¯è¿™æ ·æè¿°çš„: æˆ‘ä»¬ç»å¸¸éœ€è¦å‘ä¸€ä¸ªç»„ä»¶ä¼ é€’å†…å®¹ Vue è‡ªå®šä¹‰çš„ &lt;slot&gt; å…ƒç´ è®©è¿™å˜å¾—éå¸¸ç®€å• åªè¦åœ¨éœ€è¦çš„åœ°æ–¹åŠ å…¥æ’æ§½å°±è¡Œäº†â€”â€”å°±è¿™ä¹ˆç®€å•ï¼ç»“åˆä¸Šé¢çš„ä¾‹å­æ¥ç†è§£å°±æ˜¯è¿™æ ·çš„ï¼š çˆ¶ç»„ä»¶åœ¨å¼•ç”¨å­ç»„ä»¶æ—¶å¸Œæœ›å‘å­ç»„ä»¶ä¼ é€’æ¨¡æ¿å†…å®¹&lt;p&gt;æµ‹è¯•ä¸€ä¸‹å§å†…å®¹å†™åœ¨è¿™é‡Œäº†èƒ½å¦æ˜¾ç¤º&lt;/p&gt; å­ç»„ä»¶è®©çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„æ¨¡æ¿å†…å®¹åœ¨æ‰€åœ¨çš„ä½ç½®æ˜¾ç¤º å­ç»„ä»¶ä¸­çš„&lt;slot&gt;å°±æ˜¯ä¸€ä¸ªæ§½ï¼Œå¯ä»¥æ¥æ”¶çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„æ¨¡æ¿å†…å®¹ï¼Œ&lt;slot&gt; å…ƒç´ è‡ªèº«å°†è¢«æ›¿æ¢ &lt;myslot&gt;&lt;/myslot&gt;ç»„ä»¶æ²¡æœ‰åŒ…å«ä¸€ä¸ª &lt;slot&gt; å…ƒç´ ï¼Œåˆ™è¯¥ç»„ä»¶èµ·å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ä¹‹é—´çš„ä»»ä½•å†…å®¹éƒ½ä¼šè¢«æŠ›å¼ƒ 1.21.2 æ’æ§½çš„ä½œç”¨è®©ç”¨æˆ·å¯ä»¥æ‹“å±•ç»„ä»¶ï¼Œå»æ›´å¥½åœ°å¤ç”¨ç»„ä»¶å’Œå¯¹å…¶åšå®šåˆ¶åŒ–å¤„ç† 1.21.3 æ’æ§½çš„åˆ†ç±»1.21.3.1 é»˜è®¤æ’æ§½åœ¨ä¸€ä¸ª &lt;submit-button&gt; ç»„ä»¶ä¸­ï¼š &lt;button type=&quot;submit&quot;&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/button&gt; æˆ‘ä»¬å¯èƒ½å¸Œæœ›è¿™ä¸ª &lt;button&gt; å†…ç»å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ¸²æŸ“æ–‡æœ¬â€œSubmitâ€ï¼Œä½†æ˜¯æœ‰æ—¶å€™å´å¸Œæœ›æ¸²æŸ“æ–‡æœ¬ä¸ºåˆ«çš„ä¸œè¥¿ï¼Œé‚£æ€ä¹ˆå®ç°å‘¢ï¼Ÿ æˆ‘ä»¬å¯ä»¥å°†â€œSubmitâ€ä½œä¸ºåå¤‡å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒæ”¾åœ¨ &lt;slot&gt; æ ‡ç­¾å†…ï¼š&lt;button type=&quot;submit&quot;&gt; &lt;slot&gt;Submit&lt;/slot&gt; &lt;/button&gt; ç°åœ¨å½“æˆ‘åœ¨ä¸€ä¸ªçˆ¶çº§ç»„ä»¶ä¸­ä½¿ç”¨ &lt;submit-button&gt; å¹¶ä¸”ä¸æä¾›ä»»ä½•æ’æ§½å†…å®¹æ—¶ï¼š &lt;submit-button&gt;&lt;/submit-button&gt; åå¤‡å†…å®¹â€œSubmitâ€å°†ä¼šè¢«æ¸²æŸ“ï¼š &lt;button type=&quot;submit&quot;&gt; Submit &lt;/button&gt; ä½†æ˜¯å¦‚æœæˆ‘ä»¬æä¾›å†…å®¹ï¼š &lt;submit-button&gt; Save &lt;/submit-button&gt; åˆ™è¿™ä¸ªæä¾›çš„å†…å®¹å°†ä¼šè¢«æ¸²æŸ“ä»è€Œå–ä»£åå¤‡å†…å®¹ï¼š &lt;button type=&quot;submit&quot;&gt; Save &lt;/button&gt; 1.21.3.2 å…·åæ’æ§½æœ‰æ—¶æˆ‘ä»¬å†™äº†ä¸€ä¸ªå­ç»„ä»¶ï¼Œæˆ‘ä»¬å¸Œæœ› &lt;template&gt; &lt;div class=&quot;container&quot;&gt; &lt;header&gt; &lt;!-- æˆ‘ä»¬å¸Œæœ›æŠŠé¡µå¤´æ”¾è¿™é‡Œ --&gt; &lt;/header&gt; &lt;main&gt; &lt;!-- æˆ‘ä»¬å¸Œæœ›æŠŠä¸»è¦å†…å®¹æ”¾è¿™é‡Œ --&gt; &lt;/main&gt; &lt;footer&gt; &lt;!-- æˆ‘ä»¬å¸Œæœ›æŠŠé¡µè„šæ”¾è¿™é‡Œ --&gt; &lt;/footer&gt; &lt;/div&gt; &lt;/template&gt; å¯¹äºè¿™æ ·çš„æƒ…å†µï¼Œ&lt;slot&gt; å…ƒç´ æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ attributeï¼šnameã€‚è¿™ä¸ª attribute å¯ä»¥ç”¨æ¥å®šä¹‰é¢å¤–çš„æ’æ§½ï¼š &lt;template&gt; &lt;div class=&quot;container&quot;&gt; &lt;header&gt; &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt; &lt;/header&gt; &lt;main&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/main&gt; &lt;footer&gt; &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt; &lt;/footer&gt; &lt;/div&gt; &lt;/template&gt; ä¸€ä¸ªä¸å¸¦ name çš„ &lt;slot&gt; å‡ºå£ä¼šå¸¦æœ‰éšå«çš„åå­—â€œdefaultâ€ã€‚ çˆ¶ç»„ä»¶åœ¨å‘å…·åæ’æ§½æä¾›å†…å®¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ª &lt;template&gt; å…ƒç´ ä¸Šä½¿ç”¨ v-slot æŒ‡ä»¤ï¼Œå¹¶ä»¥ v-slot çš„å‚æ•°çš„å½¢å¼æä¾›å…¶åç§°ï¼š &lt;template&gt; &lt;myslot&gt; &lt;div&gt;å¤§å®¶å¥½æˆ‘æ˜¯çˆ¶ç»„ä»¶&lt;/div&gt; &lt;template v-slot:header&gt; &lt;h1&gt;Here might be a page title&lt;/h1&gt; &lt;/template&gt; &lt;p&gt;A paragraph for the main content.&lt;/p&gt; &lt;p&gt;And another one.&lt;/p&gt; &lt;template v-slot:footer&gt; &lt;p&gt;Here&#39;s footer info&lt;/p&gt; &lt;/template&gt; &lt;/myslot&gt; &lt;/template&gt; &lt;script&gt; import myslot from &#39;./myslot&#39;; export default { components: { myslot } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; æœ€ç»ˆçš„æ¸²æŸ“ç»“æœå¯ä»¥çœ‹åˆ° Here might be a page title å¤§å®¶å¥½æˆ‘æ˜¯çˆ¶ç»„ä»¶ A paragraph for the main content. And another one. Here&#39;s footer info çˆ¶ç»„ä»¶ä¸­ä¼šå‘å­ç»„ä»¶ä¸­å…·åä¼ é€’å¯¹åº”çš„æ¨¡æ¿å†…å®¹ï¼Œè€Œæ²¡æœ‰æŒ‡å®šåå­—çš„æ¨¡æ¿å†…å®¹ä¼šä¼ é€’ç»™å­ç»„ä»¶ä¸­ä¸å¸¦ name çš„ &lt;slot&gt; å½“ç„¶ï¼Œå¦‚æœçˆ¶ç»„ä»¶ä¸­ &lt;template v-slot:default&gt; &lt;p&gt;A paragraph for the main content.&lt;/p&gt; &lt;p&gt;And another one.&lt;/p&gt; &lt;/template&gt; åŒæ ·æ˜¯ä¼ é€’ç»™å­ç»„ä»¶ä¸­ä¸å¸¦ name çš„ &lt;slot&gt; æ³¨æ„: v-slot åªèƒ½æ·»åŠ åœ¨ &lt;template&gt; ä¸Š å…·åæ’æ§½åœ¨ä¹¦å†™çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ç¼©å†™,v-slotç”¨#æ¥ä»£æ›¿ &lt;template&gt; &lt;myslot&gt; &lt;div&gt;å¤§å®¶å¥½æˆ‘æ˜¯çˆ¶ç»„ä»¶&lt;/div&gt; &lt;template #header&gt; &lt;h1&gt;Here might be a page title&lt;/h1&gt; &lt;/template&gt; &lt;p&gt;A paragraph for the main content.&lt;/p&gt; &lt;p&gt;And another one.&lt;/p&gt; &lt;template #footer&gt; &lt;p&gt;Here&#39;s footer info&lt;/p&gt; &lt;/template&gt; &lt;/myslot&gt; &lt;/template&gt; &lt;script&gt; import myslot from &#39;./myslot&#39;; export default { components: { myslot } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; 1.21.3.3 ä½œç”¨åŸŸæ’æ§½è¿™é‡Œä¸»è¦è§£å†³çš„æ˜¯çˆ¶ç»„ä»¶åœ¨å‘å­ç»„ä»¶æ’æ§½ä¼ é€’æ¨¡æ¿å†…å®¹æ—¶å­˜åœ¨è®¿é—®å­ç»„ä»¶æ•°æ®çš„é—®é¢˜ è¿˜è®°å¾—é»˜è®¤æ’æ§½å—ï¼Ÿå¦‚æœå­ç»„ä»¶ä¸­å†™åœ¨ &lt;slot&gt; æ ‡ç­¾å†…åå¤‡å†…å®¹æ˜¯ä¸ è¯¥ç»„ä»¶çš„dataå±æ€§åŒå‘æ•°æ®ç»‘å®šçš„ &lt;template&gt; &lt;div&gt; &lt;span&gt; &lt;slot&gt;{{user.firstName}}&lt;/slot&gt; &lt;/span&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data () { return { user:{ firstName:&#39;gerace&#39;, lastName:&#39;haLi&#39; } } } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; çˆ¶ç»„ä»¶åœ¨å¼•ç”¨å­ç»„ä»¶æ—¶ï¼Œå¸Œæœ›èƒ½å¤Ÿæ¢æ‰å¤‡ç”¨å†…å®¹ &lt;template&gt; &lt;myslot&gt;{{ user.firstName }}&lt;/myslot&gt; &lt;/template&gt; &lt;script&gt; import myslot from &#39;./myslot&#39;; export default { components: { myslot } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; è¿è¡Œä»£ç è¿™æ—¶ä½ ä¼šå‘ç°æç¤ºæŠ¥é”™ Property or method &quot;user&quot; is not defined on the instance but referenced during render. TypeError: Cannot read property &#39;firstName&#39; of undefined è¿™é‡Œä¸ºä»€ä¹ˆï¼Ÿvueå®˜æ–¹æ–‡æ¡£ç»™å‡ºäº†ç­”æ¡ˆ çˆ¶çº§æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ï¼›å­æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨å­ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ é‚£åº”è¯¥æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ ä¸ºäº†è®© user åœ¨çˆ¶çº§çš„æ’æ§½å†…å®¹ä¸­å¯ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å°† user ä½œä¸º &lt;slot&gt; å…ƒç´ çš„ä¸€ä¸ª attribute ç»‘å®šä¸Šå»ï¼š &lt;span&gt; &lt;slot v-bind:user=&quot;user&quot;&gt; {{ user.lastName }} &lt;/slot&gt; &lt;/span&gt; ç»‘å®šåœ¨ &lt;slot&gt; å…ƒç´ ä¸Šçš„ attribute è¢«ç§°ä¸ºæ’æ§½ propã€‚ç°åœ¨åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¦å€¼çš„ v-slot æ¥å®šä¹‰æˆ‘ä»¬æä¾›çš„æ’æ§½ prop çš„åå­—ï¼š &lt;template&gt; &lt;myslot&gt; &lt;template v-slot:default=&quot;slotProps&quot;&gt; {{ slotProps.user.firstName }} &lt;/template&gt; &lt;/myslot&gt; &lt;/template&gt; &lt;script&gt; import myslot from &#39;./myslot&#39;; export default { components: { myslot } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; ä¸Šé¢ä¾‹å­ï¼Œæˆ‘ä»¬é€‰æ‹©å°†åŒ…å«æ‰€æœ‰æ’æ§½ prop çš„å¯¹è±¡å‘½åä¸º slotPropsï¼Œä½†ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»æ„ä½ å–œæ¬¢çš„åå­—ã€‚ é’ˆå¯¹ä¸Šé¢åªç»™é»˜è®¤æ’æ§½ä¼ é€’æ¨¡æ¿å†…å®¹çš„ä¾‹å­ï¼Œåœ¨å†™æ³•ä¸Šå¯ä»¥é‡‡ç”¨é»˜è®¤æ’æ§½çš„ç¼©å†™è¯­æ³• &lt;template&gt; &lt;myslot v-slot:default=&quot;slotProps&quot;&gt; {{ slotProps.user.firstName }} &lt;/myslot&gt; &lt;/template&gt; &lt;script&gt; import myslot from &#39;./myslot&#39;; export default { components: { myslot } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; â†“â†“â†“ &lt;template&gt; &lt;myslot v-slot=&quot;slotProps&quot;&gt; {{ slotProps.user.firstName }} &lt;/myslot&gt; &lt;/template&gt; æ³¨æ„ï¼š é»˜è®¤æ’æ§½çš„ç¼©å†™è¯­æ³•ä¸èƒ½å’Œå…·åæ’æ§½æ··ç”¨ï¼Œå› ä¸ºå®ƒä¼šå¯¼è‡´ä½œç”¨åŸŸä¸æ˜ç¡®ï¼š` slotProps is NOT available here * ä¸‹é¢å†çœ‹ä¸€ä¸‹å¤šä¸ªæ’æ§½çš„æƒ…å†µ å­ç»„ä»¶vue export default { data () { return { user:{ firstName: &#39;gerace&#39;, lastName: &#39;haLi&#39;, }, hobby:{ fruit: &quot;apple&quot;, color: &quot;blue&quot; } } } } çˆ¶ç»„ä»¶ ```vue &lt;template&gt; &lt;myslot&gt; &lt;template v-slot:header=&quot;slotProps&quot;&gt; {{ slotProps.userData.firstName }} &lt;/template&gt; &lt;template v-slot:footer=&quot;slotProps&quot;&gt; {{ slotProps.hobbyData.fruit }} &lt;/template&gt; &lt;/myslot&gt; &lt;/template&gt; &lt;script&gt; import myslot from &#39;./myslot&#39;; export default { components: { myslot } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; é’ˆå¯¹å¤šä¸ªæ’æ§½çš„æƒ…å†µï¼Œåœ¨å†™æ³•ä¸Šå¯ä»¥è§£æ„æ’æ§½propï¼Œçˆ¶ç»„ä»¶çš„å†™æ³•å¦‚ä¸‹ &lt;template&gt; &lt;myslot&gt; &lt;template v-slot:header=&quot;{userData}&quot;&gt; {{ userData.firstName }} &lt;/template&gt; &lt;template v-slot:footer=&quot;{hobbyData}&quot;&gt; {{ hobbyData.fruit }} &lt;/template&gt; &lt;/myslot&gt; &lt;/template&gt; &lt;script&gt; import myslot from &#39;./myslot&#39;; export default { components: { myslot } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; åœ¨å…·åæ’æ§½çš„ä»‹ç»éƒ¨åˆ†æœ‰è®²è¿‡ï¼Œå…·åæ’æ§½å¯ä»¥ä½¿ç”¨ç¼©å†™ï¼Œv-slotå¯ä»¥ä½¿ç”¨#æ¥ä»£æ›¿ï¼Œæ‰€ä»¥ä»¥ä¸Šä»£ç å¯ä»¥å†™æˆï¼š &lt;template&gt; &lt;myslot&gt; &lt;template #header=&quot;{userData}&quot;&gt; {{ userData.firstName }} &lt;/template&gt; &lt;template #footer=&quot;{hobbyData}&quot;&gt; {{ hobbyData.fruit }} &lt;/template&gt; &lt;/myslot&gt; &lt;/template&gt; &lt;script&gt; import myslot from &#39;./myslot&#39;; export default { components: { myslot } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt; ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯è¯¥ç¼©å†™åªåœ¨å…¶æœ‰å‚æ•°çš„æ—¶å€™æ‰å¯ç”¨ã€‚è¿™æ„å‘³ç€ä»¥ä¸‹è¯­æ³•æ˜¯æ— æ•ˆçš„ï¼š &lt;!-- è¿™æ ·ä¼šè§¦å‘è­¦å‘Š --&gt; &lt;template&gt; &lt;myslot&gt; &lt;template #=&quot;{userData}&quot;&gt; {{ userData.firstName }} &lt;/template&gt; &lt;template #=&quot;{hobbyData}&quot;&gt; {{ hobbyData.fruit }} &lt;/template&gt; &lt;/myslot&gt; &lt;/template&gt; 1.22 vueåˆå§‹åŒ–é¡µé¢é—ªåŠ¨é—®é¢˜ä½¿ç”¨vueå¼€å‘æ—¶ï¼Œåœ¨vueåˆå§‹åŒ–ä¹‹å‰ï¼Œç”±äºdivæ˜¯ä¸å½’vueç®¡çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å†™çš„ä»£ç åœ¨è¿˜æ²¡æœ‰è§£æçš„æƒ…å†µä¸‹ä¼šå®¹æ˜“å‡ºç°èŠ±å±ç°è±¡ï¼Œçœ‹åˆ°ç±»ä¼¼äºçš„å­—æ ·ï¼Œè™½ç„¶ä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªæ—¶é—´å¾ˆçŸ­æš‚ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯æœ‰å¿…è¦è®©è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚é¦–å…ˆï¼šåœ¨cssé‡ŒåŠ ä¸Šä»¥ä¸‹ä»£ç  [v-cloak] { display: none; } å¦‚æœæ²¡æœ‰å½»åº•è§£å†³é—®é¢˜ï¼Œåˆ™åœ¨æ ¹å…ƒç´ åŠ ä¸Šstyle=&quot;display: none;&quot; :style=&quot;{display: &#39;block&#39;}&quot; 2. vueæ’ä»¶ç¯‡2.1 çŠ¶æ€ç®¡ç†ï¼ˆvuexï¼‰2.1.1 vuexæ˜¯ä»€ä¹ˆVuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.jsåº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚Vuex ä¹Ÿé›†æˆåˆ° Vue çš„å®˜æ–¹è°ƒè¯•å·¥å…· devtools extensionï¼Œæä¾›äº†è¯¸å¦‚é›¶é…ç½®çš„ time-travel è°ƒè¯•ã€çŠ¶æ€å¿«ç…§å¯¼å…¥å¯¼å‡ºç­‰é«˜çº§è°ƒè¯•åŠŸèƒ½ã€‚ 2.1.2 æ€ä¹ˆä½¿ç”¨vuex ç¬¬ä¸€æ­¥å®‰è£…npm install vuex -S ç¬¬äºŒæ­¥åˆ›å»ºstoreimport Vue from &#39;vue&#39;; import Vuex from &#39;vuex&#39;; Vue.use(Vuex); //ä¸æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒdebugä¸ºtrue const debug = process.env.NODE_ENV !== &#39;production&#39;; //åˆ›å»ºVuexå®ä¾‹å¯¹è±¡ const store = new Vuex.Store({ strict:debug,//åœ¨ä¸æ˜¯ç”Ÿäº§ç¯å¢ƒä¸‹éƒ½å¼€å¯ä¸¥æ ¼æ¨¡å¼ state:{ }, getters:{ }, mutations:{ }, actions:{ } }) export default store; ç¬¬ä¸‰æ­¥æ³¨å…¥vueximport Vue from &#39;vue&#39;; import App from &#39;./App.vue&#39;; import store from &#39;./store&#39;; const vm = new Vue({ store:store, render: h =&gt; h(App) }).$mount(&#39;#app&#39;) 2.1.3 vuexä¸­æœ‰å‡ ä¸ªæ ¸å¿ƒå±æ€§ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿä¸€å…±æœ‰5ä¸ªæ ¸å¿ƒå±æ€§ï¼Œåˆ†åˆ«æ˜¯: state å”¯ä¸€æ•°æ®æº,Vue å®ä¾‹ä¸­çš„ data éµå¾ªç›¸åŒçš„è§„åˆ™ getters å¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§,å°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚Getter ä¼šæš´éœ²ä¸º store.getters å¯¹è±¡ï¼Œä½ å¯ä»¥ä»¥å±æ€§çš„å½¢å¼è®¿é—®è¿™äº›å€¼. const store = new Vuex.Store({ state: { todos: [ { id: 1, text: &#39;...&#39;, done: true }, { id: 2, text: &#39;...&#39;, done: false } ] }, getters: { doneTodos: state =&gt; { return state.todos.filter(todo =&gt; todo.done) } } }) store.getters.doneTodos // -&gt; [{ id: 1, text: &#39;...&#39;, done: true }] mutation æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutation,éå¸¸ç±»ä¼¼äºäº‹ä»¶,é€šè¿‡store.commit æ–¹æ³•è§¦å‘ const store = new Vuex.Store({ state: { count: 1 }, mutations: { increment (state) { // å˜æ›´çŠ¶æ€ state.count++ } } }) store.commit(&#39;increment&#39;) action Action ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºAction æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ï¼ŒAction å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œ const store = new Vuex.Store({ state: { count: 0 }, mutations: { increment (state) { state.count++ } }, actions: { increment (context) { context.commit(&#39;increment&#39;) } } }) module ç”±äºä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ä¼šé›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡ã€‚å½“åº”ç”¨å˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œstore å¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿ã€‚ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒVuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆæ¨¡å—ï¼ˆmoduleï¼‰ã€‚ const moduleA = { state: () =&gt; ({ ... }), mutations: { ... }, actions: { ... }, getters: { ... } } const moduleB = { state: () =&gt; ({ ... }), mutations: { ... }, actions: { ... } } const store = new Vuex.Store({ modules: { a: moduleA, b: moduleB } }) store.state.a // -&gt; moduleA çš„çŠ¶æ€ store.state.b // -&gt; moduleB çš„çŠ¶æ€ 2.1.4 ajaxè¯·æ±‚ä»£ç åº”è¯¥å†™åœ¨ç»„ä»¶çš„methodsä¸­è¿˜æ˜¯vuexçš„actionsä¸­å¦‚æœè¯·æ±‚æ¥çš„æ•°æ®æ˜¯ä¸æ˜¯è¦è¢«å…¶ä»–ç»„ä»¶å…¬ç”¨ï¼Œä»…ä»…åœ¨è¯·æ±‚çš„ç»„ä»¶å†…ä½¿ç”¨ï¼Œå°±ä¸éœ€è¦æ”¾å…¥vuex çš„stateé‡Œã€‚ å¦‚æœè¢«å…¶ä»–åœ°æ–¹å¤ç”¨ï¼Œè¿™ä¸ªå¾ˆå¤§å‡ ç‡ä¸Šæ˜¯éœ€è¦çš„ï¼Œå¦‚æœéœ€è¦ï¼Œè¯·å°†è¯·æ±‚æ”¾å…¥actioné‡Œï¼Œæ–¹ä¾¿å¤ç”¨ã€‚ 2.1.5 ä»vuexä¸­è·å–çš„æ•°æ®èƒ½ç›´æ¥æ›´æ”¹å—ï¼Ÿä»vuexä¸­å–çš„æ•°æ®ï¼Œä¸èƒ½ç›´æ¥æ›´æ”¹ï¼Œéœ€è¦æµ…æ‹·è´å¯¹è±¡ä¹‹åæ›´æ”¹ï¼Œå¦åˆ™æŠ¥é”™ï¼› 2.1.6 vuexä¸­çš„æ•°æ®åœ¨é¡µé¢åˆ·æ–°åæ•°æ®æ¶ˆå¤±ç”¨sessionstorage æˆ–è€… localstorage å­˜å‚¨æ•°æ® å­˜å‚¨ï¼š sessionStorage.setItem( &#39;å&#39;, JSON.stringify(å€¼) ) ä½¿ç”¨ï¼š sessionStorage.getItem(&#39;å&#39;) ---å¾—åˆ°çš„å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨JSON.parse()å»å¼•å·ï¼› ä¹Ÿå¯ä»¥å¼•å…¥æ’ä»¶vuex-persistï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š å®‰è£… npm install --save vuex-persist or yarn add vuex-persist å¼•å…¥ import VuexPersistence from &#39;vuex-persist&#39; å…ˆåˆ›å»ºä¸€ä¸ªå¯¹è±¡å¹¶è¿›è¡Œé…ç½® const vuexLocal = new VuexPersistence({ storage: window.localStorage }) å¼•å…¥è¿›vuexæ’ä»¶ const store = new Vuex.Store({ state: { ... }, mutations: { ... }, actions: { ... }, plugins: [vuexLocal.plugin] }) é€šè¿‡ä»¥ä¸Šè®¾ç½®ï¼Œåœ¨å›¾3ä¸­å„ä¸ªé¡µé¢ä¹‹é—´è·³è½¬ï¼Œå¦‚æœåˆ·æ–°æŸä¸ªè§†å›¾ï¼Œæ•°æ®å¹¶ä¸ä¼šä¸¢å¤±ï¼Œä¾ç„¶å­˜åœ¨ï¼Œå¹¶ä¸”ä¸éœ€è¦åœ¨æ¯ä¸ª mutations ä¸­æ‰‹åŠ¨å­˜å– storage ã€‚ 2.1.7 Vuexçš„ä¸¥æ ¼æ¨¡å¼æ˜¯ä»€ä¹ˆ,æœ‰ä»€ä¹ˆä½œç”¨,æ€ä¹ˆå¼€å¯ï¼Ÿåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ— è®ºä½•æ—¶å‘ç”Ÿäº†çŠ¶æ€å˜æ›´ä¸”ä¸æ˜¯ç”±mutationå‡½æ•°å¼•èµ·çš„ï¼Œå°†ä¼šæŠ›å‡ºé”™è¯¯ã€‚è¿™èƒ½ä¿è¯æ‰€æœ‰çš„çŠ¶æ€å˜æ›´éƒ½èƒ½è¢«è°ƒè¯•å·¥å…·è·Ÿè¸ªåˆ°ã€‚åœ¨Vuex.Store æ„é€ å™¨é€‰é¡¹ä¸­å¼€å¯,å¦‚ä¸‹ const store = new Vuex.Store({ strict:true, }) 2.1.8 æ€ä¹ˆåœ¨ç»„ä»¶ä¸­æ‰¹é‡ä½¿ç”¨Vuexçš„getterå±æ€§ä½¿ç”¨mapGettersè¾…åŠ©å‡½æ•°, åˆ©ç”¨å¯¹è±¡å±•å¼€è¿ç®—ç¬¦å°†getteræ··å…¥computed å¯¹è±¡ä¸­ import {mapGetters} from &#39;vuex&#39; export default{ computed:{ ...mapGetters([&#39;total&#39;,&#39;discountTotal&#39;]) } } 2.1.9 ç»„ä»¶ä¸­é‡å¤ä½¿ç”¨mutationä½¿ç”¨mapMutationsè¾…åŠ©å‡½æ•°,åœ¨ç»„ä»¶ä¸­è¿™ä¹ˆä½¿ç”¨ import { mapMutations } from &#39;vuex&#39; methods:{ ...mapMutations({ setNumber:&#39;SET_NUMBER&#39;, }) } ç„¶åè°ƒç”¨this.setNumber(10)ç›¸å½“è°ƒç”¨this.$store.commit(&#39;SET_NUMBER&#39;,10) 2.1.10 mutationå’Œactionæœ‰ä»€ä¹ˆåŒºåˆ« action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚mutationå¯ä»¥ç›´æ¥å˜æ›´çŠ¶æ€ action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚mutationåªèƒ½æ˜¯åŒæ­¥æ“ä½œ æäº¤æ–¹å¼ä¸åŒ action æ˜¯ç”¨this.store.dispatch(&#39;ACTION_NAME&#39;,data)æ¥æäº¤ã€‚ mutationæ˜¯ç”¨this.$store.commit(&#39;SET_NUMBER&#39;,10)æ¥æäº¤ æ¥æ”¶å‚æ•°ä¸åŒï¼Œmutationç¬¬ä¸€ä¸ªå‚æ•°æ˜¯stateï¼Œè€Œactionç¬¬ä¸€ä¸ªå‚æ•°æ˜¯contextï¼Œå…¶åŒ…å«äº†{ state, // ç­‰åŒäº `store.state`ï¼Œè‹¥åœ¨æ¨¡å—ä¸­åˆ™ä¸ºå±€éƒ¨çŠ¶æ€ rootState, // ç­‰åŒäº `store.state`ï¼Œåªå­˜åœ¨äºæ¨¡å—ä¸­ commit, // ç­‰åŒäº `store.commit` dispatch, // ç­‰åŒäº `store.dispatch` getters, // ç­‰åŒäº `store.getters` rootGetters // ç­‰åŒäº `store.getters`ï¼Œåªå­˜åœ¨äºæ¨¡å—ä¸­ } 2.1.11 åœ¨v-modelä¸Šæ€ä¹ˆç”¨Vuexä¸­stateçš„å€¼ï¼Ÿéœ€è¦é€šè¿‡computedè®¡ç®—å±æ€§æ¥è½¬æ¢ã€‚ &lt;input v-model=&quot;message&quot;&gt; // ... computed: { message: { get () { return this.$store.state.message }, set (value) { this.$store.commit(&#39;updateMessage&#39;, value) } } } 2.2 è·¯ç”±é¡µé¢ç®¡ç†ï¼ˆvue-routerï¼‰2.2.1 ä»€ä¹ˆæ˜¯vue-routerVue Router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue.js çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ˜“å¦‚åæŒã€‚åŒ…å«çš„åŠŸèƒ½æœ‰ï¼š åµŒå¥—çš„è·¯ç”±/è§†å›¾è¡¨ æ¨¡å—åŒ–çš„ã€åŸºäºç»„ä»¶çš„è·¯ç”±é…ç½® è·¯ç”±å‚æ•°ã€æŸ¥è¯¢ã€é€šé…ç¬¦ åŸºäº Vue.js è¿‡æ¸¡ç³»ç»Ÿçš„è§†å›¾è¿‡æ¸¡æ•ˆæœ ç»†ç²’åº¦çš„å¯¼èˆªæ§åˆ¶ å¸¦æœ‰è‡ªåŠ¨æ¿€æ´»çš„ CSS class çš„é“¾æ¥ HTML5 å†å²æ¨¡å¼æˆ– hash æ¨¡å¼ï¼Œåœ¨ IE9 ä¸­è‡ªåŠ¨é™çº§ è‡ªå®šä¹‰çš„æ»šåŠ¨æ¡è¡Œä¸º 2.2.2 æ€ä¹ˆä½¿ç”¨vue-router ç¬¬ä¸€æ­¥å®‰è£…npm install vue-router -S ç¬¬äºŒæ­¥åœ¨main.jsä¸­ä½¿ç”¨Vue Routerç»„ä»¶`javascriptimport Vue from &#39;vue&#39;import App from &#39;./App.vue&#39;import VueRouter from &#39;vue-router&#39;Vue.use(VueRouter) new Vue({ el: &#39;#app&#39;, render: h=&gt; h(App)}) 3. ç¬¬ä¸‰æ­¥é…ç½®è·¯ç”± * å®šä¹‰ (è·¯ç”±) ç»„ä»¶ è·¯ç”±ç»„ä»¶å¯ä»¥æ˜¯ç›´æ¥å®šä¹‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¼å…¥å·²ç»å®šä¹‰å¥½çš„ç»„ä»¶ã€‚è¿™é‡Œå¯¼å…¥å·²ç»å®šä¹‰å¥½çš„ç»„ä»¶ã€‚å¦‚ä¸‹ ```javascript // 1.å®šä¹‰ç»„ä»¶ï¼ˆå¯¼å…¥ç»„ä»¶ï¼‰ import Home from &#39;./components/home.vue&#39; import News from &#39;.components/news.vue&#39; å®šä¹‰è·¯ç”±ï¼ˆè·¯ç”±å¯¹è±¡æ•°ç»„ï¼‰å®šä¹‰è·¯ç”±å¯¹è±¡æ•°ç»„ã€‚å¯¹è±¡çš„pathæ˜¯è‡ªå®šä¹‰çš„è·¯å¾„ï¼ˆå³ä½¿ç”¨è¿™ä¸ªè·¯å¾„å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶ï¼‰ï¼Œcomponentæ˜¯æŒ‡è¯¥è·¯ç”±å¯¹åº”çš„ç»„ä»¶ã€‚å¦‚ä¸‹ï¼š// 2.å®šä¹‰è·¯ç”± const routes = [ { path: &#39;/home&#39;, components: Home }, { path: &#39;/news&#39;, components: News }, { path: &#39;*&#39;, redirect: &#39;/home&#39; }, // è¡¨ç¤ºæ²¡æœ‰åŒ¹é…åˆ°ï¼Œæ˜¯é»˜è®¤é‡å®šå‘åˆ°homeç»„ä»¶ ] å®ä¾‹åŒ–Vue Routerå¯¹è±¡è°ƒç”¨Vue Routerçš„æ„é€ æ–¹æ³•åˆ›å»ºä¸€ä¸ªVue Routerçš„å®ä¾‹å¯¹è±¡ï¼Œå°†ä¸Šä¸€æ­¥å®šä¹‰çš„è·¯ç”±å¯¹è±¡æ•°ç»„ä½œä¸ºå‚æ•°å¯¹è±¡çš„å€¼ä¼ å…¥ã€‚å¦‚ä¸‹// 3. å®ä¾‹åŒ–Vue Router const router = new VueRouter({routes}) // æ­¤å¤„ç›¸å½“äºroutes: routes æŒ‚è½½æ ¹å®ä¾‹// 4. æŒ‚è½½æ ¹å®ä¾‹ new Vue({ el: &#39;#app&#39;, router, render: h =&gt; h(App) }) ç¬¬å››æ­¥åœ¨App.vueä¸­ä½¿ç”¨è·¯ç”±åœ¨App.vueä¸­ä½¿ç”¨æ ‡ç­¾æ¥æ˜¾ç¤ºè·¯ç”±å¯¹åº”çš„ç»„ä»¶ï¼Œä½¿ç”¨æ ‡ç­¾æŒ‡å®šå½“ç‚¹å‡»æ—¶æ˜¾ç¤ºçš„å¯¹åº”çš„ç»„ä»¶ï¼Œtoå±æ€§å°±æ˜¯æŒ‡å®šç»„ä»¶å¯¹åº”çš„è·¯ç”±ã€‚å¦‚ä¸‹ï¼š &lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;router-link to=&quot;/home&quot;&gt;Home&lt;/router-link&gt; &lt;router-link to=&quot;/news&quot;&gt;News&lt;/router-link&gt; &lt;br /&gt; &lt;router-view&gt;&lt;/router-view&gt; /* æ˜¾ç¤ºç»„ä»¶çš„å†…å®¹ */ &lt;/div&gt; &lt;/template&gt; 2.2.3 æ€ä¹ˆå®šä¹‰vue-routerçš„åŠ¨æ€è·¯ç”±ï¼Ÿæ€ä¹ˆè·å–ä¼ è¿‡æ¥çš„åŠ¨æ€å‚æ•°ï¼Ÿåœ¨routerç›®å½•ä¸‹çš„index.jsæ–‡ä»¶ä¸­ï¼Œå¯¹pathå±æ€§åŠ ä¸Š/:idã€‚ä½¿ç”¨routerå¯¹è±¡çš„params.idè·å–åŠ¨æ€å‚æ•° 2.2.4 vue-routerçš„å¯¼èˆªé’©å­å¸¸ç”¨çš„æ˜¯router.beforeEach(to,from,next)ï¼Œåœ¨è·³è½¬å‰è¿›è¡Œæƒé™åˆ¤æ–­ã€‚ä¸€å…±æœ‰ä¸‰ç§ï¼š å…¨å±€å¯¼èˆªé’©å­ï¼šrouter.beforeEach(to,from,next) ç»„ä»¶å†…çš„é’©å­ å•ç‹¬è·¯ç”±ç‹¬äº«ç»„ä»¶ 2.2.5 vueè·¯ç”±ä¼ å‚ é¡µé¢åˆ·æ–°æ•°æ®ä¸ä¼šä¸¢å¤± methods: { jump(id) { // ç›´æ¥è°ƒç”¨$router.pushå®ç°æºå¸¦å‚æ•°çš„è·³è½¬ this.$router.push({ path: `/particulars/${id}` }) } } // å¯¹åº”è·¯ç”±é…ç½® { path: &#39;/particulars/:id&#39;, name: &#39;particulars&#39;, component: particulars } // å¯¹åº”å­ç»„ä»¶ï¼šè¿™æ ·æ¥è·å–å‚æ•° this.$route.params.id ä½¿ç”¨paramsæ–¹å¼ä¼ å…¥çš„å‚æ•° è¿™ç§æ–¹æ³•é¡µé¢åˆ·æ–°æ•°æ®ä¼šä¸¢å¤± é€šè¿‡è·¯ç”±å±æ€§ä¸­çš„nameæ¥ç¡®å®šåŒ¹é…çš„è·¯ç”±ï¼Œé€šè¿‡paramsæ¥ä¼ é€’å‚æ•°`javascriptmethods: {jump(id) { this.$router.push({ path: &#39;/particulars&#39;, params: { id: id } })}} // å¯¹åº”è·¯ç”±é…ç½®{ path: &#39;/particulars&#39;, name: &#39;particulars&#39;, component: particulars} // å¯¹åº”å­ç»„ä»¶ï¼šè¿™æ ·æ¥è·å–å‚æ•°this.$route.params.id * ä½¿ç”¨queryæ–¹æ³•ä¼ å…¥çš„å‚æ•° &gt; ä½¿ç”¨pathæ¥åŒ¹é…è·¯ç”±ï¼Œç„¶åé€šè¿‡queryæ¥ä¼ é€’å‚æ•° &gt; &gt; è¿™ç§æƒ…å†µä¸‹ï¼Œqueryä¼ é€’çš„å‚æ•°ä¼šæ˜¾ç¤ºåœ¨urlåé¢?id=? ```javascript methods: { jump(id) { this.$router.push({ path: &#39;/particulars&#39;, query: { id: id } }) } } // å¯¹åº”è·¯ç”±é…ç½® { path: &#39;/particulars&#39;, name: &#39;particulars&#39;, component: particulars } // å¯¹åº”å­ç»„ä»¶ï¼šè¿™æ ·æ¥è·å–å‚æ•° this.$route.query.id 2.2.6 routerå’Œrouteçš„åŒºåˆ« routeä¸ºå½“å‰routerè·³è½¬å¯¹è±¡é‡Œé¢å¯ä»¥è·å–nameã€pathã€queryã€paramsç­‰ routerä¸ºVueRouterå®ä¾‹ï¼Œæƒ³è¦å¯¼èˆªåˆ°ä¸åŒURLï¼Œåˆ™ä½¿ç”¨router.pushæ–¹æ³• 2.2.7 è·¯ç”± TypeError: Cannot read property &#39;matched&#39; of undefined çš„é”™è¯¯é—®é¢˜æ‰¾åˆ°å…¥å£æ–‡ä»¶main.jsé‡Œçš„new Vue()ï¼Œå¿…é¡»ä½¿ç”¨routeråï¼Œä¸èƒ½æŠŠrouteræ”¹æˆRouteræˆ–è€…å…¶ä»–çš„åˆ«å // å¼•å…¥è·¯ç”± import router from &#39;./routers/router.js&#39; new Vue({ el: &#39;#app&#39;, router, // è¿™ä¸ªåå­—å¿…é¡»ä½¿ç”¨router render: h =&gt; h(App) }); 2.2.8 è·¯ç”±æŒ‰éœ€åŠ è½½éšç€é¡¹ç›®åŠŸèƒ½æ¨¡å—çš„å¢åŠ ï¼Œå¼•å…¥çš„æ–‡ä»¶æ•°é‡å‰§å¢ã€‚å¦‚æœä¸åšä»»ä½•å¤„ç†ï¼Œé‚£ä¹ˆé¦–å±åŠ è½½ä¼šç›¸å½“çš„ç¼“æ…¢ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œè·¯ç”±æŒ‰éœ€åŠ è½½å°±é—ªäº®ç™»åœºäº†ã€‚ // webpack&lt; 2.4 æ—¶ { path:&#39;/&#39;, name:&#39;home&#39;, components:resolve=&gt;require([&#39;@/components/home&#39;],resolve) } // webpack&gt; 2.4 æ—¶ { path:&#39;/&#39;, name:&#39;home&#39;, components:()=&gt;import(&#39;@/components/home&#39;) } import()æ–¹æ³•æ˜¯ç”±es6æå‡ºçš„ï¼ŒåŠ¨æ€åŠ è½½è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œthenæ–¹æ³•çš„å‚æ•°æ˜¯åŠ è½½åˆ°çš„æ¨¡å—ã€‚ç±»ä¼¼äºNode.jsçš„requireæ–¹æ³•ï¼Œä¸»è¦import()æ–¹æ³•æ˜¯å¼‚æ­¥åŠ è½½çš„ã€‚ 2.2.9 Vueé‡Œé¢router-linkåœ¨ç”µè„‘ä¸Šæœ‰ç”¨ï¼Œåœ¨å®‰å“ä¸Šæ²¡ååº”æ€ä¹ˆè§£å†³Vueè·¯ç”±åœ¨Androidæœºä¸Šæœ‰é—®é¢˜ï¼Œbabelé—®é¢˜ï¼Œå®‰è£…babel polypillæ’ä»¶è§£å†³ 2.2.10 Vue2ä¸­æ³¨å†Œåœ¨router-linkä¸Šäº‹ä»¶æ— æ•ˆè§£å†³æ–¹æ³• ä½¿ç”¨``@click.nativeã€‚ åŸå› ï¼šrouter-linkä¼šé˜»æ­¢clickäº‹ä»¶ï¼Œ.nativeæŒ‡ç›´æ¥ç›‘å¬ä¸€ä¸ªåŸç”Ÿäº‹ä»¶ 2.2.11 RouterLinkåœ¨IEå’ŒFirefoxä¸­ä¸èµ·ä½œç”¨ï¼ˆè·¯ç”±ä¸è·³è½¬ï¼‰çš„é—®é¢˜ åªç”¨aæ ‡ç­¾ï¼Œä¸ä½¿ç”¨buttonæ ‡ç­¾ ä½¿ç”¨buttonæ ‡ç­¾å’ŒRouter.navigateæ–¹æ³• 2.3 ç½‘ç»œè¯·æ±‚(axios)axiosçš„äºŒæ¬¡å°è£…ï¼Œä¸»è¦åŒ…æ‹¬è¯·æ±‚ä¹‹å‰ã€è¿”å›å“åº”ä»¥åŠä½¿ç”¨ç­‰ 2.3.1 è¯·æ±‚ä¹‹å‰ä¸€èˆ¬çš„æ¥å£éƒ½ä¼šæœ‰é‰´æƒè®¤è¯ï¼ˆtokenï¼‰ä¹‹ç±»çš„ï¼Œå› æ­¤åœ¨æ¥å£çš„è¯·æ±‚å¤´é‡Œé¢ï¼Œæˆ‘ä»¬éœ€è¦å¸¦ä¸Štokenå€¼ä»¥é€šè¿‡æœåŠ¡å™¨çš„é‰´æƒè®¤è¯ã€‚ä½†æ˜¯å¦‚æœæ¯æ¬¡è¯·æ±‚çš„æ—¶å€™å†å»æ·»åŠ ï¼Œä¸ä»…ä¼šå¤§å¤§çš„åŠ å¤§å·¥ä½œé‡ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å‡ºé”™ã€‚å¥½åœ¨axiosæä¾›äº†æ‹¦æˆªå™¨æœºåˆ¶ï¼Œæˆ‘ä»¬åœ¨è¯·æ±‚çš„æ‹¦æˆªå™¨ä¸­å¯ä»¥æ·»åŠ tokenã€‚ // è¯·æ±‚æ‹¦æˆª axios.interceptors.request.use((config) =&gt; { // ...çœç•¥ä»£ç  config.headers.x_access_token = token return config }, function (error) =&gt; { return Promise.reject(error) }) å½“ç„¶è¯·æ±‚æ‹¦æˆªå™¨ä¸­ï¼Œé™¤äº†å¤„ç†æ·»åŠ tokenä»¥å¤–ï¼Œè¿˜å¯ä»¥è¿›è¡Œä¸€äº›å…¶ä»–çš„å¤„ç†ï¼Œå…·ä½“çš„æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œå¤„ç†ã€‚ 2.3.2 å“åº”ä¹‹åè¯·æ±‚æ¥å£ï¼Œå¹¶ä¸æ˜¯æ¯ä¸€æ¬¡è¯·æ±‚éƒ½ä¼šæˆåŠŸã€‚é‚£ä¹ˆå½“æ¥å£è¯·æ±‚å¤±è´¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬åˆæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿæ¯æ¬¡è¯·æ±‚çš„æ—¶å€™å¤„ç†ï¼Ÿå°è£…axiosç»Ÿä¸€å¤„ç†ï¼Ÿåº”è¯¥é€‰æ‹©å°è£…axiosè¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚axiosä¸ä»…æä¾›äº†è¯·æ±‚çš„æ‹¦æˆªå™¨ï¼Œå…¶ä¹Ÿæä¾›äº†å“åº”çš„æ‹¦æˆªå™¨ã€‚åœ¨æ­¤å¤„ï¼Œå¯ä»¥è·å–åˆ°æœåŠ¡å™¨è¿”å›çš„çŠ¶æ€ç ï¼Œç„¶åæ ¹æ®çŠ¶æ€ç è¿›è¡Œç›¸å¯¹åº”çš„æ“ä½œã€‚ // å“åº”æ‹¦æˆª axios.interceptors.response.use(function (response) { if (response.data.code === 401) { // ç”¨æˆ·tokenå¤±æ•ˆ // æ¸…ç©ºç”¨æˆ·ä¿¡æ¯ sessionStorage.user = &#39;&#39; sessionStorage.token = &#39;&#39; window.location.href = &#39;/&#39; // è¿”å›ç™»å½•é¡µ return Promise.reject(msg) // æ¥å£Promiseè¿”å›é”™è¯¯çŠ¶æ€ï¼Œé”™è¯¯ä¿¡æ¯msgå¯ç”±åç«¯è¿”å›ï¼Œä¹Ÿå¯ä»¥æˆ‘ä»¬è‡ªå·±å®šä¹‰ä¸€ä¸ªç --ä¿¡æ¯çš„å…³ç³»ã€‚ } if (response.status !== 200 || response.data.code !== 200) { // æ¥å£è¯·æ±‚å¤±è´¥ï¼Œå…·ä½“æ ¹æ®å®é™…æƒ…å†µåˆ¤æ–­ message.error(mes) // æç¤ºé”™è¯¯ä¿¡æ¯ return Promise.reject(msg) // æ¥å£Promiseè¿”å›é”™è¯¯çŠ¶æ€ } return response }, function (error) { if (axios.isCancel(error)) { requestList.length = 0 // store.dispatch(&#39;changeGlobalState&#39;, { loading: false }) throw new axios.Cancel(&#39;cancel request&#39;) } else { message.error(&#39;ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œè¯·é‡è¯•&#39;) } return Promise.reject(error) }) å½“ç„¶å“åº”æ‹¦æˆªå™¨åŒè¯·æ±‚æ‹¦æˆªå™¨ä¸€æ ·ï¼Œè¿˜å¯ä»¥è¿›è¡Œä¸€äº›å…¶ä»–çš„å¤„ç†ï¼Œå…·ä½“çš„æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œå¤„ç†ã€‚ 2.3.3 ä½¿ç”¨axiosaxiosä½¿ç”¨çš„æ—¶å€™ä¸€èˆ¬æœ‰ä¸‰ç§æ–¹å¼ï¼š æ‰§è¡Œgetè¯·æ±‚ axios.get(&#39;url&#39;, { params: {} // æ¥å£å‚æ•° }).then(function(res){ console.log(res) // å¤„ç†æˆåŠŸçš„å‡½æ•°ï¼Œç›¸å½“äºsuccess }).catch(function(error) { console.log(error) // é”™è¯¯å¤„ç†ï¼Œç›¸å½“äºerror }) æ‰§è¡Œpostè¯·æ±‚ axios.post(&#39;url&#39;, { data: xxx // å‚æ•° }, { headers: xxx //è¯·æ±‚å¤´ä¿¡æ¯ }).then(function(res) { console.log(res) // å¤„ç†æˆåŠŸçš„å‡½æ•°ï¼Œç›¸å½“äºsuccess }).catch(function(error) { console.log(error) // é”™è¯¯å¤„ç†ï¼Œç›¸å½“äºerror }) axios APIé€šè¿‡ç›¸å…³é…ç½®ä¼ é€’ç»™axioså®Œæˆè¯·æ±‚`javascriptaxios({method: &#39;delete&#39;,url: &#39;xxx&#39;,cache: false,params: { id: 123 },headers: xxx}) / ----------------------- /axios({ method: &#39;post&#39;, url: &#39;/user/12345&#39;, data: { firstName: &#39;monkey&#39;, lastName: &#39;soft&#39; }}) ç›´æ¥ä½¿ç”¨apiçš„æ–¹å¼è™½ç„¶ç®€å•ï¼Œä½†æ˜¯ä¸åŒè¯·æ±‚å‚æ•°çš„åå­—ä¸ä¸€æ ·ï¼Œåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­å¾ˆå®¹æ˜“å†™é”™æˆ–è€…å¿½ç•¥ï¼Œå®¹æ˜“ä¸ºå¼€å‘é€ æˆä¸å¿…è¦çš„æ—¶é—´æŸå¤±ã€‚ å‰é¢ä¸¤ç§æ–¹å¼è™½ç„¶æ²¡æœ‰å‚æ•°ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œä½†æ˜¯ä½¿ç”¨çš„æ—¶å€™ï¼Œå¤ªè¿‡äºéº»çƒ¦ï¼Œé‚£ä¹ˆæ€ä¹ˆåŠå‘¢ï¼Ÿ å‰é¢ä¸¤ç§è™½ç„¶è¿‡äºéº»çƒ¦ï¼Œä½†æ˜¯ä»”ç»†è§‚å¯Ÿï¼Œæ˜¯å¯ä»¥å‘ç°æœ‰ä¸€å®šçš„ç›¸ä¼¼ç‚¹ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ç»™äºˆè¿™äº›ç›¸ä¼¼ç‚¹äºŒæ¬¡å°è£…ï¼Œå½¢æˆé€‚åˆæˆ‘ä»¬ä½¿ç”¨çš„ä¸€ä¸ªè¯·æ±‚å‡½æ•°ã€‚ ```javascript /* *url: è¯·æ±‚çš„url *params: è¯·æ±‚çš„å‚æ•° *config: è¯·æ±‚æ—¶çš„headerä¿¡æ¯ *method: è¯·æ±‚æ–¹æ³• */ const request = function({ url, params, config, method }) { // å¦‚æœæ˜¯getè¯·æ±‚ï¼Œéœ€è¦æ‹¼æ¥å‚æ•° let str = &#39;&#39; if(method === &#39;get&#39; &amp;&amp; params) { Object.keys(params).forEach(item =&gt; { str += `${item}=${params[item]$}` }) } return new Promise((resolve, reject) =&gt; { axios[method](str ? (url + &#39;?&#39; + str.substring(0, str.length - 1)) : url, params, Object.assign({}, config)).then(response =&gt; { resolve(response.data) }, err =&gt; { if(err.Cancel) { } else { reject(err) } }).catch(err =&gt; { reject(err) }) }) } 2.4 è§†é¢‘æ’­æ”¾(video.js)è§†é¢‘æ’­æ”¾video.js 2.5 vueå¸¸ç”¨uiåº“2.5.1 ç§»åŠ¨ç«¯ mint-ui Vant VUX 2.5.2 pcç«¯ element-ui Ant Design of Vue Avue 3. å¸¸ç”¨webpacké…ç½® vue-lic3è„šæ‰‹æ¶ï¼ˆvue.config.jsï¼‰ 3.1 publicPath ç±»å‹ï¼šString é»˜è®¤ï¼š&#39;/&#39; éƒ¨ç½²åº”ç”¨åŒ…æ—¶çš„åŸºæœ¬ URLã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒVue CLIä¼šå‡è®¾ä½ çš„åº”ç”¨æ˜¯è¢«éƒ¨ç½²åœ¨ä¸€ä¸ªåŸŸåçš„æ ¹è·¯å¾„ä¸Šï¼Œä¾‹å¦‚https://www.my-app.com/ã€‚å¦‚æœåº”ç”¨è¢«éƒ¨ç½²åœ¨ä¸€ä¸ªå­è·¯å¾„ä¸Šï¼Œä½ å°±éœ€è¦ç”¨è¿™ä¸ªé€‰é¡¹æŒ‡å®šè¿™ä¸ªå­è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„åº”ç”¨è¢«éƒ¨ç½²åœ¨https://www.my-app.com/my-app/ï¼Œåˆ™è®¾ç½®publicPathä¸º/my-app/ è¿™ä¸ªå€¼ä¹Ÿå¯ä»¥è¢«è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸² (&#39;&#39;) æˆ–æ˜¯ç›¸å¯¹è·¯å¾„ (&#39;./&#39;)ï¼Œè¿™æ ·æ‰€æœ‰çš„èµ„æºéƒ½ä¼šè¢«é“¾æ¥ä¸ºç›¸å¯¹è·¯å¾„ï¼Œè¿™æ ·æ‰“å‡ºæ¥çš„åŒ…å¯ä»¥è¢«éƒ¨ç½²åœ¨ä»»æ„è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨ç±»ä¼¼ Cordova hybrid åº”ç”¨çš„æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚ 3.2 productionSourceMap ç±»å‹ï¼šboolean é»˜è®¤ï¼štrue ä¸å…è®¸æ‰“åŒ…æ—¶ç”Ÿæˆé¡¹ç›®æ¥æºæ˜ å°„æ–‡ä»¶ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹å¯ä»¥æ˜¾è‘—çš„å‡å°‘åŒ…çš„ä½“ç§¯ æ³¨ Source mapçš„ä½œç”¨ï¼šé’ˆå¯¹æ‰“åŒ…åçš„ä»£ç è¿›è¡Œçš„å¤„ç†ï¼Œå°±æ˜¯ä¸€ä¸ªä¿¡æ¯æ–‡ä»¶ï¼Œé‡Œé¢å‚¨å­˜ç€ä½ç½®ä¿¡æ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè½¬æ¢åçš„ä»£ç çš„æ¯ä¸€ä¸ªä½ç½®ï¼Œæ‰€å¯¹åº”çš„è½¬æ¢å‰çš„ä½ç½®ã€‚æœ‰äº†å®ƒï¼Œå‡ºé”™çš„æ—¶å€™ï¼Œé™¤é”™å·¥å…·å°†ç›´æ¥æ˜¾ç¤ºåŸå§‹ä»£ç ï¼Œè€Œä¸æ˜¯è½¬æ¢åçš„ä»£ç ã€‚è¿™æ— ç–‘ç»™å¼€å‘è€…å¸¦æ¥äº†å¾ˆå¤§æ–¹ä¾¿ 3.3 assetsDiræ”¾ç½®ç”Ÿæˆçš„é™æ€èµ„æº (jsã€cssã€imgã€fonts) çš„ (ç›¸å¯¹äº outputDir çš„) ç›®å½•,é»˜è®¤æ˜¯&#39;&#39;, 3.4 indexPathæŒ‡å®šç”Ÿæˆçš„ index.html çš„è¾“å‡ºè·¯å¾„(ç›¸å¯¹äºoutputDir)ã€‚ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ã€‚é»˜è®¤æ˜¯&#39;index.html&#39; 3.5 lintOnSaveæ˜¯å¦åœ¨æ¯æ¬¡ä¿å­˜æ—¶ä½¿ç”¨eslintæ£€æŸ¥ï¼Œè¿™ä¸ªå¯¹è¯­æ³•çš„è¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼Œå¯¹è‡ªå·±æœ‰è¦æ±‚çš„åŒå­¦å¯ä»¥ä½¿ç”¨ 3.6 csscss: { // æ˜¯å¦å¯ç”¨cssåˆ†ç¦»æ’ä»¶ï¼Œé»˜è®¤æ˜¯trueï¼Œå¦‚æœä¸å¯ç”¨cssæ ·å¼åˆ†ç¦»æ’ä»¶ï¼Œæ‰“åŒ…å‡ºæ¥çš„cssæ˜¯é€šè¿‡å†…è”æ ·å¼çš„æ–¹å¼æ³¨å…¥è‡³domä¸­çš„ï¼Œ extract: true, sourceMap: false, // æ•ˆæœåŒä¸Š modules: false, // ä¸ºæ‰€æœ‰çš„ CSS åŠå…¶é¢„å¤„ç†æ–‡ä»¶å¼€å¯ CSS Modulesã€‚ // è¿™ä¸ªé€‰é¡¹ä¸ä¼šå½±å“ `*.vue` æ–‡ä»¶ã€‚ }, 3.7 devServeræœ¬åœ°å¼€å‘æœåŠ¡å™¨é…ç½®ï¼Œæ­¤å¤„ç›´æ¥è´´ä¸Šæˆ‘å¸¸ç”¨çš„é…ç½®ï¼Œä»¥æ³¨é‡Šçš„æ–¹å¼ä»‹ç» devServer: { // é…ç½®å¼€å‘æœåŠ¡å™¨ host: &quot;0.0.0.0&quot;, // æ˜¯å¦å¯ç”¨çƒ­åŠ è½½ï¼Œå°±æ˜¯æ¯æ¬¡æ›´æ–°ä»£ç ï¼Œæ˜¯å¦éœ€è¦é‡æ–°åˆ·æ–°æµè§ˆå™¨æ‰èƒ½çœ‹åˆ°æ–°ä»£ç æ•ˆæœ hot: true, // æœåŠ¡å¯åŠ¨ç«¯å£ port: &quot;8080&quot;, // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨é»˜è®¤ä¸ºfalse open: false, // é…ç½®httpä»£ç† proxy: { &quot;/api&quot;: { //å¦‚æœajaxè¯·æ±‚çš„åœ°å€æ˜¯http://192.168.0.118:9999/api1é‚£ä¹ˆä½ å°±å¯ä»¥åœ¨ajaxä¸­ä½¿ç”¨/api/api1è·¯å¾„,å…¶è¯·æ±‚è·¯å¾„ä¼šè§£æ // http://192.168.0.118:9999/api1ï¼Œå½“ç„¶ä½ åœ¨æµè§ˆå™¨ä¸Šå¼€åˆ°çš„è¿˜æ˜¯http://localhost:8080/api/api1; target: &quot;http://192.168.0.118:9999&quot;, //æ˜¯å¦å…è®¸è·¨åŸŸï¼Œè¿™é‡Œæ˜¯åœ¨å¼€å‘ç¯å¢ƒä¼šèµ·ä½œç”¨ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œè¿˜æ˜¯ç”±åå°å»å¤„ç†ï¼Œæ‰€ä»¥ä¸å¿…å¤ªåœ¨æ„ changeOrigin: true, pathRewrite: { //æŠŠå¤šä½™çš„è·¯å¾„ç½®ä¸º&#39;&#39; &quot;api&quot;: &quot;&quot; } }, &quot;/api2&quot;: {//å¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼ŒåŒ¹é…ä¸Šé‚£ä¸ªå°±ä½¿ç”¨å“ªç§è§£ææ–¹å¼ target: &quot;http://api2&quot;, // ... } } }, 3.8 pluginOptionsè¿™æ˜¯ä¸€ä¸ªä¸è¿›è¡Œä»»ä½• schema éªŒè¯çš„å¯¹è±¡ï¼Œå› æ­¤å®ƒå¯ä»¥ç”¨æ¥ä¼ é€’ä»»ä½•ç¬¬ä¸‰æ–¹æ’ä»¶é€‰é¡¹ï¼Œä¾‹å¦‚ï¼š { //å®šä¹‰ä¸€ä¸ªå…¨å±€çš„lessæ–‡ä»¶ï¼ŒæŠŠå…¬å…±æ ·å¼å˜é‡æ”¾å…¥å…¶ä¸­ï¼Œè¿™æ ·æ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™å°±ä¸ç”¨é‡æ–°å¼•ç”¨äº† &#39;style-resources-loader&#39;: { preProcessor: &#39;less&#39;, patterns: [ &#39;./src/assets/public.less&#39; ] } } 3.9 chainWebpackæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼šæ¥æ”¶ä¸€ä¸ªåŸºäº webpack-chain çš„ ChainableConfig å®ä¾‹ã€‚å…è®¸å¯¹å†…éƒ¨çš„ webpack é…ç½®è¿›è¡Œæ›´ç»†ç²’åº¦çš„ä¿®æ”¹ã€‚ä¾‹å¦‚ï¼š chainWebpack(config) { //æ·»åŠ ä¸€ä¸ªè·¯å¾„åˆ«å å‡è®¾æœ‰åœ¨assets/img/menu/ç›®å½•ä¸‹æœ‰åå¼ å›¾ç‰‡ï¼Œå¦‚æœå…¨è·¯å¾„require(&quot;/assets/img/menu/img1.png&quot;) //å»å¼•å…¥åœ¨ä¸åŒçš„å±‚çº§ä¸‹å®åœ¨æ˜¯å¤ªä¸æ–¹ä¾¿äº†ï¼Œè¿™æ—¶å€™å‘ä¸‹æ–¹ä¸€æ ·å®šä¹‰ä¸€ä¸ªè·¯åŠ²åˆ«åå°±å¾ˆå®ç”¨äº† config.resolve.alias //æ·»åŠ å¤šä¸ªåˆ«åæ”¯æŒé“¾å¼è°ƒç”¨ .set(&quot;assets&quot;, path.join(__dirname, &quot;/src/assets&quot;)) .set(&quot;img&quot;, path.join(__dirname, &quot;/src/assets/img/menu&quot;)) //å¼•å…¥å›¾ç‰‡æ—¶åªéœ€require(&quot;img/img1.png&quot;);å³å¯ } 4. webpackä¼˜åŒ–å¸¦ä½ æ·±åº¦è§£é”Webpackç³»åˆ—(ä¼˜åŒ–ç¯‡) vue-cliä¸­Webpacké…ç½®ä¼˜åŒ–ï¼ˆä¸€ï¼‰ vue-cliä¸­Webpacké…ç½®ä¼˜åŒ–ï¼ˆäºŒï¼‰ 4.1 é‡åŒ–4.1.1 speed-measure-webpack-pluginspeed-measure-webpack-plugin æ’ä»¶å¯ä»¥æµ‹é‡å„ä¸ªæ’ä»¶å’Œloaderæ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œä½¿ç”¨ä¹‹åï¼Œæ„å»ºæ—¶ï¼Œä¼šå¾—åˆ°ç±»ä¼¼ä¸‹é¢è¿™æ ·çš„ä¿¡æ¯ï¼š Vue-cli 2.x //webpack.config.js const SpeedMeasurePlugin = require(&quot;speed-measure-webpack-plugin&quot;); const smp = new SpeedMeasurePlugin(); const config = { //...webpacké…ç½® } module.exports = smp.wrap(config); Vue-cli 3.xï¼ˆä¸»è¦åŒºåˆ«æ˜¯åŒ…è£¹ configureWebpack ï¼‰ const SpeedMeasurePlugin = require(&#39;speed-measure-webpack-plugin&#39;) const smp = new SpeedMeasurePlugin({ outputFormat: &#39;human&#39; }) module.exports = { configureWebpack: smp.wrap({ plugins: [] }) } 4.1.2 webpack-bundle-analyzerè¿™ä¸ªæ˜¯åˆ†ææ‰“åŒ…åï¼Œå„ä¸ªæ–‡ä»¶çš„å¤§å°ï¼Œç”¨äºåˆ†æbundleçš„ å®‰è£… npm i webpack-bundle-analyzer -D åœ¨ Vue-cli 3.x ä¸‹ï¼Œå®‰è£…è¿™ä¸ªåŒ…ä¼šæŠ¥é”™ï¼Œæ˜¯å› ä¸ºç”¨ Vue-cli 3.x æ„å»ºçš„é¡¹ç›®åœ¨ node_modules ä¸­å·²ç»å­˜åœ¨ï¼Œä½†æ˜¯é¡¹ç›®çš„ package.json ä¸­æ²¡æœ‰å¼•ç”¨ã€‚ éœ€è¦åœ¨ node_modules ä¸­åˆ é™¤è¿™ä¸ªåŒ…ï¼Œé‡æ–°å®‰è£…å°±å¯ä»¥ã€‚ ä½¿ç”¨ï¼šï¼ˆä¸‹é¢æ˜¯vue-cli 3.xï¼‰ const BundleAnalyzerPlugin = require(&#39;webpack-bundle-analyzer&#39;).BundleAnalyzerPlugin configureWebpack: smp.wrap({ plugins: [ // è¿™ä¸ªè¦æ”¾åœ¨æ‰€æœ‰ plugins æœ€å new BundleAnalyzerPlugin() ] }) åœ¨æ„å»ºå®Œæˆåï¼Œä¼šç›´æ¥å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼Œæœ‰ä¸€ä¸ªå¯è§†åŒ–çš„ç•Œé¢æŸ¥çœ‹æ„å»ºåçš„bundleã€‚ 4.2 ç¼“å­˜4.2.1 cache-loaderåœ¨ä¸€äº›æ€§èƒ½å¼€é”€è¾ƒå¤§çš„loaderå‰é¢æ·»åŠ cache-loaderï¼Œå°†ç»“æœç¼“å­˜åœ¨ç£ç›˜ä¸­ å®‰è£…ï¼š npm install cache-loader -D ä½¿ç”¨ï¼š åœ¨vue-cli2.x ä¸­ module.exports = { //... module: { //æˆ‘çš„é¡¹ç›®ä¸­,babel-loaderè€—æ—¶æ¯”è¾ƒé•¿ï¼Œæ‰€ä»¥æˆ‘ç»™å®ƒé…ç½®äº†`cache-loader` rules: [ { test: /\\.jsx?$/, use: [&#39;cache-loader&#39;,&#39;babel-loader&#39;] } ] } } åœ¨vue-cli3.xä¸­ï¼Œè¿™ä¸ªé…ç½®æ˜¯é»˜è®¤çš„é…ç½®ï¼Œåˆ†åˆ«å¯¹ï¼švue-loaderã€babel-loaderä¸¤ä¸ªè¿›è¡Œäº†ç¼“å­˜ï¼Œå…¶ä»–çš„éœ€è¦ç¼“å­˜å†è‡ªå·±é…ç½®ã€‚ 4.2.2 hard-source-webpack-pluginè¿™ä¸ªæ˜¯ä¸ºæ¨¡å—æä¾›ä¸­é—´ç¼“å­˜ï¼Œæ•ˆç‡æå‡å¾ˆå¤§ã€‚ å®‰è£… npm i hard-source-webpack-plugin -D ä½¿ç”¨ ç›´æ¥åœ¨ plugins ä¸­ newå°±å¯ä»¥ã€‚ const HardSourceWebpackPlugin = require(&#39;hard-source-webpack-plugin&#39;) module.exports = { configureWebpack: smp.wrap({ plugins: [ // ä¸ºæ¨¡å—æä¾›ä¸­é—´ç¼“å­˜ï¼Œç¼“å­˜è·¯å¾„æ˜¯ï¼šnode_modules/.cache/hard-source new HardSourceWebpackPlugin(), new BundleAnalyzerPlugin() ] }) } æ„å»ºåæ•ˆæœï¼š ä¸Šé¢ä¸‰å¹…å›¾ï¼Œåˆ†åˆ«æ˜¯é…ç½®åç¬¬ä¸€æ¬¡ã€ç¬¬äºŒæ¬¡ã€ç¬¬ä¸‰æ¬¡æ„å»ºçš„ï¼Œç¬¬ä¸‰æ¬¡æ„å»ºå¯ä»¥è¾¾åˆ°80%çš„æå‡ã€‚ 4.3 exclude/includeæˆ‘ä»¬å¯ä»¥é€šè¿‡exclueã€includeé…ç½®æ¥ç¡®ä¿è½¬ç§»å°½å¯èƒ½å°‘çš„æ–‡ä»¶ã€‚é¡¾åæ€ä¹‰ï¼ŒexcludeæŒ‡å®šè¦æ’é™¤çš„æ–‡ä»¶ï¼ŒincludeæŒ‡å®šè¦åŒ…å«çš„æ–‡ä»¶ã€‚ excludeçš„ä¼˜å…ˆçº§é«˜äºincludeï¼Œåœ¨includeå’Œexcludeä¸­ä½¿ç”¨ç»å¯¹è·¯å¾„æ•°ç»„ï¼Œå°½é‡é¿å…excludeï¼Œæ›´å€¾å‘äºä½¿ç”¨includeã€‚ //webpack.config.js const path = require(&#39;path&#39;); module.exports = { //... module: { rules: [ { test: /\\.js[x]?$/, use: [&#39;babel-loader&#39;], include: [path.resolve(__dirname, &#39;src&#39;)] } ] }, } ä¸‹å›¾æ˜¯æœªé…ç½®includeå’Œé…ç½®äº†includeçš„æ„å»ºç»“æœå¯¹æ¯”ï¼š 5. å†å²å¥½æ–‡æ¨è ã€ä¸‡å­—é•¿æ–‡ã€‘å²ä¸Šæœ€å¼ºcssã€htmlæ€»ç»“~çœ‹å®Œæ¶¨è–ªä¸å†æ˜¯æ¢¦ ã€ä¸‡å­—é•¿æ–‡ã€‘æœ€å…¨JavaScriptåŸºç¡€æ€»ç»“~å»ºè®®æ”¶è— Event Loopæˆ‘çŸ¥é“ï¼Œå®ä»»åŠ¡å¾®ä»»åŠ¡æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ é”‹åˆ©ç å†œæ­¦å™¨ä¹‹vscode é¢è¯•å®å…¸å¸¦ä½ èµ°ä¸Šäººç”Ÿå·…å³°","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"JavaScript","slug":"javascript","date":"2021-08-17T08:25:29.827Z","updated":"2021-08-18T08:21:26.755Z","comments":true,"path":"2021/08/17/javascript/","link":"","permalink":"/2021/08/17/javascript/","excerpt":"","text":"1ã€ä»‹ç»jså…¨ç§°javascriptï¼Œæ˜¯ä¸€é—¨è¿è¡Œåœ¨æµè§ˆå™¨ç«¯çš„è„šæœ¬è¯­è¨€ï¼Œç°åœ¨ä¹Ÿå¯ä»¥è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ï¼ˆnode.jsï¼‰ 2ã€ç»„æˆç°åœ¨è¯´çš„javasriptåŒ…å«3ä¸ªç»„æˆéƒ¨åˆ† ECMAScript è¯­æ³•æ ‡å‡†ï¼Œè¯­æ³•è§„åˆ™ DOM ä¸“é—¨ç”¨äºæ“ä½œé¡µé¢å…ƒç´ çš„æ–¹æ³• BOM ä¸“é—¨ç”¨äºæ“ä½œæµè§ˆå™¨çš„æ–¹æ³• webapiæœ‰æ—¶ç”¨æ¥ç»Ÿç§°1å’Œ2 3ã€jsä¹¦å†™ä½ç½® ç›´æ¥å°†å†…å®¹ç¼–å†™åœ¨scriptæ ‡ç­¾ä¸­ å¯ä»¥ç›´æ¥åœ¨ä¸€ä¸ªå•ç‹¬çš„jsæ–‡ä»¶ä¸­ç¼–å†™ï¼Œéœ€è¦å¼•å…¥ æ³¨æ„ç‚¹ï¼šåªè¦scriptæ ‡ç­¾ï¼Œè®¾ç½®äº†srcå±æ€§ï¼Œæ ‡ç­¾å†…çš„å†…å®¹å°†è¢«å¿½ç•¥ 4ã€jsçš„æ³¨é‡Šæ³¨é‡Šç»™å¼€å‘è€…çœ‹çš„ï¼Œæµè§ˆå™¨ä¸ä¼šæ‰§è¡Œï¼Œæ–¹ä¾¿ç»´æŠ¤ å•è¡Œæ³¨é‡Š// å¿«æ·é”®ctrl+/ å¤šè¡Œæ³¨é‡Š/**/ å¿«æ·é”®alt+shift+a 5ã€jsçš„è¾“å‡ºè¯­å¥ æŒ‡çš„å°±æ˜¯å¾€é¡µé¢ä¸­è¾“å‡ºçš„æ–¹å¼ alert è­¦å‘Šæ¡† confirm ç¡®è®¤æ¡†ï¼ˆå¯ä»¥é€‰æ‹©çš„ï¼‰ prompt è¾“å…¥æ¡†ï¼Œå¯ä»¥è®©ç”¨æˆ·è¾“å…¥å†…å®¹ document.write å¾€é¡µé¢ä¸­è¿½åŠ è¾“å…¥å†…å®¹ æ”¯æŒæ ‡ç­¾çš„è§£æï¼ˆè¯†åˆ«æ ‡ç­¾ï¼‰ console.log åœ¨æ§åˆ¶å°æ‰“å°å†…å®¹ï¼Œä¸“é—¨ç”¨äºè°ƒè¯•çš„ï¼Œç»™å¼€å‘è€…çœ‹ 6ã€å˜é‡ï¼ˆå°±æ˜¯å¯ä»¥å˜åŒ–çš„é‡ï¼‰6.1 ä½œç”¨å­˜å‚¨æ•°æ®ï¼Œä¸ºäº†å°†æ¥å¯ä»¥è¿ç®—ä½¿ç”¨ å…ˆå£°æ˜ï¼Œåèµ‹å€¼var age; age = 18; åŒæ—¶å£°æ˜å’Œèµ‹å€¼ var age1 = 18; console.log(age1); åªå£°æ˜ï¼Œä¸èµ‹å€¼ï¼ˆundefinedæœªå®šä¹‰ï¼Œåªè¦å˜é‡å£°æ˜äº†ä½†æ˜¯æœªèµ‹å€¼ï¼Œé»˜è®¤å€¼å°±æ˜¯undefinedï¼‰ ä¸å£°æ˜ï¼Œç›´æ¥èµ‹å€¼(ä¸æ¨èï¼Œå˜é‡ä¸€å®šè¦å£°æ˜äº†ï¼Œå†ä½¿ç”¨)age3=30; console.log(age3); ä¸å£°æ˜ï¼Œä¸èµ‹å€¼ï¼Œç›´æ¥ç”¨ xxx is not defined ä¸€å®šæ˜¯æ²¡æœ‰å£°æ˜èµ‹å€¼çš„å˜é‡ç›´æ¥ç”¨äº†ï¼Œä¼šæŠ¥é”™ å¯ä»¥åŒæ—¶å£°æ˜èµ‹å€¼å¤šä¸ªå˜é‡ï¼ˆæœ¬è´¨ä¸Šï¼Œåªæ˜¯çœç•¥äº†varï¼‰ 6.2 å˜é‡å‘½åè§„åˆ™å’Œè§„èŒƒ6.2.1 è§„åˆ™ å˜é‡åå¿…é¡»ç”±å­—æ¯ æ•°å­— ä¸‹åˆ’çº¿å’Œ $ç»„æˆï¼Œä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼ˆåæ¥ä¹Ÿå¼•å…¥ä¸­æ–‡ï¼Œä½†æ˜¯ä¸è¦è¿™ä¹ˆåšï¼‰ å˜é‡åä¸èƒ½æ˜¯å…³é”®å­—æˆ–è€…æ˜¯ä¿ç•™å­— å˜é‡åŒºåˆ†å¤§å°å†™ 6.2.2 è§„èŒƒ å£°æ˜çš„å˜é‡è¦æœ‰æ„ä¹‰ å£°æ˜çš„å˜é‡ï¼Œå¦‚æœå¾ˆé•¿ï¼Œéµå¾ªé©¼å³°å‘½åï¼ˆä»ç¬¬äºŒä¸ªå­—æ¯å¼€å§‹ï¼Œé¦–å­—æ¯å¤§å†™ï¼Œç”¨äºåˆ†å‰²å•è¯ï¼Œå¯è¯»æ€§é«˜ï¼‰ 6.3 å˜é‡çš„ä½œç”¨åŸŸï¼ˆå˜é‡èµ·ä½œç”¨çš„åŒºåŸŸï¼‰ å…¨å±€ä½œç”¨åŸŸï¼ˆåœ¨scriptæ ‡ç­¾å†…ï¼Œåœ¨å‡½æ•°å¤–çš„åŒºåŸŸï¼‰ å£°æ˜åœ¨å…¨å±€ä½œç”¨åŸŸçš„å˜é‡ï¼Œå°±å«å…¨å±€å˜é‡ ç‰¹å¾ï¼šåœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨ å±€éƒ¨ä½œç”¨åŸŸï¼ˆå‡½æ•°å†…éƒ¨çš„åŒºåŸŸï¼Œå°±æ˜¯å±€éƒ¨ä½œç”¨åŸŸï¼‰ å£°æ˜åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå°±å«å±€éƒ¨å˜é‡ ç‰¹å¾ï¼šåªåœ¨å½“å‰å‡½æ•°å†…å¯ä»¥ä½¿ç”¨ï¼Œå‡ºäº†å‡½æ•°ï¼Œå°±ä¸èƒ½ç”¨äº† 6.4 å˜é‡çš„è®¿é—®è§„åˆ™å¦‚æœè‡ªå·±çš„ä½œç”¨åŸŸå†…æœ‰è¿™ä¸ªå˜é‡ï¼Œç›´æ¥ç”¨ï¼Œæ”¹è‡ªå·±çš„å¦‚æœæ²¡æœ‰ï¼Œæ‰ä¼šå¾€å¤–é¢æ‰¾ï¼ˆæ‰¾å…¨å±€ï¼‰,ç”¨å¤–é¢çš„ï¼Œæ”¹å¤–é¢çš„ 6.5 éšå¼å…¨å±€å˜é‡å¦‚æœä¸€ä¸ªæ²¡æœ‰å£°æ˜è¿‡çš„å˜é‡ï¼Œç›´æ¥èµ‹å€¼ï¼Œå°±å«éšå¼å…¨å±€å˜é‡ï¼ˆå°†æ¥è¦é¿å…ï¼‰ 6.6 é¢„è§£æï¼ˆé¢„å…ˆè§£æï¼Œæµè§ˆå™¨ä¼šå…ˆæŸ¥çœ‹æœ‰å¤šå°‘çš„å˜é‡å’Œå‡½æ•°ï¼‰ æ‰€æœ‰çš„å˜é‡å£°æ˜ï¼Œéƒ½ä¼šæå‡åˆ°æœ€é¡¶éƒ¨ï¼Œåªæå‡å£°æ˜ï¼Œä¸æå‡èµ‹å€¼ æ‰€æœ‰çš„å‡½æ•°å£°æ˜ï¼Œéƒ½ä¼šæå‡åˆ°æœ€é¡¶éƒ¨ï¼Œåªæå‡å£°æ˜ï¼Œä¸æå‡è°ƒç”¨ è¡¥å……è¯´æ˜: å¤šä¸ªé‡åçš„varå£°æ˜ï¼Œåé¢çš„varå°†è¢«å¿½ç•¥ å¤šä¸ªé‡åçš„å‡½æ•°å£°æ˜ï¼Œåé¢çš„å°†å‰é¢çš„è¦†ç›– å¦‚æœå‡ºç°äº†åŒåçš„å˜é‡å’Œå‡½æ•°ï¼Œå‡½æ•°ä¼˜å…ˆï¼Œå‡½æ•°çš„ä¼˜å…ˆçº§&gt;å˜é‡ å‡½æ•°å†…éƒ¨ä¹Ÿä¼šè¿›è¡Œé¢„è§£æ é¢„è§£æï¼Œè™½ç„¶å¯ä»¥æå‡æˆ‘ä»¬çš„å£°æ˜ï¼Œä½†æ˜¯æˆ‘ä»¬å¼€å‘æ—¶ï¼Œè¿˜æ˜¯è¦å…ˆå£°æ˜ï¼Œåä½¿ç”¨ï¼ï¼ï¼ 7ã€jsçš„æ•°æ®ç±»å‹åˆ†ä¸ºï¼šç®€å•æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹ ï¼ˆæ•°ç»„ã€å‡½æ•°ã€å¯¹è±¡ï¼‰ 7.1 ç®€å•æ•°æ®ç±»å‹7.1.1 numberç±»å‹ï¼ˆæ•°å­—ç±»å‹ï¼‰ æ•´æ•°ï¼ˆä¸€èˆ¬ä½¿ç”¨çš„æ˜¯åè¿›åˆ¶ é€¢åè¿›ä¸€ï¼‰ å…«è¿›åˆ¶ï¼Œé€¢å…«è¿›ä¸€ï¼Œ0å¼€å¤´ var num3 = 011 //å°±æ˜¯1*8+1 ä¸º9; var num4 = 022 //2*8+2 ä¸º18 åå…­è¿›åˆ¶ï¼Œé€¢16è¿›ä¸€ï¼Œ0xå¼€å¤´çš„æ•°å­— 0-9abcdef var num2 = 0x11 //1*16+1 ä¸º17; var num3 = 0x1a //16+10ä¸º26; æµ®ç‚¹æ•°ï¼ˆå°æ•°ï¼‰ ç§‘å­¦è®¡æ•°æ³• var num1 = 1e4 å°±æ˜¯1*10^4 æ³¨æ„ç‚¹ï¼šè®¡ç®—æœºå¯¹äºå°æ•°çš„è¿ç®—æ˜¯ä¸å‡†ç¡®çš„ï¼Œä¼šæœ‰å¾ˆå°å¾ˆå°çš„è¯¯å·®ï¼Œæ‰€ä»¥å°½é‡ä¸è¦ç”¨ å°æ•°è¿›è¡Œæ¯”è¾ƒè¿ç®— 7.1.2 stringç±»å‹ å­—ç¬¦ä¸²ç±»å‹ é€šè¿‡ &#39;&#39; æˆ–è€… &quot;&quot; åŒ…è£¹çš„å°±æ˜¯å­—ç¬¦ä¸²ï¼Œjsä¸­å•åŒå¼•å·ï¼Œæ²¡æœ‰åŒºåˆ«ï¼Œæ¨è&#39;&#39;. å­—ç¬¦ä¸²é€šè¿‡lengthï¼Œå¯ä»¥è·å–é•¿åº¦ console.logï¼ˆstr.lengthï¼‰; è½¬ä¹‰å­—ç¬¦\\&#39; è¡¨ç¤ºä¸€ä¸ªæ™®é€šçš„å•å¼•å· \\&quot; è¡¨ç¤ºä¸€ä¸ªæ™®é€šçš„åŒå¼•å· \\n è¡¨ç¤ºæ¢è¡Œ æ‹¼ä¸²ï¼ˆæ‹¼æ¥å­—ç¬¦ä¸²ï¼‰ + æœ‰æ‹¼æ¥å­—ç¬¦ä¸²çš„åŠŸèƒ½ï¼Œä¹Ÿæœ‰è¿ç®—çš„åŠŸèƒ½ + çš„è§„åˆ™ï¼š åªè¦ä¸¤è¾¹æœ‰å­—ç¬¦ä¸²ï¼ˆé»‘è‰²ï¼‰ï¼Œè¿›è¡Œçš„å°±æ˜¯æ‹¼ä¸² åªæœ‰ä¸¤è¾¹éƒ½æ˜¯æ•°å­—ï¼ˆè“è‰²ï¼‰ï¼Œæ‰è¿›è¡Œè¿ç®— 7.1.3 booleanç±»å‹ å¸ƒå°”ç±»å‹åªæœ‰ä¸¤ä¸ªå€¼ï¼ŒtrueçœŸ falseå‡ä¸€èˆ¬ç”¨äºæ¯”è¾ƒ 7.1.4 undefined æœªå®šä¹‰çš„ï¼Œå˜é‡å£°æ˜äº†ï¼Œä½†æ˜¯æœªèµ‹å€¼ï¼Œé»˜è®¤å€¼å°±æ˜¯underfined7.1.5 null ç©ºå¯¹è±¡7.2 å¤æ‚æ•°æ®ç±»å‹8ã€å˜é‡ä¸ç®€å•æ•°æ®ç±»å‹çš„è¯´æ˜ å¯¹äºç®€å•æ•°æ®ç±»å‹ï¼Œæµè§ˆå™¨ç›´æ¥è®¤è¯†ï¼ˆç›´æ¥é‡ æˆ–è€… å­—é¢é‡ï¼‰ è‹¥æ˜¯å°†å­—ç¬¦ä¸²å½“æˆäº†å˜é‡ï¼ˆæœªå£°æ˜ï¼Œæœªèµ‹å€¼çš„å˜é‡ç›´æ¥ä½¿ç”¨ï¼Œä¼šæŠ¥é”™ï¼‰ å­—ç¬¦ä¸²éœ€è¦å¼•å·åŒ…è£¹ 9ã€è¿ç®—ç¬¦ï¼ˆæ“ä½œç¬¦ï¼‰9.1 ç®—æœ¯è¿ç®—ç¬¦ + - * / %(å–ä½™) + ä¸ä»…æœ‰æ‹¼ä¸²çš„åŠŸèƒ½ï¼Œè¿˜å¯ä»¥è¿ç®— å…¶ä»–ç®—æ•°è¿ç®—ç¬¦ï¼Œåªæœ‰è¿ç®—çš„åŠŸèƒ½ï¼Œå¦‚æœé‡åˆ°äº†å­—ç¬¦ä¸²ï¼Œä¹Ÿä¼šè½¬æˆæ•°å­—è¿ç®—&quot;2&quot; - 1 = &gt;1 9.2 èµ‹å€¼è¿ç®—ç¬¦ ==ï¼ˆå°±æ˜¯èµ‹å€¼ï¼‰ += -= *= /= %=var num = 10; num += 10; //ç­‰ä»· num = num + 10 9.3 è‡ªå¢æˆ–è‡ªå‡è¿ç®—ç¬¦ï¼ˆä¸€å…ƒè¿ç®—ç¬¦ï¼‰9.3.1 è‡ªå¢ï¼šè®©å˜é‡çš„å€¼ï¼Œåœ¨åŸæ¥çš„åŸºç¡€ä¸Š+1 è¯­æ³•ï¼š++num å‰è‡ªå¢ï¼Œè§„åˆ™ï¼šå…ˆè®©å€¼+1ï¼Œå†è¿”å›è¿™ä¸ªå€¼num++ åè‡ªå¢ï¼Œè§„åˆ™ï¼šå…ˆè¿”å›è¿™ä¸ªå€¼ï¼Œå†è®©å€¼+1 æ³¨æ„ç‚¹ï¼š ä¸ç®¡æ˜¯++num è¿˜æ˜¯num++ ä»åŠŸèƒ½çš„è§’åº¦ä¸€æ ·çš„ï¼Œéƒ½æ˜¯è®©å˜é‡çš„å€¼+1 è™½ç„¶++num æˆ– num++ éƒ½èƒ½è®©å˜é‡å€¼+1ï¼Œä½†æ˜¯++num å’Œ num++è¿™ä¸ªå¼å­çš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ 9.3.2 è‡ªå‡ï¼šè®©å˜é‡çš„å€¼ï¼Œåœ¨åŸæ¥çš„åŸºç¡€ä¸Š-1*è¯­æ³•ï¼š--numnum-- 9.4 é€»è¾‘è¿ç®—ç¬¦ï¼ˆä¸æˆ–éï¼‰&amp;&amp; å¹¶ä¸” ä¸¤è¾¹éƒ½è¦æˆç«‹ï¼Œç»“æœæ‰æ˜¯ trueï¼Œåªè¦æœ‰ä¸€ä¸ªä¸æˆç«‹ï¼Œå°±æ˜¯false|| æˆ– ä¸¤è¾¹åªè¦æœ‰ä¸€ä¸ªæˆç«‹ï¼Œç»“æœå°±æ˜¯true! å–å 9.5 æ¯”è¾ƒè¿ç®—ç¬¦ &gt; &lt; &gt;= &lt;= == != === !==== è§„åˆ™ï¼šåªçœ‹å€¼ï¼Œä¸çœ‹ç±»å‹ï¼ˆåªè¦å€¼ç›¸ç­‰ï¼Œå°±æ˜¯ç›¸ç­‰ï¼‰=== è§„åˆ™ï¼šçœ‹å€¼ï¼Œåˆçœ‹ç±»å‹ï¼ˆå€¼å’Œç±»å‹éƒ½è¦ç›¸ç­‰ï¼‰!= è§„åˆ™ï¼šåªçœ‹å€¼ï¼Œä¸çœ‹ç±»å‹ï¼ˆåªè¦å€¼ä¸ç­‰ï¼Œå°±æ˜¯trueï¼‰!== è§„åˆ™ï¼šçœ‹å€¼ï¼Œåˆçœ‹ç±»å‹ï¼ˆåªè¦å€¼æˆ–è€…ç±»å‹æœ‰ä¸€ä¸ªä¸ç­‰ï¼Œå°±æ˜¯ä¸ç­‰ï¼Œè¿”å›trueï¼‰ ==æœ‰ä¸€å®šè§„åˆ™ï¼ˆå¦‚æœç±»å‹ä¸åŒï¼Œè½¬æ¢æˆç›¸åŒç±»å‹ï¼Œç„¶åæ¯”è¾ƒï¼‰ NaNï¼Œä¸ç­‰äºä»»ä½•å€¼ï¼ŒåŒ…æ‹¬ä»–è‡ªå·± nullï¼Œä¸ç­‰äºä»»ä½•å€¼ï¼Œé™¤äº†nullå’Œundefined undefinedï¼Œä¸ç­‰äºä»»ä½•å€¼ ï¼Œé™¤äº†nullå’Œundefined çœ‹æ˜¯å¦æœ‰æ•°å­—æˆ–å¸ƒå°”ï¼Œå¦‚æœæœ‰ï¼Œè½¬æˆæ•°å­—æ¯”è¾ƒ trueï¼š1ï¼Œfalse:0 [ ]:0, { }:NaNï¼Œ&#39;&#39;:0 å†çœ‹æ˜¯å¦æœ‰å­—ç¬¦ä¸²ï¼Œï¼ˆå­—ç¬¦ä¸²å’Œå¤æ‚æ•°æ®ç±»å‹ï¼‰ï¼Œè½¬æˆå­—ç¬¦ä¸²æ¯”è¾ƒ [ ].toString()---&gt;&quot;&quot; obj.toString()---&gt;&#39;[object Object]&#39; éƒ½æ˜¯å¤æ‚æ•°æ®ç±»å‹ï¼Œæ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€ 9.6 è¿ç®—ç¬¦ä¼˜å…ˆçº§ æ‹¬å·çš„ä¼˜å…ˆçº§æœ€é«˜ ä¸€å…ƒè¿ç®—ç¬¦ ++ -- ! ç®—æ•°è¿ç®—ç¬¦ å…ˆä¹˜é™¤%ï¼ŒååŠ å‡ æ¯”è¾ƒè¿ç®—ç¬¦ é€»è¾‘è¿ç®—ç¬¦ &amp;&amp; || è®°å¿†ï¼šï¼ˆ1ï¼‰æ‹¬å·çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œé€»è¾‘è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§æœ€ä½ ï¼ˆ2ï¼‰å…ˆä¹˜é™¤ï¼ŒååŠ å‡ 10ã€å¦‚ä½•åˆ¤æ–­æ•°æ®çš„ç±»å‹10.1 ç›´æ¥æ‰“å°çœ‹é¢œè‰²ï¼ˆè°ƒè¯•ï¼Œçœ‹é¢œè‰²ï¼‰è“è‰²çš„æ•°å­—ï¼Œnumberé»‘è‰² stringè“è‰²çš„å¸ƒå°”å€¼ booleanç°è‰² undefinedå’Œnull 10.2 typeof å˜é‡ å®ƒçš„è¿”å›å€¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ number string boolean bug: typeof null = object; 11ã€æ•°æ®ç±»å‹è½¬æ¢11.1 è½¬æˆæ•°å­— Numberï¼ˆxxï¼‰ å¦‚æœæ‹¿åˆ°çš„æ˜¯ä¸€ä¸ªéæ•°å­—ï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œè¿”å› NaN,not a number parseIntï¼ˆxxï¼‰ ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹è§£æï¼Œä¸€ç›´è§£æåˆ°ç¬¬ä¸€ä¸ªéæ•°å­—ä¸ºæ­¢ parseFloatï¼ˆxxï¼‰ ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹è§£æï¼Œå¯ä»¥è¯†åˆ«ä¸€ä¸ª. ç„¶åè§£æåˆ°éæ•°å­—ä¸ºæ­¢ ç›´æ¥è¿ç®— - * / % +æ­£å·ï¼ˆç”¨çš„æœ€å¤šï¼Œä¾‹å¦‚+ageï¼‰ -è´Ÿå· 11.2 è½¬æˆå­—ç¬¦ä¸² Stringï¼ˆxxï¼‰ xx.toString() ç›´æ¥æ‹¼ä¸² ï¼ˆå¸¸ç”¨ï¼‰ console.log(age+ &quot;&quot;); 11.3 è½¬æˆå¸ƒå°”ç±»å‹æ‰€æœ‰çš„å€¼ï¼Œéƒ½å¯ä»¥è½¬æˆå¸ƒå°”ç±»å‹ è§„åˆ™ï¼šåªæœ‰è¿™6ç§æƒ…å†µï¼Œ 0 &quot;&quot; NaN null undefined false å¯ä»¥è½¬æˆfalseï¼Œå…¶ä»–æ‰€æœ‰å€¼ï¼Œéƒ½æ˜¯true Booleanï¼ˆï¼‰ !! 11.4 NaNçš„è¯´æ˜ï¼ˆè¡¨ç¤ºéæ•°å­—ï¼ŒæŒ‡ä¸€ä¸ªæ— æ³•ç”¨æ•°å­—è¡¨ç¤ºçš„æ•°å­—ï¼Œnot a numberï¼‰ å¦‚æœæµè§ˆå™¨é‡åˆ°äº†ä¸€ä¸ªæ— æ³•ç”¨æ•°å­—è¡¨ç¤ºçš„æ•°å€¼ï¼Œå°±ç”¨NaNè¡¨ç¤º åªè¦çœ‹åˆ°äº†NaNï¼Œè¯´æ˜ä»£ç çš„æ‰§è¡Œæœ‰é—®é¢˜ NaNçš„ç±»å‹æ˜¯numberç±»å‹ NaNä¸ç­‰äºä»»ä½•å€¼ï¼ŒåŒ…æ‹¬ä»–è‡ªå·± 12ã€æµç¨‹æ§åˆ¶12.1 é¡ºåºç»“æ„ï¼ˆä»ä¸Šåˆ°ä¸‹æ‰§è¡Œçš„ï¼Œé»˜è®¤ï¼‰12.2 åˆ†æ”¯ç»“æ„ï¼ˆé€‰æ‹©ç»“æ„ï¼‰12.2.1 ifè¯­å¥ è¯­æ³•1 ifï¼ˆæ¡ä»¶ï¼‰{ è¯­å¥1; } å¦‚æœæ¡ä»¶æˆç«‹ï¼Œæ‰§è¡Œè¯­å¥1 è¯­æ³•2 ifï¼ˆæ¡ä»¶ï¼‰{ è¯­å¥1; } else { è¯­å¥2; } å¦‚æœæ¡ä»¶æˆç«‹ï¼Œæ‰§è¡Œè¯­å¥1ï¼Œå¦åˆ™æ‰§è¡Œè¯­å¥2 è¯­æ³•3 ifï¼ˆæ¡ä»¶1ï¼‰{ è¯­å¥1; } else ifï¼ˆæ¡ä»¶2ï¼‰ { è¯­å¥2; } else { è¯­å¥3; } å¦‚æœæ¡ä»¶1æˆç«‹ï¼Œæ‰§è¡Œè¯­å¥1å¦‚æœæ¡ä»¶1ä¸æˆç«‹ï¼Œçœ‹æ¡ä»¶2ï¼Œå¦‚æœæ¡ä»¶2æˆç«‹ï¼Œæ‰§è¡Œè¯­å¥2å¦‚æœéƒ½ä¸æˆç«‹ï¼Œæ‰§è¡Œè¯­å¥3 12.2.2 ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆä¸‰ä¸ªå€¼å‚ä¸è¿ç®—ï¼Œåªé€‚ç”¨äºæ¯”è¾ƒç®€å•çš„åˆ¤æ–­ï¼Œå¯ä»¥æ›´åŠ ç®€æ´ï¼‰è¯­æ³• var ç»“æœ = æ¡ä»¶ ï¼Ÿ A ï¼šBï¼›ï¼ˆå¦‚æœæ¡ä»¶æ»¡è¶³ï¼Œå°±æ˜¯A å¦åˆ™Bï¼‰ 12.2.3 switch-caseï¼ˆæ ¹æ®å˜é‡çš„å…·ä½“ï¼Œè¿›è¡Œåˆ¤æ–­ï¼‰switchï¼ˆå˜é‡ï¼‰{ case å€¼1: è¯­å¥1; break;ï¼ˆbreakè¡¨ç¤ºè·³å‡ºswitchï¼Œæ¥ç€å¾€ä¸‹æ‰§è¡Œï¼‰ case å€¼2: è¯­å¥2; break;ï¼ˆbreakè¡¨ç¤ºè·³å‡ºswitchï¼Œæ¥ç€å¾€ä¸‹æ‰§è¡Œï¼‰ case å€¼3: è¯­å¥3; break;ï¼ˆbreakè¡¨ç¤ºè·³å‡ºswitchï¼Œæ¥ç€å¾€ä¸‹æ‰§è¡Œï¼‰ default: é»˜è®¤è¯­å¥; } åˆ¤æ–­å˜é‡çš„å€¼ å¦‚æœå€¼ï¼Œç­‰äºå€¼1ï¼Œæ‰§è¡Œè¯­å¥1 å¦‚æœå€¼ï¼Œç­‰äºå€¼2ï¼Œæ‰§è¡Œè¯­å¥2 ã€‚ã€‚ã€‚ å¦‚æœéƒ½ä¸æ»¡è¶³ï¼Œæ‰§è¡Œé»˜è®¤è¯­å¥ æ³¨æ„ç‚¹ï¼š ï¼ˆ1ï¼‰è¿›è¡Œçš„å€¼çš„æ¯”è¾ƒï¼Œè¿›è¡Œçš„æ˜¯å…¨ç­‰æ¯”è¾ƒ ï¼ˆ2ï¼‰å…»æˆå†™breakçš„ä¹ æƒ¯ï¼ˆä¸å†™breakï¼Œä¼šä¸€ç›´å¾€ä¸‹æ‰§è¡Œï¼‰ 12.2.4 ä¸‰ç§åˆ†æ”¯ç»“æ„çš„ä½¿ç”¨åœºæ™¯ï¼š if else é€‚ç”¨äºèŒƒå›´å½¢çš„åˆ¤æ–­ ä¸‰å…ƒè¿ç®—ç¬¦ åªé€‚ç”¨äºæ¯”è¾ƒç®€å•çš„åˆ¤æ–­ï¼Œæ¡ä»¶åªèƒ½å†™ä¸€ä¸ªï¼Œä½†æ˜¯ç®€æ´ switchã€‚ã€‚ caseã€‚ã€‚é€‚ç”¨äºå…·ä½“å€¼çš„åˆ¤æ–­ 12.3 å¾ªç¯ç»“æ„12.3.1 whileï¼ˆå½“æ¡ä»¶æˆç«‹æ—¶ï¼Œå¾ªç¯æ‰§è¡ŒæŸä»¶äº‹ï¼‰whileï¼ˆæ¡ä»¶ï¼‰{ å¾ªç¯ä½“; //å¾ªç¯æ‰§è¡Œçš„å†…å®¹ } æ¡ä»¶æˆç«‹ï¼Œæ‰§è¡Œå¾ªç¯ä½“åˆ¤æ–­æ¡ä»¶ï¼Œæ¡æ¡ˆä»¶æˆç«‹ï¼Œç»§ç»­æ‰§è¡Œå¾ªç¯ä½“ã€‚ã€‚ã€‚æ¡ä»¶ä¸æˆç«‹ï¼Œè·³å‡ºå¾ªç¯æ­»å¾ªç¯ï¼Œæ°¸è¿œéƒ½æ²¡æœ‰ç»“æŸçš„ä¸€ä¸ªå¾ªç¯ï¼Œå¼€å‘ä¸­éœ€è¦é¿å… whileå¾ªç¯ä¸€å®šè¦æœ‰æ¡ä»¶ï¼Œä¸ç„¶å°±æ­»å¾ªç¯äº† i++ä¸€èˆ¬æ”¾åœ¨{..}çš„æœ€åé¢ whileå¾ªç¯å¯ä»¥ç”¨äºå®ç°ä¸æ˜ç¡®å¾ªç¯æ¬¡æ•°çš„å¾ªç¯ 12.3.2 do whiledo { å¾ªç¯ä½“; //é‡å¤æ‰§è¡Œçš„å†…å®¹ }whileï¼ˆæ¡ä»¶) ä¸€ä¸Šæ¥ï¼Œç›´æ¥æ‰§è¡Œå¾ªç¯ä½“å†åˆ¤æ–­æ¡ä»¶ï¼Œå¦‚æœæ¡ä»¶æˆç«‹ï¼Œå†æ‰§è¡Œå¾ªç¯ä½“ã€‚ã€‚ã€‚ç›´åˆ°æ¡ä»¶ä¸æˆç«‹ï¼Œè·³å‡ºå¾ªç¯ do whileä¸€èˆ¬åªé€‚åˆï¼šä¸ç®¡æ¡ä»¶æˆç«‹ä¸æˆç«‹ï¼Œéƒ½æ‰§è¡Œä¸€æ¬¡while å’Œ do whileçš„åŒºåˆ«ï¼š while å¦‚æœæ¡ä»¶ä¸æˆç«‹ï¼Œä¸€æ¬¡éƒ½ä¸æ‰§è¡Œ do whileä¸ç®¡æ¡ä»¶æˆç«‹ä¸å¦ï¼Œè‡³å°‘æ‰§è¡Œä¸€æ¬¡ 12.3.3 forï¼ˆé€‚ç”¨äºæ˜ç¡®èŒƒå›´çš„å¾ªç¯ï¼‰forï¼ˆåˆå§‹åŒ–è¯­å¥;åˆ¤æ–­æ¡ä»¶;è‡ªå¢æˆ–è‡ªå‡ï¼‰{ å¾ªç¯ä½“; } ä¾‹ï¼š forï¼ˆvar i = 1ï¼›i &lt; 5; i++ï¼‰{ console.log(1); } æ‰§è¡Œè¯­å¥ï¼š åˆå§‹åŒ–è¯­å¥ åˆ¤æ–­æ¡ä»¶ è‡ªå¢æˆ–è‡ªå‡ å¾ªç¯ä½“ æ‰§è¡Œæµç¨‹åˆ†æï¼š1243 243 243 243...æ‰§è¡Œæµç¨‹ï¼š å…ˆåˆå§‹åŒ–è¯­å¥ï¼Œåˆ¤æ–­æ¡ä»¶ï¼Œæ‰§è¡Œå¾ªç¯ä½“ï¼Œè‡ªå¢æˆ–è‡ªå‡ï¼› åˆ¤æ–­æ¡ä»¶ï¼Œæ‰§è¡Œå¾ªç¯ä½“ï¼Œè‡ªå¢æˆ–è‡ªå‡ï¼› ã€‚ã€‚ã€‚ æ¡ä»¶ä¸æˆç«‹ï¼Œè·³å‡ºå¾ªç¯ï¼› 12.3.4 åŒé‡forå¾ªç¯ï¼Œå°±æ˜¯åœ¨forå¾ªç¯çš„å¤–é¢å†å¥—ä¸€ä¸ªforå¾ªç¯ å¤–å±‚æ§åˆ¶è¡Œæ•° å†…å±‚æ§åˆ¶ä¸€è¡Œæ‰“å°å¤šå°‘ä¸ª breakï¼šå¦‚æœå¾ªç¯é‡åˆ°äº†breakï¼Œè·³å‡ºæ•´ä¸ªå¾ªç¯ï¼Œæ•´ä¸ªå¾ªç¯å°±ç»“æŸäº†ï¼Œåé¢çš„æ¬¡æ•°éƒ½ä¸æ‰§è¡Œäº† continueï¼šå¦‚æœå¾ªç¯é‡åˆ°äº†continueï¼Œè·³å‡ºæœ¬æ¬¡å¾ªç¯ï¼Œæ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯ 12.3.5 å¾ªç¯çš„ä½¿ç”¨åœºæ™¯ï¼š whileæ¯”è¾ƒé€‚åˆä¸æ˜ç¡®æ‰§è¡Œæ¬¡æ•°çš„å¾ªç¯ï¼ˆå¾ªç¯è¡¨ç™½æ¡ˆä¾‹ï¼‰ do whileï¼ˆå°‘ç”¨ï¼‰åªé€‚ç”¨äºä¸ç®¡æˆç«‹ä¸å¦ï¼Œè‡³å°‘æ‰§è¡Œä¸€æ¬¡å¾ªç¯ä½“çš„æƒ…å†µ foræ¯”è¾ƒé€‚åˆäºæ˜ç¡®èŒƒå›´çš„å¾ªç¯ 13ã€æ–­ç‚¹è°ƒè¯•ï¼ˆ1ï¼‰F12æ‰“å¼€æ§åˆ¶å°ï¼Œsources,ç‚¹å¼€å¯¹åº”çš„æ–‡ä»¶ï¼ˆ2ï¼‰åœ¨å¯¹åº”è¡Œçš„è¡Œå·ä¸Šï¼Œç‚¹å‡»æ‰“æ–­ç‚¹ï¼Œåˆ·æ–°åï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰§è¡Œåœç•™åœ¨æ–­ç‚¹çš„ä½ç½®æ“ä½œï¼šï¼ˆ1ï¼‰watchç›‘è§†ï¼Œç›‘è§†å˜é‡çš„å˜åŒ–ï¼ˆ2ï¼‰F10ï¼Œè®©ä»£ç å¾€ä¸‹ä¸€æ­¥æ‰§è¡Œï¼ˆ3ï¼‰F8ï¼Œä»å½“å‰ä½ç½®ï¼Œæ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹çš„ä½ç½®ï¼Œå¦‚æœåé¢æ²¡æœ‰æ–­ç‚¹äº†ï¼Œå°±ä¼šä¸€ç›´æ‰§è¡Œå®Œ 14ã€æ•°ç»„ï¼ˆæ˜¯ä¸€ä¸ªæœ‰åºçš„å€¼çš„é›†åˆï¼Œå¯ä»¥å­˜å‚¨å¤§é‡çš„æ•°æ®ï¼‰ç®€å•æ•°æ®ç±»å‹ï¼Œåœ¨å­˜å‚¨å¤§é‡æ•°æ®æ—¶ï¼Œä¸€ä¸ªä¸€ä¸ªçš„å­˜ï¼Œéå¸¸çš„æµªè´¹ 14.1 åˆ›å»ºæ•°ç»„çš„æ–¹å¼ å­—é¢é‡çš„æ–¹å¼ï¼ˆå­—é¢é‡ï¼Œç›´æ¥é‡ï¼Œä»å­—é¢ä¸Šç›´æ¥å°±èƒ½çœ‹å‡ºæ˜¯ä»€ä¹ˆå€¼çš„é‡ï¼‰ 123 false &#39;abc&#39; undefined null [ ]:è¡¨ç¤ºæ•°ç»„ var arr =[ ]åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ æ³¨æ„ç‚¹ï¼šæ•°ç»„é‡Œé¢å¯ä»¥å­˜ä»»æ„ç±»å‹çš„æ•°æ®ï¼Œä½†æ˜¯è§„èŒƒæ˜¯å­˜å‚¨åŒç±»å‹çš„æ•°æ® æ„é€ å‡½æ•°çš„æ–¹å¼ var arr = new Array(); ---åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ var arr = new Array(5);---æµªè´¹ç©ºé—´ï¼Œäº”ä¸ªç©ºçš„ä½ç½®ï¼Œæ²¡æœ‰å…·ä½“å€¼ 14.2 æ•°ç»„çš„é•¿åº¦ arr.length14.3 æ•°ç»„çš„ä¸‹æ ‡ï¼ˆç´¢å¼•ï¼‰ï¼šæ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„ä¸‹æ ‡ ä»0å¼€å§‹ï¼Œæœ€å¤§ä¸‹æ ‡arr.length-1 æ•°ç»„ä¸­ä¸‹æ ‡çš„èŒƒå›´ï¼š0 -----&gt; arr.length-1 14.4 æ•°ç»„çš„å–å€¼å’Œå­˜å€¼ å–å€¼ï¼šè¯­æ³•ï¼šæ•°ç»„å[ä¸‹æ ‡] å¦‚æœä¸‹æ ‡å­˜åœ¨ï¼Œç›´æ¥è¿”å›å¯¹åº”é¡¹çš„å€¼ å¦‚æœä¸‹æ ‡ä¸å­˜åœ¨ï¼Œè¿”å›undefined å­˜å€¼ï¼ˆæ”¹å€¼ï¼‰è¯­æ³•ï¼šæ•°ç»„å[ä¸‹æ ‡] = â€˜æ–°çš„å€¼â€™ å¦‚æœä¸‹æ ‡å­˜åœ¨ï¼Œç›´æ¥ç”¨æ–°çš„å€¼è¦†ç›– å¦‚æœä¸‹æ ‡ä¸å­˜åœ¨ï¼Œæ–°å»ºä¸€ä¸ªé¡¹ï¼Œè¿›è¡Œèµ‹å€¼ å¾€æ•°ç»„æœ€åæ·»åŠ é¡¹ arr[arr.length] = &#39;å€¼&#39;; arr.push(&#39;å€¼&#39;)ï¼› 14.5 æ•°ç»„çš„éå†ï¼šéåŠæ‰€æœ‰ï¼Œä»æ•°ç»„çš„ç¬¬ä¸€é¡¹ï¼Œè®¿é—®åˆ°æ•°ç»„çš„æœ€åä¸€é¡¹ æ•°ç»„æ­£åºéå† for (var i = 0; i &lt; arr.length; i++) { `console.log(arr[i]); } æ•°ç»„å€’å™éå† for (var i = arr.length-1; i &gt;=0; i--) { console.log(arr[i]); } 14.6 å†’æ³¡æ’åº å†’æ³¡ï¼ˆæŒ‡å¾—æ˜¯æ’åºçš„æ–¹å¼ï¼‰ æ’åºï¼ˆå°±æ˜¯è®²ä¸€ç»„æ²¡æœ‰æŒ‰ç…§é¡ºåºæ’åˆ—çš„æ•°ï¼Œç»è¿‡æ’åˆ—åï¼ŒæŒ‰ç…§ä¸€å®šçš„é¡ºåºæ’åˆ—ï¼‰ ä»·æ ¼æ’åºï¼Œæˆç»©æ’åº ç¼–ç¨‹ç•Œï¼Œæœ‰åå¤§æ’åº 14.7 åˆçº§ç‰ˆ å…ˆæ’å‡ºä¸€è¶Ÿï¼Œæ’å‡ºä¸€ä¸ªæœ€å¤§å€¼ éå†æ•°ç»„ è®©arr[i] å’Œ arr[i+1] æ¯”è¾ƒ å¦‚æœarr[i] &gt; arr[i+1] ï¼Œäº¤æ¢ä½ç½® åŒé‡forå¾ªç¯ï¼Œå¤šæ’å‡ æ¬¡ï¼Œå°±æ’å¥½äº† 14.8 ä¸­çº§ç‰ˆï¼ˆä¼˜åŒ–ï¼‰ï¼šä¸€è¶Ÿå¯ä»¥æ¯”å‡ºä¸€ä¸ªæœ€å¤§å€¼ï¼Œæ¯è¶Ÿä¸‹æ¥éƒ½å¯ä»¥å°‘æ¯”ä¸€æ¬¡ å†…å¾ªç¯-j 14.9 é«˜çº§ç‰ˆï¼ˆä¼˜åŒ–ï¼‰ï¼šå‡è®¾æˆç«‹æ³•ï¼Œå¦‚æœå·²ç»æ’å¥½åºäº†ï¼Œåé¢å°±ä¸ç”¨å†æ’äº† åœ¨æ¯è¶Ÿæ’åˆ—å‰ï¼Œå…ˆå‡è®¾ï¼Œå·²ç»æ’å¥½äº† ä¸€è¶Ÿä¸‹æ¥ï¼Œå¦‚æœä¸€æ¬¡äº¤æ¢éƒ½æ²¡æœ‰å‘ç”Ÿï¼Œflagå€¼å°±æ˜¯truevar arr = [7, 6, 5, 4, 3, 2, 1]; // å¤–å±‚æ§åˆ¶è¶Ÿæ•°, ä¸€è¶Ÿå¯ä»¥æ¯”å‡ºä¸€ä¸ªæœ€å¤§å€¼, 7ä¸ªæ•°, æ¯”6è¶Ÿå³å¯ for (var j = 0; j &lt; arr.length-1; j++) { // åœ¨æ¯è¶Ÿæ’åˆ—å‰, å…ˆå‡è®¾, å·²ç»æ’å¥½äº† var flag = true; for (var i = 0; i &lt; arr.length-1-j; i++) { if (arr[i] &gt; arr[i + 1]) { var temp = arr[i]; arr[i] = arr[i + 1]; arr[i+1] = temp; // å‘ç”Ÿäº†äº¤æ¢, è¯´æ˜æ²¡æœ‰æ’å¥½ flag = false; } } // ä¸€è¶Ÿä¸‹æ¥, å¦‚æœä¸€æ¬¡äº¤æ¢éƒ½æ²¡æœ‰å‘ç”Ÿ, flagå€¼å°±æ˜¯ true if (flag) { break; } } console.log(arr); 15ã€å‡½æ•°ï¼ˆå¯ä»¥å°†ä¸€æ®µé‡å¤çš„ä»£ç è¿›è¡Œå°è£…ï¼Œä¸€æ¬¡å£°æ˜ï¼Œå¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼‰å¥½å¤„ï¼šå¯ç»´æŠ¤æ€§é«˜ 15.1 å£°æ˜å‡½æ•°å‡½æ•°åçš„è§„èŒƒï¼šä¸€èˆ¬éƒ½æ˜¯åŠ¨è¯+åè¯ï¼ˆä¸€èˆ¬å‡½æ•°éƒ½æ˜¯è¦åšæŸä¸€ä»¶äº‹æƒ…ï¼‰ function å‡½æ•°å(){ å‡½æ•°ä½“; } å‡½æ•°å…‰å£°æ˜ï¼Œæ˜¯ä¸ä¼šæ‰§è¡Œçš„ã€‚ 15.1.1 è°ƒç”¨å‡½æ•°å‡½æ•°(); å‡½æ•°ä¸€æ¬¡å£°æ˜ï¼Œå¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼ï¼ï¼ 15.1.2 å‡½æ•°çš„å‚æ•°ï¼ˆåœ¨å‡½æ•°ä¸­ï¼Œéœ€è¦å‘ç”Ÿå˜åŒ–çš„å€¼ï¼Œå¯ä»¥å®šä¹‰æˆå‡½æ•°çš„å‚æ•°ï¼‰ å½¢å‚---å½¢å¼å‚æ•°ï¼ˆå‡½æ•°åœ¨å£°æ˜æ—¶ï¼Œå‡½æ•°åæ‹¬å·å†…çš„å‚æ•°ï¼‰ å½¢å‚é»˜è®¤æ²¡æœ‰å€¼æˆ–ç±»å‹ï¼ï¼ï¼åªåœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œå½¢å‚æ‰ä¼šæœ‰å…·ä½“çš„å€¼æˆ–ç±»å‹ ä½œç”¨ï¼šå ä½ç½® å®å‚---å®é™…å‚æ•°ï¼ˆå‡½æ•°è°ƒç”¨æ—¶ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ï¼‰ å®å‚æœ‰å…·ä½“çš„å€¼æˆ–è€…ç±»å‹ ä½œç”¨ï¼šåœ¨å‡½æ•°è°ƒç”¨æ—¶å°†æ•°æ®ä¼ é€’ç»™å½¢å‚ æ³¨æ„ç‚¹ï¼šå½¢å‚å’Œå®å‚ä¸€ä¸€å¯¹åº”ï¼ï¼ï¼ 15.1.3 å‡½æ•°çš„å£°æ˜å’Œè°ƒç”¨è¿›é˜¶å†™æ³•function å‡½æ•°åï¼ˆå½¢å‚1ï¼Œå½¢å‚2ï¼Œå½¢å‚3...ï¼‰{ å‡½æ•°ä½“; } 15.1.4 å‡½æ•°çš„è¿”å›å€¼å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡ æˆ–è€… å½¢å‚ï¼Œåªèƒ½åœ¨å‡½æ•°å†…ä½¿ç”¨ï¼Œå‡ºäº†å‡½æ•°å°±ç”¨ä¸äº†äº†å¦‚æœå¸Œæœ›å‡½æ•°çš„æ‰§è¡Œï¼Œæœ‰ç»“æœï¼Œéœ€è¦é€šè¿‡returnè¿”å›å†…å®¹ å‡½æ•°çš„ä¸‰è¦ç´ ---å†³å®šäº†ä¸€ä¸ªå‡½æ•°æ€ä¹ˆå»ä½¿ç”¨ å‡½æ•°åï¼šä¸€ä¸ªå‡½æ•°ä¸€æ¬¡å£°æ˜ï¼Œå¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼ˆè§„èŒƒï¼šåŠ¨è¯+åè¯ï¼‰ å‡½æ•°å‚æ•°ï¼šå¯æœ‰å¯æ— ï¼Œä½†æ˜¯å¦‚æœæœ‰éœ€è¦å˜åŒ–çš„å€¼ï¼Œä¸€èˆ¬éœ€è¦æå–æˆå½¢å‚ è¿”å›å€¼ï¼šå¯æœ‰å¯æ— ï¼Œä½†æ˜¯å¦‚æœéœ€è¦æ‹¿åˆ°å‡½æ•°çš„æ‰§è¡Œç»“æœï¼Œå°±å¿…é¡»è¦return 15.1.5 å‡½æ•°å‚æ•°ä¸è¿”å›å€¼çš„è¯´æ˜ å¼€å‘çš„æ—¶å€™ï¼Œå‡½æ•°çš„å‚æ•°è¦ä¸€ä¸€å¯¹åº” ä¼ é€’çš„å‚æ•°ï¼Œå¦‚æœå°‘äº†ï¼Œæ²¡æ¥æ”¶åˆ°å€¼çš„å½¢å‚ï¼Œå€¼å°±æ˜¯undefinedï¼ˆæ•°å­—å’ŒundefinedåŠ èµ·æ¥å°±æ˜¯NaNï¼‰ ä¼ é€’çš„å‚æ•°ï¼Œå¦‚æœå¤šäº†ï¼Œå¤šä¼ çš„å‚æ•°ï¼Œä¼šè¢«å¿½ç•¥ è¿”å›å€¼çš„é—®é¢˜ 1.returnçš„å€¼ï¼Œå°±æ˜¯å‡½æ•°çš„æ‰§è¡Œç»“æœ 2.returnåé¢çš„ä»£ç ï¼Œä¸æ‰§è¡Œäº†ï¼returnè¡¨ç¤ºå‡½æ•°çš„ç»“æŸï¼ï¼ 15.1.6 å‡½æ•°è°ƒè¯•è¯´æ˜ å‡½æ•°å¯ä»¥åœ¨å†…éƒ¨è°ƒç”¨å‡½æ•° F10 è®©ä»£ç å¾€ä¸‹ä¸€æ­¥æ‰§è¡Œï¼Œå¦‚æœé‡åˆ°äº†å‡½æ•°è°ƒç”¨ï¼Œä¼šè·³è¿‡å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œç›´æ¥çœ‹ç»“æœ F11è®©ä»£ç å¾€ä¸‹ä¸€æ­¥æ‰§è¡Œï¼Œå¦‚æœé‡åˆ°äº†å‡½æ•°è°ƒç”¨ï¼Œä¼šè¿›å…¥å‡½æ•°ä¸€æ­¥æ­¥æ‰§è¡Œ shift + F11 è·³å‡ºå‡½æ•°çš„æ‰§è¡Œï¼ˆå°†å½“å‰å‡½æ•°çš„è°ƒç”¨çš„å‰©ä½™ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œï¼Œç›´æ¥çœ‹ç»“æœï¼‰ 15.1.7 å£°æ˜å‡½æ•°çš„ä¸¤ç§æ–¹å¼ å‡½æ•°å£°æ˜å¼ï¼ˆå¯ä»¥å…ˆè°ƒç”¨ï¼Œåå£°æ˜---é¢„è§£æï¼Œä¼šæå‡å‡½æ•°çš„å£°æ˜ï¼‰ function fn( ) { console.log(&#39;å˜¿å˜¿&#39;); } å‡½æ•°è¡¨è¾¾å¼ï¼ˆåªå¯ä»¥å…ˆå£°æ˜èµ‹å€¼ï¼Œåè°ƒç”¨ï¼‰---å†™æ³•ç›¸å¯¹ä¸¥æ ¼ var fn = function( ){ console.log(&#39;å“ˆå“ˆ&#39;); }; 15.2 åŒ¿åå‡½æ•°ï¼ˆæ²¡æœ‰åå­—çš„å‡½æ•°ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼‰ä½¿ç”¨åœºæ™¯ï¼š å‡½æ•°è¡¨è¾¾å¼ var fn = function(){...} åŒ¿åå‡½æ•°è‡ªè°ƒç”¨ï¼ˆè‡ªæ‰§è¡Œ) ç›´æ¥è‡ªè°ƒç”¨ä¼šæŠ¥é”™ï¼Œå¯ä»¥ç»™æ•´ä¸ªå‡½æ•°åŒ…ä¸€ä¸ª( ),åŒ…æˆäº†ä¸€ä¸ªæ•´ä½“ï¼Œå°±å¯ä»¥è°ƒç”¨äº† (function ( ) { console.log(123); })( ); æ²™ç®±æ¨¡å¼--åŒ¿åå‡½æ•°è‡ªè°ƒç”¨çš„åº”ç”¨=&gt;å¯ä»¥ç”¨äºè§£å†³å…¨å±€å˜é‡æ±¡æŸ“é—®é¢˜ç”±äºå…¨å±€å˜é‡ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥è®¿é—®ï¼Œæ‰€ä»¥ä¸èƒ½ä¹±ç”¨ä¸€èˆ¬éƒ½ä¼šç”¨å‡½æ•°è‡ªè°ƒç”¨åŒ…è£¹èµ·æ¥ ï¼ˆfunction() {...}ï¼‰ 16ã€å¯¹è±¡ï¼ˆå¦‚æœéœ€è¦æè¿°ç°å®ç”Ÿæ´»å¯¹è±¡çš„ç‰¹å¾å’Œè¡Œä¸ºï¼Œå°±éœ€è¦jsä¸­çš„å¯¹è±¡ï¼‰16.1 æ¦‚å¿µï¼šæ— åºçš„é”®å€¼å¯¹çš„é›†åˆ16.2 åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ å­—é¢é‡1 â€˜abcâ€™ true undefined null [ ] { }var obj = { }åˆ›å»ºç©ºå¯¹è±¡ é”®å€¼å¯¹çš„é›†åˆï¼Œå¤šä¸ªé”®å€¼å¯¹é€šè¿‡&quot;ï¼Œ&quot;éš”å¼€ç‰¹å¾ï¼šå¯¹è±¡çš„å±æ€§è¡Œä¸ºï¼šå¯¹è±¡çš„æ–¹æ³•---å¯¹è±¡çš„å‡½æ•° æ„é€ å‡½æ•°çš„æ–¹å¼ï¼ˆäº†è§£ï¼‰var obj = new Object({...}); 16.3 å–å€¼å’Œèµ‹å€¼ï¼ˆç‚¹è¯­æ³•ï¼‰ å–å€¼ï¼šè¯­æ³•ï¼šå¯¹è±¡å.å±æ€§å å¯¹è±¡å.æ–¹æ³•å( );---æ–¹æ³•çš„è°ƒç”¨ï¼Œå¾—åˆ°æ•´ä¸ªå‡½æ•° æœ‰è¿™ä¸ªå±æ€§åï¼Œè¿”å›å¯¹åº”å€¼ å¦‚æœæ²¡æœ‰è¿™ä¸ªå±æ€§åï¼Œè¿”å›undefined èµ‹å€¼ï¼šè¯­æ³•ï¼šå¯¹è±¡å.å±æ€§å = &#39;æ–°çš„å€¼&#39; å¦‚æœæœ‰è¿™ä¸ªå±æ€§åï¼Œè¦†ç›– å¦‚æœæ²¡æœ‰è¿™ä¸ªå±æ€§åï¼Œæ–°å»ºä¸€ä¸ªå±æ€§å¹¶èµ‹å€¼ 16.3.1 ç‚¹è¯­æ³•ï¼ˆç®€æ´æ–¹ä¾¿ï¼Œä¸æ”¯æŒå˜é‡ï¼‰å¯¹è±¡å.å±æ€§å 16.3.2 ä¸­æ‹¬å·è¯­æ³•ï¼ˆæ”¯æŒå­—ç¬¦ä¸²æˆ–å˜é‡ï¼Œæ›´åŠ çš„çµæ´»ï¼‰å¯¹è±¡çš„å–å€¼ï¼šå¯¹è±¡å[&#39;å±æ€§å&#39;]å¯¹è±¡çš„èµ‹å€¼ï¼šå¯¹è±¡å[&#39;å±æ€§å&#39;] = &quot;æ–°çš„å€¼&quot;åªè¦è®¿é—®å¯¹è±¡å±æ€§æ—¶ï¼Œéœ€è¦ç”¨åˆ°å˜é‡ï¼Œåªèƒ½ç”¨ä¸­æ‹¬å·è¯­æ³• 16.4 å¯¹è±¡çš„éå†ï¼ˆè®¿é—®å¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼‰å›ºå®šè¯­æ³• ï¼ˆkeyå°±æ˜¯é”®ï¼Œå±æ€§åï¼‰ for ï¼ˆvar key in objï¼‰{ console.log(key); console.log(obj[key]);---æ‰“å°å±æ€§å€¼ } 16.5 æ‰¹é‡åˆ›å»ºå¯¹è±¡ï¼ˆå°†æ¥ç½‘ç«™ç”¨æˆ·ï¼Œä¸å¯èƒ½åªæœ‰ä¸€ä¸ªï¼Œå°±éœ€è¦æ‰¹é‡åˆ›å»ºå¯¹è±¡ï¼‰è®¾è®¡æ¨¡å¼ï¼ˆå·¥å‚æ¨¡å¼ã€å•ä¾‹æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ï¼‰åœ¨å¯¹è±¡çš„æ–¹æ³•ä¸­ï¼ŒthisæŒ‡ä»£å½“å‰å¯¹è±¡ï¼ˆå¯¹è±¡åï¼‰ 16.5.1 å·¥å‚å‡½æ•°ï¼ˆå¯ä»¥å°†åˆ›å»ºå¯¹è±¡çš„ä»£ç å°è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œè¿™ä¸ªå‡½æ•°å°±å«å·¥å‚å‡½æ•°ï¼‰é€šè¿‡å·¥å‚å‡½æ•°åˆ›å»ºçš„å¯¹è±¡ï¼Œæ²¡æœ‰å…·ä½“çš„ç±»å‹ï¼Œéƒ½æ˜¯Object function Student(sno,name,gender,major){ obj=new Object(); obj.sno=sno; obj.name=name; obj.gender=gender; obj.major=major; obj.say=function(){ console.log(&quot;hello!&quot;); } return obj; } var s=new Student(&quot;123&quot;,&quot;å¼ ä¸‰&quot;,&quot;ç”·&quot;,&quot;æ•°å­¦&quot;); for(var i in s){ document.write(i+&quot; : &quot;+s[i]+&quot;&lt;br&gt;&quot;); } è¿™é‡ŒStudent()å‡½æ•°ç›¸å½“äºä¸€ä¸ªå·¥å‚ï¼Œåœ¨å…¶å†…éƒ¨ç”Ÿäº§å¯¹è±¡ã€‚è¿™ç§æ–¹å¼ç®€åŒ–äº†ä»£ç ï¼Œä½†æ˜¯æ— æ³•ç»†åˆ†å¯¹è±¡ï¼Œä¹Ÿä¼šé€ æˆå…±æœ‰æ–¹æ³•å’Œå±æ€§çš„å†…å­˜æµªè´¹ã€‚æ— æ³•ç»†åˆ†å¯¹è±¡å°±æ˜¯ç”Ÿäº§å‡ºçš„å¯¹è±¡çš„constructoræ˜¯Objectï¼Œè€Œä¸æ˜¯è‡ªå®šä¹‰çš„ console.log(s.constructor); å†…å­˜æµªè´¹å°±æ˜¯å› ä¸ºæ–¹æ³•å£°æ˜åœ¨äº†å¯¹è±¡çš„å†…éƒ¨ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰åŒä¸€ä¸ªæ–¹æ³•ï¼Œé€ æˆäº†æµªè´¹ã€‚ 16.5.2 æ„é€ å‡½æ•°ï¼ˆç»™æ–°å»ºçš„å¯¹è±¡ï¼Œæ·»åŠ å±æ€§å’Œæ–¹æ³•----å®ä¾‹åŒ–å¯¹è±¡ï¼‰ å°±æ˜¯ä¸€ä¸ªå‡½æ•° é¦–å­—æ¯å¤§å†™ jsä¸­ï¼Œå†…ç½®äº†ä¸€äº›æ„é€ å‡½æ•°ï¼Œæ¯”å¦‚ï¼šObjectï¼ŒArray æ„é€ å‡½æ•°å¯ä»¥è‡ªå®šä¹‰ æ„é€ å‡½æ•°çš„ä½¿ç”¨æ­¥éª¤ è‡ªå·±å£°æ˜ä¸€ä¸ªæ„é€ å‡½æ•° ç»“åˆnewä¸€èµ·ä½¿ç”¨ï¼Œåˆ›å»ºä¸€ä¸ªæœ‰ç±»å‹çš„å¯¹è±¡function Student(sno,name,gender,major){ this.sno=sno; this.name=name; this.gender=gender; this.major=major; this.say=function(){ console.log(&quot;hello!&quot;); } } var s=new Student(&quot;1234&quot;,&quot;æå››&quot;,&quot;ç”·&quot;,&quot;ç‰©ç†&quot;); for(var i in s){ document.write(i+&quot; : &quot;+s[i]+&quot;&lt;br&gt;&quot;); } è¿™ç§æ¨¡å¼è§£å†³äº†å¯¹è±¡ä¸èƒ½ç»†åˆ†é—®é¢˜ï¼Œæ­¤æ—¶sçš„constructorå°±æ˜¯Student()æ„é€ å‡½æ•°äº†ã€‚console.log(s.constructor); ä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰è§£å†³å…¬æœ‰æ–¹æ³•é€ æˆçš„å†…å­˜æµªè´¹é—®é¢˜ã€‚ 16.5.3 æ„é€ å‡½æ•°+åŸå‹å¯¹è±¡æ¨¡å¼function Student(sno,name,gender,major){ this.sno=sno; this.name=name; this.gender=gender; this.major=major; } Student.prototype.say=function(){ console.log(&quot;hello!&quot;); } var s=new Student(&quot;12345&quot;,&quot;ç‹äº”&quot;,&quot;ç”·&quot;,&quot;åŒ–å­¦&quot;); for(var i in s){ document.write(i+&quot; : &quot;+s[i]+&quot;&lt;br&gt;&quot;); } è¿™ç§æ¨¡å¼å’Œæ„é€ å‡½æ¨¡å¼ç±»ä¼¼ï¼Œä¸åŒç‚¹æ˜¯è¯¥æ¨¡å¼æŠŠå…¬æœ‰çš„å±æ€§å’Œæ–¹æ³•å£°æ˜åˆ°æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä¸­ï¼Œè§£å†³äº†å†…å­˜æµªè´¹ã€‚ 16.5.4 newçš„ä½œç”¨ï¼ˆåˆ›å»ºå¯¹è±¡ï¼‰ ä¼šæ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼ŒæŒ‡å®šå¯¹è±¡çš„ç±»å‹ è®©æ„é€ å‡½æ•°çš„thisï¼ŒæŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡----this.name = &#39;å¼ ä¸‰&#39;; æ‰§è¡Œæ„é€ å‡½æ•°ï¼ˆç»™æ–°å»ºçš„å¯¹è±¡ï¼Œæ·»åŠ å±æ€§å’Œæ–¹æ³•ï¼‰ å°†æ–°åˆ›å»ºçš„å¯¹è±¡è¿”å› 16.6 å†…ç½®å¯¹è±¡ï¼ˆjsè¯­æ³•ä¸­ï¼Œå†…ç½®çš„ä¸€äº›å¯¹è±¡ï¼Œæä¾›äº†å¾ˆå¤šçš„å±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ç”¨ï¼‰16.6.1 Mathå¯¹è±¡ï¼ˆæä¾›äº†ä¸€ç³»åˆ—å’Œæ•°å­¦ç›¸å…³çš„å±æ€§å’Œæ–¹æ³•ï¼‰ PI Math.PI æ±‚æœ€å¤§æœ€å°å€¼ max minvar max = Math.max(3,5,6,110);console.log(max); å–æ•´ ceil floor roundï¼ˆ1ï¼‰ceilå‘ä¸Šå–æ•´ï¼Œå–å¤§çš„é‚£ä¸ªæ•°---å¤©èŠ±æ¿å‡½æ•°ï¼ˆ2ï¼‰floorå‘ä¸‹å–æ•´ï¼Œå–å°çš„é‚£ä¸ªæ•°---åœ°æ¿å‡½æ•°ï¼ˆ3ï¼‰roundå››èˆäº”å…¥ï¼Œç¦»å“ªä¸ªè¿‘å–å“ªä¸ª éšæœºæ•°random [0,1)å¯ä»¥å–åˆ°0ï¼Œå–ä¸åˆ°1å…¬å¼ï¼šæ±‚ä¸€ä¸ªæ•´æ•°èŒƒå›´0~Nï¼ŒparseInt(Math.random()*(N+1)) ç»å¯¹å€¼abs æ±‚æ¬¡æ–¹pow æ±‚å¼€æ–¹sqrt 16.6.2 Dateæ—¥æœŸå¯¹è±¡jsä¸­æä¾›çš„Dateæ„é€ å‡½æ•°ï¼Œå¯ä»¥åˆ›å»ºæ—¥æœŸå¯¹è±¡ å¦‚ä½•åˆ›å»ºæ—¥æœŸå¯¹è±¡ var now = new Date(); // æ„é€ å‡½æ•°ä¸ä¼ å‚ï¼Œåˆ›å»ºçš„æ˜¯å½“å‰æ—¶é—´ var date = new Date(&#39;2019-4-22 16:00:00&#39;); // æ„é€ å‡½æ•°ä¼ æ—¥æœŸå­—ç¬¦ä¸²ï¼ŒæŒ‡å®šå…·ä½“çš„æ—¥æœŸ æ—¥æœŸæ ¼å¼åŒ– ï¼ˆä¸ç”¨ï¼‰---ä¸€èˆ¬æ—¥æœŸæ ¼å¼éƒ½æ˜¯è‡ªå®šä¹‰çš„ var now = new Date();---å½“å‰æ—¶é—´ console.log(now.toString()); // è®©æ—¥æœŸä»¥æ ‡å‡†åŒ–çš„æ—¥æœŸå­—ç¬¦ä¸²æ ¼å¼åŒ–è¾“å‡º,&#39;Thu Apr 08 2021 11:13:41 GMT+0800 (GMT+08:00)&#39; console.log(now.toLocaleString()); // æœ¬åœ°åŒ–æ—¥æœŸå­—ç¬¦ä¸²æ ¼å¼è¾“å‡º,&#39;2021-4-8 11:13:41&#39; console.log(now.toLocaleDateString()); //åªæ˜¾ç¤ºæ—¥æœŸ,&#39;2021-4-8&#39; console.log(now.toLocaleTimeString()); //åªæ˜¾ç¤ºæ—¶é—´,&#39;11:13:41&#39; æ—¥æœŸæ ¼å¼çš„è‡ªå®šä¹‰ï¼Œxxå¹´xxæœˆxxæ—¥--è·å–æ—¥æœŸé‡Œé¢çš„å„ä¸ªç»„æˆéƒ¨åˆ†å¯ä»¥å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œä¸“é—¨ç»™å°äº10çš„æ•°ï¼Œå‰é¢åŠ ä¸Š0 function addZeroï¼ˆnï¼‰{ if(n&lt;10) { return &#39;0&#39; + n; } else { return n; } } var now = new Date(); // å½“å‰æ—¶é—´ var year = now.getFullYear(); // å¹´ var month = now.getMonth()+1; // è·å–æœˆï¼ŒgetMonthä»0å¼€å§‹ï¼ŒèŒƒå›´0-11 month = addZero(month); // è·å–æ—¥getDate // è·å–ä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤©ï¼ŒgetDay,èŒƒå›´0-6ï¼Œå‘¨æ—¥0ï¼Œå‘¨ä¸€1 var hours = now.getHours(); // æ—¶ï¼ŒgetHours var minutes = now.getMinutes(); // åˆ†ï¼ŒgetMinutes var seconds = now.getSeconds(); // ç§’ï¼ŒgetSeconds // now.getMillisecondsæ¯«ç§’ æ—¶é—´æˆ³ï¼ˆå°±æ˜¯æ•°å­—æ ¼å¼çš„æ—¥æœŸï¼Œä¾¿äºè¿ç®—ï¼Œä¸€èˆ¬ç”¨äºæ±‚æ—¶é—´å·®ï¼‰---è·ç¦»1970å¹´1æœˆ1æ—¥ 0æ—¶0åˆ†0ç§’ï¼Œæ‰€è¿‡å»çš„æ¯«ç§’æ•° var now = new Date(); console.log(+now); åº”ç”¨ ç»Ÿè®¡ä¸€æ®µä»£ç çš„æ‰§è¡Œæ—¶é—´---æ€§èƒ½ä¼˜åŒ–var begin = new Date(); var end = new Date(); console.log(end - begin); ç”¨äºç§’æ€å€’è®¡æ—¶ 17ã€æ•°ç»„å¯¹è±¡Array .join(åˆ†éš”ç¬¦)ï¼šå°†æ•°ç»„ä¸­çš„å€¼æ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›è¿™ä¸ªå­—ç¬¦ä¸²é»˜è®¤åˆ†éš”ç¬¦&quot; , &quot; æ•°ç»„çš„å¢åˆ æ“ä½œpush pop unshift shift ä¼šæ›´æ”¹åŸæ•°ç»„.pushåœ¨æ•°ç»„çš„æœ€åé¢ï¼Œæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªé¡¹ï¼Œè¿”å›æ•°ç»„çš„é•¿åº¦.popåœ¨æ•°ç»„çš„æœ€åé¢ï¼Œåˆ é™¤ä¸€ä¸ªé¡¹ï¼Œè¿”å›åˆ é™¤çš„é¡¹.unshiftåœ¨æ•°ç»„çš„æœ€å‰é¢ï¼Œæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªé¡¹ï¼Œè¿”å›æ•°ç»„çš„é•¿åº¦.shiftåœ¨æ•°ç»„çš„æœ€å‰é¢ï¼Œåˆ é™¤ä¸€é¡¹ï¼Œè¿”å›åˆ é™¤çš„é¡¹ ç¿»è½¬reverse ä¼šæ›´æ”¹åŸæ•°ç»„ æ’åºsortï¼ˆé»˜è®¤æŒ‰ç…§å­—ç¬¦ä¸²çš„æ–¹å¼è¿›è¡Œæ’åºï¼Œå…ˆæ¯”è¾ƒç¬¬ä¸€ä¸ªå­—ç¬¦ï¼‰ä¼šæ›´æ”¹åŸæ•°ç»„ å¦‚æœè¦åˆ¶å®šæ’åºè§„åˆ™ï¼Œæ˜¯éœ€è¦ä¼ å‚çš„ï¼ˆå‚æ•°ï¼šä¸€ä¸ªå‡½æ•°ï¼‰ arr.sort(function(a,b) { return a-b;---ä»å°å¾€å¤§ return b-a;---ä»å¤§å¾€å° }) aè¡¨ç¤ºå‰ä¸€é¡¹ï¼Œbè¡¨ç¤ºåä¸€é¡¹å‡½æ•°çš„è¿”å›å€¼&gt;0,aå’Œbäº¤æ¢ä½ç½®å‡½æ•°çš„è¿”å›å€¼=0ï¼Œä¸æ¢ä½ç½®å‡½æ•°çš„è¿”å›å€¼&lt;0,ä¸æ¢ä½ç½® åˆå¹¶ arr.concat(arr2,arr3....)ï¼Œè¿”å›åˆå¹¶åçš„æ–°æ•°ç»„ æˆªå–arr.sliceï¼ˆä»æ•°ç»„ä¸­ï¼Œæˆªå–ä¸€éƒ¨åˆ†å‡ºæ¥ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼‰ arr.slice();ä»å¼€å§‹ä¸€ç›´æˆªå–åˆ°æœ€åï¼ˆå°†æ•´ä¸ªæ•°ç»„æˆªå–ï¼Œå¤åˆ¶ä¸€ä»½ï¼‰ arr.slice(begin)ä»beginï¼ˆä¸‹æ ‡ï¼‰å¼€å§‹ä¸€ç›´æˆªå–åˆ°æœ€å arr.slice(begin,end)ä»beginï¼ˆä¸‹æ ‡ï¼‰å¼€å§‹ä¸€ç›´æˆªå–åˆ°endç»“æŸï¼ˆåŒ…æ‹¬begin,ä¸åŒ…æ‹¬endï¼‰ spliceæ–¹æ³•ï¼Œå¯ä»¥åœ¨æ•°ç»„çš„ä»»æ„ä½ç½®æ·»åŠ ã€åˆ é™¤ã€æ›¿æ¢ä»»æ„é¡¹---ä¼šæ›´æ”¹åŸæ•°ç»„ spliceï¼ˆä»å“ªå¼€å§‹åˆ ï¼Œåˆ å‡ ä¸ªï¼Œæ·»åŠ çš„é¡¹1ï¼Œæ·»åŠ çš„é¡¹2...ï¼‰ splice(begin,deleteCounts,item1,item2...) indexOfæŸ¥æ‰¾å€¼åœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼ˆå¯ä»¥ç”¨æ¥æŸ¥é‡ï¼‰ lastIndexOfæŸ¥æ‰¾å€¼åœ¨æ•°ç»„ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡å¦‚æœå€¼åœ¨æ•°ç»„ä¸­ä¸å­˜åœ¨ï¼Œè¿”å› -1 æ¸…ç©ºä¸€ä¸ªæ•°ç»„ arr = [ ]; arr.length = 0; arr.splice(0,arr.length) 18ã€åŸºæœ¬åŒ…è£…ç±»å‹ï¼ˆè§£é‡Šäº†ç®€å•æ•°æ®ç±»å‹ï¼Œä¸ºä»€ä¹ˆå¯ä»¥ç›´æ¥ä½¿ç”¨å±æ€§å’Œæ–¹æ³•ï¼‰jså†…éƒ¨ï¼Œå¯¹äºé™¤äº†undefinedå’Œnullçš„ç®€å•æ•°æ®ç±»å‹ï¼Œéƒ½æä¾›äº†ä¸€ä¸ªå¯¹åº”çš„å¤æ‚æ•°æ®ç±»å‹ ç®€ç­”æ•°æ®ç±»å‹ï¼šæ²¡æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œåªæœ‰å€¼å¤æ‚æ•°æ®ç±»å‹ï¼šå¯ä»¥æœ‰å¤šä¸ªå±æ€§å’Œæ–¹æ³• åœ¨jsä¸­ï¼Œå¦‚æœç®€å•æ•°æ®ç±»å‹ï¼Œåœ¨è®¿é—®å¤æ‚æ•°æ®ç±»å‹çš„å±æ€§æˆ–æ–¹æ³•æ—¶ ä¸ºäº†æ–¹ä¾¿ï¼Œè‡ªåŠ¨å°†ç®€å•æ•°æ®ç±»å‹ï¼ŒåŒ…è£…æˆå¤æ‚æ•°æ®ç±»å‹ï¼Œç„¶åè·å–å¯¹åº”çš„å€¼ ä¼šå°†å€¼å˜å›ç®€å•æ•°æ®ç±»å‹ 18.1 Numberé€šè¿‡new Number()åˆ›å»ºçš„å¯¹è±¡ï¼Œ``toString`` ``toFixed``ä¸¤ä¸ªæ–¹æ³• num.toFixed(3) ä¿ç•™3ä½å°æ•° 18.2 Boolean é€šè¿‡new Boolean()åˆ›å»ºçš„å¯¹è±¡ï¼ŒtoString 18.3 String å­—ç¬¦ä¸²å¯ä»¥å’Œæ•°ç»„ä¸€æ ·ï¼Œè¿›è¡Œéå†ï¼Œå­—ç¬¦ä¸²ä¸æ˜¯æ•°ç»„ï¼Œä¸èƒ½æ··ç”¨æ–¹æ³• indexOfå’ŒlastIndexOf æŸ¥æ‰¾å€¼åœ¨å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡/æœ€åä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ trimå»é™¤å­—ç¬¦ä¸²é¦–å°¾çš„ç©ºæ ¼ è½¬å¤§å°å†™toUpperCaseè½¬å¤§å†™toLowerCaseè½¬å°å†™ æ‹¼æ¥.concatå°†å­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥ï¼Œè¿”å›æ–°çš„å­—ç¬¦ä¸²ï¼‰ä¸€èˆ¬ç”¨+ æˆªå– slice(begin,end) ä»beginå¼€å§‹æˆªå–ï¼Œæˆªå–åˆ°endç»“æŸï¼ŒåŒ…æ‹¬beginï¼Œä¸åŒ…æ‹¬endbeginï¼ˆå¿…éœ€ï¼‰ï¼šè§„å®šä»ä½•å¤„å¼€å§‹é€‰å–ã€‚å¦‚æœæ˜¯è´Ÿæ•°ï¼Œé‚£ä¹ˆå®ƒè§„å®šä»å­—ç¬¦ä¸²å°¾éƒ¨å¼€å§‹ç®—èµ·çš„ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ-1 æŒ‡æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œ-2 æŒ‡å€’æ•°ç¬¬äºŒä¸ªå­—ç¬¦ï¼Œä»¥æ­¤ç±»æ¨ã€‚endï¼ˆå¯é€‰ï¼‰ï¼šè§„å®šä»ä½•å¤„ç»“æŸé€‰å–ï¼Œå³ç»“æŸå¤„çš„å­—ç¬¦ä¸‹æ ‡ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šè¯¥å‚æ•°ï¼Œé‚£ä¹ˆæˆªå–çš„å­—ç¬¦ä¸²åŒ…å«ä» start åˆ°ç»“æŸçš„æ‰€æœ‰å­—ç¬¦ã€‚å¦‚æœè¿™ä¸ªå‚æ•°æ˜¯è´Ÿæ•°ï¼Œé‚£ä¹ˆå®ƒè§„å®šçš„æ˜¯ä»æ•°ç»„å°¾éƒ¨å¼€å§‹ç®—èµ·çš„å­—ç¬¦ã€‚ var str = &quot;0123456789&quot;; console.log(&quot;åŸå§‹å­—ç¬¦ä¸²ï¼š&quot;, str); console.log(&quot;ä»ç´¢å¼•ä¸º3çš„å­—ç¬¦èµ·ä¸€ç›´åˆ°ç»“æŸï¼š&quot;, str.slice(3)); //3456789 console.log(&quot;ä»å€’æ•°ç¬¬3ä¸ªå­—ç¬¦èµ·ä¸€ç›´åˆ°ç»“æŸï¼š&quot;, str.slice(-3)); //789 console.log(&quot;ä»å¼€å§‹ä¸€ç›´åˆ°ç´¢å¼•ä¸º5çš„å‰ä¸€ä¸ªå­—ç¬¦ï¼š&quot;, str.slice(0,5)); //01234 console.log(&quot;ä»å¼€å§‹ä¸€ç›´åˆ°å€’æ•°ç¬¬3ä¸ªå­—ç¬¦çš„å‰ä¸€ä¸ªå­—ç¬¦ï¼š&quot;, str.slice(0,-3)); //0123456 console.log(&quot;ä»ç´¢å¼•ä¸º3çš„å­—ç¬¦èµ·åˆ°ç´¢å¼•ä¸º5çš„å‰ä¸€ä¸ªå­—ç¬¦ï¼š&quot;, str.slice(3,5)); //34 console.log(&quot;ä»ç´¢å¼•ä¸º3çš„å­—ç¬¦èµ·åˆ°å€’æ•°ç¬¬3ä¸ªå­—ç¬¦çš„å‰ä¸€ä¸ªå­—ç¬¦ï¼š&quot;, str.slice(3,-3)); //3456 substring(begin,end) ä»beginå¼€å§‹æˆªå–ï¼Œæˆªå–åˆ°endç»“æŸï¼ŒåŒ…æ‹¬beginï¼Œä¸åŒ…æ‹¬end var str = &quot;0123456789&quot;; console.log(&quot;åŸå§‹å­—ç¬¦ä¸²ï¼š&quot;, str); console.log(&quot;ä»ç´¢å¼•ä¸º3çš„å­—ç¬¦èµ·ä¸€ç›´åˆ°ç»“æŸï¼š&quot;, str.substring(3)); //3456789 console.log(&quot;ä»ç´¢å¼•ä¸º20çš„å­—ç¬¦èµ·ä¸€ç›´åˆ°ç»“æŸï¼š&quot;, str.substring(20)); // console.log(&quot;ä»ç´¢å¼•ä¸º3çš„å­—ç¬¦èµ·åˆ°ç´¢å¼•ä¸º5çš„å‰ä¸€ä¸ªå­—ç¬¦ç»“æŸï¼š&quot;, str.substring(3,5)); //34 console.log(&quot;startæ¯”endå¤§ä¼šè‡ªåŠ¨äº¤æ¢ï¼Œç»“æœåŒä¸Šï¼š&quot;, str.substring(5,3)); //34 console.log(&quot;ä»ç´¢å¼•ä¸º3çš„å­—ç¬¦èµ·åˆ°ç´¢å¼•ä¸º20çš„å‰ä¸€ä¸ªå­—ç¬¦ç»“æŸï¼š&quot;, str.substring(3,20)); //3456789 console.log(&quot;substringå°†è´Ÿæ•°è½¬åŒ–ä¸º0:&quot;, str.substring(-3)); // substr(begin,length) ä»beginå¼€å§‹æˆªå–ï¼Œæˆªå–lengthä¸ª var str = &quot;0123456789&quot;; console.log(&quot;åŸå§‹å­—ç¬¦ä¸²ï¼š&quot;, str); console.log(&quot;ä»ç´¢å¼•ä¸º3çš„å­—ç¬¦èµ·ä¸€ç›´åˆ°ç»“æŸï¼š&quot;, str.substr(3)); //3456789 console.log(&quot;ä»ç´¢å¼•ä¸º20çš„å­—ç¬¦èµ·ä¸€ç›´åˆ°ç»“æŸï¼š&quot;, str.substr(20)); // console.log(&quot;ä»ç´¢å¼•ä¸º3çš„å­—ç¬¦èµ·æˆªå–é•¿åº¦ä¸º5çš„å­—ç¬¦ä¸²ï¼š&quot;, str.substr(3,5)); //34567 console.log(&quot;ä»ç´¢å¼•ä¸º3çš„å­—ç¬¦èµ·æˆªå–é•¿åº¦ä¸º20çš„å­—ç¬¦ä¸²ï¼š&quot;, str.substr(3,20)); //3456789 ä¸‰è€…æ¯”è¾ƒ`javascriptvar str = &#39;ä¸­åäººæ°‘å…±å’Œå›½ä¸‡å²&#39;// ä¸€ï¼Œstartä¸ºè´Ÿæ•°ï¼Œendä¸ä¼ str.slice(-3) // &#39;å›½ä¸‡å²&#39;str.substring(-3) // &#39;ä¸­åäººæ°‘å…±å’Œå›½ä¸‡å²&#39;str.substr(-3) // &#39;å›½ä¸‡å²&#39;// è¯´æ˜ï¼š 1ï¼Œsliceä¸substrç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè´Ÿæ•°æ—¶ï¼Œå°†ä»å­—ç¬¦ä¸²åæ–¹å‘å¼€å§‹è®¡æ•°ï¼Œæœ«ä½è®°ä¸º-1,ç­‰åŒäºstr.slice(6)ï¼Œstr.substr(6)// 2ï¼Œsubstringå°†è´Ÿæ•°è½¬åŒ–ä¸º0ï¼Œæ—¢str.substring(0) // äºŒï¼Œstartä¸ºè´Ÿæ•°ï¼Œendä¸ºè´Ÿæ•°æ—¶str.slice(-3,-1) // &#39;å›½ä¸‡&#39;str.substring(-3,-1) // &#39;&#39;str.substr(-3,-1) // &#39;&#39;// è¯´æ˜ï¼š// 1ï¼Œsliceæ­£å¸¸æˆªå–å­—ç¬¦ä¸²ï¼Œç›¸æ¯”substringçµæ´»å¾ˆå¤š// 2ï¼Œsubstringå°†æ‰€æœ‰å‚æ•°è½¬åŒ–ä¸º0ï¼Œæ—¢str.substring(0,0)// 3ï¼Œsubstr endå‚æ•°ä¸èƒ½ä¸ºè´Ÿæ•° // ä¸‰ï¼Œstartä¸endå‡å¤§äºé›¶ï¼Œä¸”start &gt; endstr.slice(5,3) // &#39;&#39;str.substring(5,3) // &#39;æ°‘å…±&#39;str.substr(5,3) // &#39;å’Œå›½ä¸‡&#39;// è¯´æ˜ï¼š// 1ï¼Œsubstræ­£å¸¸æˆªå–å­—ç¬¦ä¸²ï¼Œä»£è¡¨ä»ç¬¬äº”ä½å¼€å§‹ï¼Œæˆªå–å­—ç¬¦ä¸²é•¿åº¦ä¸º3// 2ï¼Œå½“start&gt;endæ—¶ï¼Œsubstringåœ¨æå–å­ä¸²ä¹‹å‰ä¼šå…ˆäº¤æ¢è¿™ä¸¤ä¸ªå‚æ•°ï¼Œæ—¢è½¬æ¢ä¸ºsubstring(3,5)ï¼›è€Œsliceä¸èƒ½è¿›è¡Œæ­¤è½¬æ¢ï¼Œæ‰€ä»¥æˆªå–çš„ä¸ºç©ºå­—ç¬¦ä¸² // å››ï¼Œstartä¸endå‡å¤§äºé›¶ï¼Œä¸”start &lt; endstr.slice(3,5) //&#39;æ°‘å…±&#39;str.substring(3,5) // &#39;æ°‘å…±&#39;str.substr(3,5) // &#39;æ°‘å…±å’Œå›½ä¸‡&#39;// è¯´æ˜ï¼šä¸‰ç§æ–¹æ³•å‡æ­£å¸¸æˆªå–å­—ç¬¦ä¸²ï¼Œåªæ˜¯substrç¬¬äºŒä¸ªå‚æ•°å«ä¹‰ä¸åŒï¼Œä»£è¡¨æˆªå–çš„å­—ç¬¦ä¸²é•¿åº¦è€Œä¸æ˜¯ç»ˆæ­¢ä½ç½®ã€‚ ` é€šè¿‡.split(åˆ†éš”ç¬¦):å¯ä»¥å°†å­—ç¬¦ä¸²æ‹†åˆ†æˆæ•°ç»„ï¼Œä¼šè¿”å›ä¸€ä¸ªæ‹†åˆ†å¾—åˆ°çš„æ•°ç»„ é€šè¿‡join:å¯ä»¥å°†æ•°ç»„çš„å€¼ï¼Œæ‹¼æˆå­—ç¬¦ä¸²ï¼Œä¼šè¿”å›ä¸€ä¸ªæ‹¼æ¥æˆçš„å­—ç¬¦ä¸² replaceæ›¿æ¢ï¼Œä¼šè¿”å›æ›¿æ¢çš„ç»“æœ str.replace(&#39;aa&#39;,&#39;bb&#39;); // å°†å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªaaæ›¿æ¢æˆbb æƒ³è¦å…¨éƒ¨æ›¿æ¢ï¼Œéœ€è¦ç”¨åˆ°æ­£åˆ™str.replace(/aa/g,&#39;bb&#39;); 19ã€å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹ä»å†…å­˜çš„å­˜å‚¨è§’åº¦ï¼Œåˆ†æˆäº†å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹ï¼ˆå†…å­˜æ˜¯å¯ä»¥é‡Šæ”¾ï¼Œå¯ä»¥é‡å¤åˆ©ç”¨çš„ï¼‰ å€¼ç±»å‹ï¼ˆç®€å•æ•°æ®ç±»å‹ï¼‰ï¼šå­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œå­˜çš„æ˜¯å€¼æœ¬èº«å¼•ç”¨ç±»å‹ï¼ˆå¤æ‚æ•°æ®ç±»å‹ï¼‰ï¼šå­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œå­˜çš„æ˜¯å†…å­˜åœ°å€----ä¼šå•ç‹¬åœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€å—ç©ºé—´å­˜å‚¨ 19.1 å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„èµ‹å€¼ç±»å‹ å€¼ç±»å‹ï¼šå­˜å‚¨åœ¨å˜é‡ä¸­ ï¼Œå­˜çš„æ˜¯å€¼æœ¬èº«ï¼Œæ‰€ä»¥åœ¨èµ‹å€¼ç»™å…¶ä»–å˜é‡æ—¶ï¼Œèµ‹å€¼çš„æ˜¯å€¼æœ¬èº« å¼•ç”¨ç±»å‹ï¼šå­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œå­˜çš„æ˜¯å†…å­˜åœ°å€ï¼Œæ‰€ä»¥åœ¨èµ‹å€¼ç»™å…¶ä»–å˜é‡æ—¶ï¼Œèµ‹å€¼çš„æ˜¯å†…å­˜åœ°å€ 19.2 å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å€¼ä¼ é€’ï¼ˆè®©å€¼ä½œä¸ºå‡½æ•°çš„å‚æ•°è¿›è¡Œä¼ é€’ï¼‰ å€¼ç±»å‹ï¼šå­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œå­˜çš„æ˜¯å€¼æœ¬èº«ï¼Œæ‰€ä»¥åœ¨å€¼ä¼ é€’æ—¶ï¼Œä¼ çš„ä¹Ÿæ˜¯å€¼æœ¬èº« å¼•ç”¨ç±»å‹ï¼šå­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œå­˜çš„æ˜¯å†…å­˜åœ°å€ï¼Œæ‰€ä»¥åœ¨å€¼ä¼ é€’æ—¶ï¼Œä¼ çš„ä¹Ÿæ˜¯å†…å­˜åœ°å€ 20ã€typeof å…³é”®å­— typeofè·å–ç®€å•æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç›´æ¥è¿”å›å¯¹åº”çš„ç±»å‹ç‰¹ä¾‹ï¼štypeof null è¿”å›object typeofè·å–å¤æ‚æ•°æ®ç±»å‹ï¼Œä¸€èˆ¬è¿”å›objectç‰¹ä¾‹ï¼štypeof å‡½æ•° è¿”å›function å‡½æ•°æ˜¯jsçš„ä¸€ç­‰å…¬æ°‘ 21ã€é€»è¾‘ä¸­æ–­ï¼ˆçŸ­è·¯è¿ç®—ï¼‰&amp;&amp; ||&amp;&amp;æ‰¾å‡å€¼ï¼Œåªè¦é‡åˆ°äº†å‡å€¼ï¼Œå°±ä¸­æ–­çŸ­è·¯ï¼ˆåé¢çš„ä¸çœ‹äº†ï¼‰||æ‰¾çœŸå€¼ï¼Œåªè¦çœ‹åˆ°äº†çœŸå€¼ï¼Œå°±ä¸­æ–­çŸ­è·¯ï¼ˆåé¢çš„ä¸çœ‹äº†ï¼‰ function demo(fn){ fn&amp;&amp;fn(); //fnå­˜åœ¨ï¼Œæ‰å»è°ƒç”¨ } demo(function(){ console.log(111); }); demo(); é€»è¾‘æˆ–ï¼Œä¸€èˆ¬å¯ä»¥ç”¨äºè®¾ç½®é»˜è®¤å€¼,ä¹Ÿå¯ä»¥è§£å†³å…¼å®¹æ€§ function getSum(a,b){ a=a || 0; b=b || 0; var sum = a+b; return sum; } 22ã€å¦‚ä½•æ‹·è´ä¸€ä¸ªå¯¹è±¡å°è£…ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ‹·è´ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›ï¼ˆæµ…æ‹·è´ï¼Œåªæ‹·è´äº† ä¸€å±‚ï¼‰ function copy(obj){ var newObj = {}; for (var k in obj){ newObj[k] = obj[k]; } } æµ…æ‹·è´ï¼Œåªæ‹·è´äº†ä¸€å±‚ï¼Œå¦‚æœå…¨æ˜¯ç®€å•ç±»å‹çš„å±æ€§ï¼Œæ²¡æœ‰é—®é¢˜ ä½†æ˜¯å¦‚æœæœ‰å¤æ‚ç±»å‹çš„å±æ€§ï¼ˆå¯¹è±¡ï¼‰ï¼Œæ­¤æ—¶æ‹·è´çš„åªæ˜¯åœ°å€ï¼Œéœ€è¦å¤„ç†çš„ æ·±æ‹·è´ newObj[k] = typeof obj[k] === &#39;object&#39; ? copy(obj[k]) : obj[k]; // 1.éå†+é€’å½’ function deepClone(obj){ let newObj = {} for(let key in obj){ if(obj.hasOwnProperty(key)){ if(typeof(obj[key]) === &#39;object&#39; &amp;&amp; obj[key] !== null){ newObj[key] = (Array.isArray(obj[key]) ? [] : {}) newObj[key] = (Array.isArray(newObj[key]) ? [...obj[key]] : deepClone(obj[key])); }else{ newObj[key] = obj[key]; } } } return newObj; } // 2.Object.assign + é€’å½’ function deepClone(obj){ let newObj = {} for(let key in obj){ if(obj.hasOwnProperty(key)){ newObj[key] = (typeof obj[key] === &#39;object&#39; ? Object.assign(obj[key]) : obj[key]) } } return newObj } // 3.å¯¹è±¡æ‰©å±•+é€’å½’ function deepClone(obj){ var newObj ={} for(let key in obj){ if(obj.hasOwnProperty(key)){ if(typeof obj[key] === &#39;object&#39;){ newObj[key] = (Array.isArray(obj[key]) ? [] : {}) newObj[key] = (Array.isArray(newObj[key]) ? [...obj[key]] : {...obj[key]}) } else{ newObj[key] = obj[key] } } } return newObj } // 4.JSONå¤åˆ¶ï¼ˆå¯¹NaNå’Œundefinedæ— æ³•æ­£ç¡®å¤åˆ¶ï¼Œä¼šä¸¢å¤±ï¼‰ function deepClone(obj) { var newObj = JSON.parse(JSON.stringify(obj)) return newObj } 23ã€é¢å‘è¿‡ç¨‹ï¼šæ³¨é‡ç‚¹æ˜¯è¿‡ç¨‹å’Œæ­¥éª¤ï¼Œäº²åŠ›äº²ä¸ºï¼Œäº‹æ— å·¨ç»†çš„ï¼ï¼24ã€é¢å‘å¯¹è±¡ï¼šå…³æ³¨çš„æ˜¯æ‰¾ä¸€ä¸ªå¯¹è±¡ï¼Œå»åšæŸä»¶äº‹é¢å‘å¯¹è±¡ä¸æ˜¯é¢å‘è¿‡ç¨‹çš„æ›¿ä»£ï¼Œæ˜¯é¢å‘è¿‡ç¨‹çš„å°è£… 24.1 ç‰¹æ€§ï¼š å°è£…æ€§ ç»§æ‰¿æ€§ å¤šæ€æ€§ï¼ˆjsä¸­æ²¡æœ‰ï¼‰ 25ã€åŸå‹JavaScriptæ˜¯ä¸€é—¨åŸºäºåŸå‹çš„è¯­è¨€ï¼Œåœ¨è½¯ä»¶è®¾è®¡æ¨¡å¼ä¸­ï¼Œæœ‰ä¸€ç§æ¨¡å¼å«åšåŸå‹æ¨¡å¼ï¼ŒJavaScriptæ­£æ˜¯åˆ©ç”¨è¿™ç§æ¨¡å¼è€Œè¢«åˆ›å»ºå‡ºæ¥ 25.1 åŸå‹æ¨¡å¼åŸå‹æ¨¡å¼æ˜¯ç”¨äºåˆ›å»ºé‡å¤çš„å¯¹è±¡ï¼ŒåŒæ—¶åˆèƒ½ä¿è¯æ€§èƒ½ï¼Œè¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚è¿™ç§æ¨¡å¼æ˜¯å®ç°äº†ä¸€ä¸ªåŸå‹æ¥å£ï¼Œè¯¥æ¥å£ç”¨äºåˆ›å»ºå½“å‰å¯¹è±¡çš„å…‹éš†ã€‚åŸå‹æ¨¡å¼çš„ç›®çš„æ˜¯ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´åˆ©ç”¨å·²æœ‰çš„ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œå¯ä»¥å¿«é€Ÿåœ°ç”Ÿæˆå’ŒåŸå‹å¯¹è±¡ä¸€æ ·çš„æ–°å¯¹è±¡å®ä¾‹ 25.2 åŸå‹ï¼šä¸€ä¸ªå¯ä»¥è¢«å¤åˆ¶ï¼ˆæˆ–è€…å«å…‹éš†ï¼‰çš„ä¸€ä¸ªç±»ï¼Œé€šè¿‡å¤åˆ¶åŸå‹å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„æ–°å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è¯´åŸå‹å°±æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œåœ¨è®¾è®¡è¯­è¨€ä¸­æ›´å‡†ç¡®çš„è¯´æ˜¯ä¸€ä¸ªå¯¹è±¡æ¨¡æ¿ åŸå‹æ˜¯å®šä¹‰äº†ä¸€äº›å…¬ç”¨çš„å±æ€§å’Œæ–¹æ³•ï¼Œåˆ©ç”¨åŸå‹åˆ›å»ºå‡ºæ¥çš„æ–°å¯¹è±¡å®ä¾‹ä¼šå…±äº«åŸå‹çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•å®ä¾‹ä»£ç ï¼š`javascript// åˆ›å»ºåŸå‹var Person = function(name){ this.name = name;}; // åŸå‹çš„æ–¹æ³•Person.prototype.sayHello = function(){ console.log(this.name+&quot;,hello&quot;);}; // å®ä¾‹åŒ–åˆ›å»ºæ–°çš„åŸå‹å¯¹è±¡ï¼Œæ–°çš„åŸå‹å¯¹è±¡ä¼šå…±äº«åŸå‹çš„å±æ€§å’Œæ–¹æ³•var person1 = new Person(&quot;zhangsan&quot;);var person2 = new Person(&quot;lisi&quot;); // zhangsan,helloperson1.sayHello();// lisi,helloperson2.sayHello(); 2. ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒåŸå‹çš„å±æ€§å’Œæ–¹æ³•è¿˜æ˜¯ä¼šè¢«åŸå‹å®ä¾‹æ‰€å…±äº«çš„ å®ä¾‹ä»£ç ï¼š ```javascript // å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼ŒåŸå‹çš„å±æ€§å’Œæ–¹æ³•è¿˜æ˜¯ä¼šè¢«åŸå‹å®ä¾‹æ‰€å…±äº«çš„ &quot;use strict&quot;; // åˆ›å»ºåŸå‹ var Person = function(name){ this.name = name; }; // åŸå‹çš„æ–¹æ³• Person.prototype.sayHello = function(){ console.log(this.name+&quot;,hello&quot;); }; // å®ä¾‹åŒ–åˆ›å»ºæ–°çš„åŸå‹å¯¹è±¡ï¼Œæ–°çš„åŸå‹å¯¹è±¡ä¼šå…±äº«åŸå‹çš„å±æ€§å’Œæ–¹æ³• var person1 = new Person(&quot;zhangsan&quot;); var person2 = new Person(&quot;lisi&quot;); // zhangsan,hello person1.sayHello(); // lisi,hello person2.sayHello(); é€šè¿‡åŸå‹åˆ›å»ºçš„æ–°å¯¹è±¡å®ä¾‹æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä¸ºæ–°å¯¹è±¡å®ä¾‹æ·»åŠ çš„æ–¹æ³•åªæœ‰è¯¥å®ä¾‹æ‹¥æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œå…¶å®ƒå®ä¾‹æ˜¯æ²¡æœ‰è¿™ä¸ªæ–¹æ³•çš„å®ä¾‹ä»£ç ï¼š`javascript// åˆ›å»ºåŸå‹var Person = function(name){this.name = name;}; // åŸå‹çš„æ–¹æ³•Person.prototype.sayHello = function(){ console.log(this.name+&quot;,hello&quot;);}; // å®ä¾‹åŒ–åˆ›å»ºæ–°çš„åŸå‹å¯¹è±¡ï¼Œæ–°çš„åŸå‹å¯¹è±¡ä¼šå…±äº«åŸå‹çš„å±æ€§å’Œæ–¹æ³•var person1 = new Person(&quot;zhangsan&quot;);var person2 = new Person(&quot;lisi&quot;); // zhangsan,helloperson1.sayHello();// lisi,helloperson2.sayHello(); // ä¸ºæ–°å¯¹è±¡å®ä¾‹æ·»åŠ æ–¹æ³•// é€šè¿‡åŸå‹åˆ›å»ºçš„æ–°å¯¹è±¡å®ä¾‹æ˜¯ç›¸äº’ç‹¬ç«‹çš„person1.getName = function(){ console.log(this.name);} // zhangsanperson1.getName();// Uncaught TypeError: person2.getName is not a functionperson2.getName(); 4. åŸå‹çš„æ€»ç»“ï¼š * æ‰€æœ‰å¼•ç”¨ç±»å‹éƒ½æœ‰ä¸€ä¸ª__proto__(éšå¼åŸå‹)å±æ€§ï¼Œå±æ€§å€¼æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ * æ‰€æœ‰å‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototype(åŸå‹)å±æ€§ï¼Œå±æ€§å€¼æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ * æ‰€æœ‰å¼•ç”¨ç±»å‹çš„__proto__å±æ€§æŒ‡å‘å®ƒæ„é€ å‡½æ•°çš„prototype 5. å‡½æ•°çš„åŸå‹prototypeï¼šå‡½æ•°æ‰æœ‰prototypeï¼Œprototypeæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒæŒ‡å‘äº†å½“å‰æ„é€ å‡½æ•°çš„å¼•ç”¨åœ°å€ 6. å‡½æ•°çš„åŸå‹å¯¹è±¡__proto__ï¼šæ‰€æœ‰å¯¹è±¡éƒ½æœ‰__proto__å±æ€§ï¼Œ å½“ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–ï¼ˆnewï¼‰ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¼šå°†æ–°å¯¹è±¡çš„__proto__å±æ€§æŒ‡å‘ æ„é€ å‡½æ•°çš„prototype 7. åŸå‹å¯¹è±¡å’Œå‡½æ•°çš„åŸå‹çš„å…³ç³» ![åŸå‹å¯¹è±¡å’Œå‡½æ•°çš„åŸå‹çš„å…³ç³»](https://img-blog.csdnimg.cn/20190623221321362.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjYxNDA4MA==,size_16,color_FFFFFF,t_70) &gt; è¯´æ˜ï¼š &gt; * æ‰€æœ‰å‡½æ•°çš„__proto__éƒ½æ˜¯æŒ‡å‘Functionçš„prototype &gt; * æ„é€ å‡½æ•°newå‡ºæ¥çš„å¯¹è±¡__proto__æŒ‡å‘æ„é€ å‡½æ•°çš„prototype &gt; * éæ„é€ å‡½æ•°å®ä¾‹åŒ–å‡ºçš„å¯¹è±¡æˆ–è€…å¯¹è±¡çš„prototypeçš„__proto__æŒ‡å‘Objectçš„prototype &gt; Objectçš„prototypeæŒ‡å‘null 8. æ‰€æœ‰çš„åŸå‹å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨è·å¾—ä¸€ä¸ª``constructor``ï¼ˆæ„é€ å‡½æ•°ï¼‰å±æ€§ï¼Œè¿™ä¸ªå±æ€§ï¼ˆæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼‰æŒ‡å‘ prototype å±æ€§æ‰€åœ¨çš„å‡½æ•°ï¼ˆPersonï¼‰ 9. å®ä¾‹çš„æ„é€ å‡½æ•°å±æ€§ï¼ˆconstructorï¼‰æŒ‡å‘æ„é€ å‡½æ•° ï¼šperson1.constructor == Person 10. åŸå‹å¯¹è±¡ï¼ˆPerson.prototypeï¼‰æ˜¯ æ„é€ å‡½æ•°ï¼ˆPersonï¼‰çš„ä¸€ä¸ªå®ä¾‹ 11. åŸå‹çš„åˆ†ç±»ï¼š * ``éšå¼åŸå‹ï¼ˆ_proto_ï¼‰``ï¼šä¸Šé¢è¯´çš„è¿™ä¸ªåŸå‹æ˜¯JavaScriptä¸­çš„å†…ç½®å±æ€§[[prototype]]ï¼Œæ­¤å±æ€§ç»§æ‰¿è‡ªobjectå¯¹è±¡ï¼Œåœ¨è„šæœ¬ä¸­æ²¡æœ‰æ ‡å‡†çš„æ–¹å¼è®¿é—®[[prototype]]ï¼Œä½†Firefoxã€Safariå’ŒChromeåœ¨æ¯ä¸ªå¯¹è±¡ä¸Šéƒ½æ”¯æŒä¸€ä¸ªå±æ€§_proto_ï¼Œéšå¼åŸå‹çš„ä½œç”¨æ˜¯ç”¨æ¥æ„æˆåŸå‹é“¾ï¼Œå®ç°åŸºäºåŸå‹çš„ç»§æ‰¿ * ``æ˜¾ç¤ºåŸå‹``ï¼ˆprototypeï¼‰``ï¼šæ¯ä¸€ä¸ªå‡½æ•°åœ¨åˆ›å»ºä¹‹åï¼Œä¾¿ä¼šæ‹¥æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼Œæ˜¾ç¤ºåŸå‹çš„ä½œç”¨æ˜¯ç”¨æ¥å®ç°åŸºäºåŸå‹çš„ç»§æ‰¿ä¸å±æ€§çš„å…±äº« 12. åŸå‹çš„ä½¿ç”¨æ–¹å¼ï¼š é€šè¿‡ç»™Calculatorå¯¹è±¡çš„prototypeå±æ€§èµ‹å€¼å¯¹è±¡å­—é¢é‡æ¥è®¾å®šCalculatorå¯¹è±¡çš„åŸå‹ åœ¨èµ‹å€¼åŸå‹prototypeçš„æ—¶å€™ä½¿ç”¨functionç«‹å³æ‰§è¡Œçš„è¡¨è¾¾å¼æ¥èµ‹å€¼ï¼Œå¯ä»¥å°è£…ç§æœ‰çš„functionï¼Œé€šè¿‡returnçš„å½¢å¼æš´éœ²å‡ºç®€å•çš„ä½¿ç”¨åç§°ï¼Œä»¥è¾¾åˆ°public/privateçš„æ•ˆæœ #### 25.2.1 åŸå‹é“¾ åŸå‹é“¾æ˜¯åŸå‹å¯¹è±¡åˆ›å»ºè¿‡ç¨‹çš„å†å²è®°å½•ï¼Œå½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§æ—¶ï¼Œä¼šå…ˆåœ¨è¿™ä¸ªå¯¹è±¡æœ¬èº«å±æ€§ä¸ŠæŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¼šå»å®ƒçš„__proto__éšå¼åŸå‹ä¸ŠæŸ¥æ‰¾ï¼Œå³å®ƒçš„æ„é€ å‡½æ•°çš„prototypeï¼Œå¦‚æœè¿˜æ²¡æœ‰æ‰¾åˆ°å°±ä¼šå†åœ¨æ„é€ å‡½æ•°çš„prototypeçš„__proto__ä¸­æŸ¥æ‰¾ï¼Œè¿™æ ·ä¸€å±‚ä¸€å±‚å‘ä¸ŠæŸ¥æ‰¾å°±ä¼šå½¢æˆä¸€ä¸ªé“¾å¼ç»“æ„ #### 25.2.2 åŸå‹è®¾è®¡çš„é—®é¢˜ å½“æŸ¥æ‰¾ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼ŒJavaScript ä¼šæ ¹æ®åŸå‹é“¾å‘ä¸Šéå†å¯¹è±¡çš„åŸå‹ï¼Œç›´åˆ°æ‰¾åˆ°ç»™å®šåç§°çš„å±æ€§ä¸ºæ­¢ï¼Œç›´åˆ°åˆ°è¾¾åŸå‹é“¾çš„é¡¶éƒ¨ä»ç„¶æ²¡æœ‰æ‰¾åˆ°æŒ‡å®šçš„å±æ€§ï¼Œå°±ä¼šè¿”å› undefined ä¹Ÿå¯ä»¥ç†è§£ä¸ºåŸå‹é“¾ç»§æ‰¿æ—¶æŸ¥æ‰¾å±æ€§çš„è¿‡ç¨‹æ˜¯å…ˆæŸ¥æ‰¾è‡ªèº«å±æ€§ï¼Œå½“è‡ªèº«å±æ€§ä¸å­˜åœ¨æ—¶ï¼Œä¼šåœ¨åŸå‹é“¾ä¸­é€çº§æŸ¥æ‰¾ #### 25.2.3 hasOwnProperty å‡½æ•°ï¼š å¯ä»¥ç”¨æ¥æ£€æŸ¥å¯¹è±¡è‡ªèº«æ˜¯å¦å«æœ‰æŸä¸ªå±æ€§ï¼Œè¿”å›å€¼æ˜¯å¸ƒå°”å€¼ï¼Œå½“å±æ€§ä¸å­˜åœ¨æ—¶ä¸ä¼šå‘ä¸ŠæŸ¥æ‰¾å¯¹è±¡åŸå‹é“¾ï¼Œ*hasOwnPropertyæ˜¯ JavaScript ä¸­``å”¯ä¸€ä¸€ä¸ª``å¤„ç†å±æ€§ä½†æ˜¯ä¸æŸ¥æ‰¾åŸå‹é“¾çš„å‡½æ•°* #### 25.2.4 getOwnPropertyNames å‡½æ•° å¯ä»¥è·å–å¯¹è±¡æ‰€æœ‰çš„è‡ªèº«å±æ€§ï¼Œè¿”å›å€¼æ˜¯ç”±å¯¹è±¡è‡ªèº«å±æ€§åç§°ç»„æˆçš„æ•°ç»„ï¼ŒåŒæ ·ä¸ä¼šå‘ä¸ŠæŸ¥æ‰¾å¯¹è±¡åŸå‹é“¾ #### 25.2.5 åŸå‹é“¾çš„å°ç»“ï¼š ä¸€ç›´å¾€ä¸Šå±‚æŸ¥æ‰¾ï¼Œç›´åˆ°åˆ°nullè¿˜æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›undefined Object.prototype.__proto__ === null æ‰€æœ‰ä»åŸå‹æˆ–æ›´é«˜çº§åŸå‹ä¸­çš„å¾—åˆ°ã€æ‰§è¡Œçš„æ–¹æ³•ï¼Œå…¶ä¸­çš„thisåœ¨æ‰§è¡Œæ—¶ï¼ŒæŒ‡å‘å½“å‰è¿™ä¸ªè§¦å‘äº‹ä»¶æ‰§è¡Œçš„å¯¹è±¡ 6ï¼‰JavaScriptçš„åŸå‹æ˜¯ä¸ºäº†å®ç°å¯¹è±¡é—´çš„è”ç³»ï¼Œè§£å†³æ„é€ å‡½æ•°æ— æ³•æ•°æ®å…±äº«è€Œå¼•å…¥çš„ä¸€ä¸ªå±æ€§ï¼Œè€ŒåŸå‹é“¾æ˜¯ä¸€ä¸ªå®ç°å¯¹è±¡é—´è”ç³»å³ç»§æ‰¿çš„ä¸»è¦æ–¹æ³• #### 25.2.6 å¸¸è§é¢è¯•é¢˜ * è°ˆè°ˆä½ å¯¹åŸå‹çš„ç†è§£ï¼Ÿ åœ¨ JavaScript ä¸­ï¼Œæ¯å½“å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼ˆå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼‰æ—¶å€™ï¼Œå¯¹è±¡ä¸­éƒ½ä¼šåŒ…å«ä¸€äº›é¢„å®šä¹‰çš„å±æ€§ã€‚å…¶ä¸­æ¯ä¸ªå‡½æ•°å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªprototype å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼Œä½¿ç”¨åŸå‹å¯¹è±¡çš„å¥½å¤„æ˜¯æ‰€æœ‰å¯¹è±¡å®ä¾‹å…±äº«å®ƒæ‰€åŒ…å«çš„å±æ€§å’Œæ–¹æ³• * ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼ŸåŸå‹é“¾è§£å†³çš„æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿ 1. åŸå‹é“¾è§£å†³çš„ä¸»è¦æ˜¯ç»§æ‰¿é—®é¢˜ 2. æ¯ä¸ªå¯¹è±¡æ‹¥æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œé€šè¿‡ proto æŒ‡é’ˆæŒ‡å‘å…¶åŸå‹å¯¹è±¡ï¼Œå¹¶ä»ä¸­ç»§æ‰¿æ–¹æ³•å’Œå±æ€§ï¼ŒåŒæ—¶åŸå‹å¯¹è±¡ä¹Ÿå¯èƒ½æ‹¥æœ‰åŸå‹ï¼Œè¿™æ ·ä¸€å±‚ä¸€å±‚ï¼Œæœ€ç»ˆæŒ‡å‘ null(Object.proptotype.__proto__æŒ‡å‘çš„æ˜¯null)ã€‚è¿™ç§å…³ç³»è¢«ç§°ä¸ºåŸå‹é“¾(prototype chain)ï¼Œé€šè¿‡åŸå‹é“¾ä¸€ä¸ªå¯¹è±¡å¯ä»¥æ‹¥æœ‰å®šä¹‰åœ¨å…¶ä»–å¯¹è±¡ä¸­çš„å±æ€§å’Œæ–¹æ³• 3. æ„é€ å‡½æ•° Parentã€Parent.prototype å’Œ å®ä¾‹ p çš„å…³ç³»å¦‚ä¸‹:(p.__proto__ === Parent.prototype) ![](https://img-blog.csdnimg.cn/20190623221912165.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjYxNDA4MA==,size_16,color_FFFFFF,t_70) * prototype å’Œ proto åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ 1. prototypeæ˜¯æ„é€ å‡½æ•°çš„å±æ€§ 2. __proto__æ˜¯æ¯ä¸ªå®ä¾‹éƒ½æœ‰çš„å±æ€§ï¼Œå¯ä»¥è®¿é—® [[prototype]] å±æ€§ 3. å®ä¾‹çš„__proto__ä¸å…¶æ„é€ å‡½æ•°çš„prototypeæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ ### 25.3 è¡¥å……ï¼ˆåŸå…ˆçš„ï¼‰ #### 25.3.1 å±æ€§æœç´¢åŸåˆ™ï¼šè‡ªå·±æœ‰å°±è®¿é—®è‡ªå·±çš„ï¼Œè‡ªå·±æ²¡æœ‰ï¼Œå»åŸå‹é“¾ä¸­å°±è¿‘æŸ¥æ‰¾ 1. å¦‚æœè‡ªå·±æœ‰è¿™ä¸ªå±æ€§ï¼Œå°±è®¿é—®è‡ªå·±çš„ 2. å¦‚æœè‡ªå·±æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œä¼šåˆ°åŸå‹ä¸­æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œä¸æ‰¾äº†ï¼Œç›´æ¥è¿”å› 3. å¦‚æœåŸå‹ä¸­ä¹Ÿæ²¡æœ‰ï¼Œä¼šåˆ°åŸå‹çš„åŸå‹ä¸­æ‰¾... 4. ä¸€ç›´æ‰¾åˆ°Object.prototypeï¼Œå¦‚æœè€ç¥–å®—ä¹Ÿæ²¡æœ‰ï¼Œè¿”å›undefined #### 25.3.2 è®¾ç½®å±æ€§ï¼š å¦‚æœæœ‰è¿™ä¸ªå±æ€§ï¼Œç›´æ¥ä¿®æ”¹èµ‹å€¼ å¦‚æœè‡ªå·±æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œç»™è‡ªå·±æ·»åŠ ä¸€ä¸ªæ–°å±æ€§ï¼ˆä¸ä¼šæ”¹åˆ°åŸå‹ï¼‰ #### 25.3.3 Object.prototypeçš„æˆå‘˜ 1. ``hasOwnProperty`` è¯­æ³•ï¼š``å¯¹è±¡.hasOwnProperty(&#39;å±æ€§å&#39;)`` ---åˆ¤æ–­å±æ€§æ˜¯å¦æ˜¯è‡ªå·±çš„ï¼Œè€Œä¸æ˜¯åŸå‹çš„ï¼ˆä¸æ˜¯ç»§æ‰¿æ¥çš„ï¼‰ for in éå†ï¼Œä¸ä»…è‡ªå·±çš„å±æ€§å¯ä»¥éå†ï¼ŒåŸå‹ä¸Šçš„å±æ€§ä¹Ÿä¼šéå†åˆ°ï¼ˆå¯¹äºconstructorç­‰æµè§ˆå™¨å†…ç½®çš„å±æ€§ï¼Œè¢«æµè§ˆå™¨è¿›è¡Œæ¥äº†å¤„ç†ï¼Œä¸ä¼šè¢«for inä¾¿åˆ©å‡ºæ¥ï¼‰ éå†æ—¶ï¼Œåªæ‰“å°è‡ªèº«çš„ï¼ˆç”¨hasOwnPropertyè¿›è¡Œåˆ¤æ–­ï¼‰ inæ“ä½œç¬¦ï¼šåˆ¤æ–­å±æ€§æ˜¯å¦å¯ä»¥è¢«å¯¹è±¡æ‰€è®¿é—®ï¼ˆåªè¦èƒ½å¤Ÿè®¿é—®åˆ°è¿™ä¸ªå±æ€§ï¼Œå°±è¿”å›trueï¼‰---è¿™ä¸ªä¸æ˜¯æˆå‘˜ è¯­æ³•ï¼š&#39;å±æ€§å&#39; in å¯¹è±¡ 2. ``A.isPrototypeOf(B)``:åˆ¤æ–­Aæ˜¯ä¸æ˜¯Bçš„åŸå‹ 3. ``å¯¹è±¡.propertyIsEnumerable(&#39;å±æ€§å&#39;)`` åˆ¤æ–­å±æ€§æ˜¯å¦å¯ä»¥éå†ï¼ˆå¯æšä¸¾ï¼‰ 4. toSting() 5. valueof() 6. instanceofè¿ç®—ç¬¦ è¯­æ³•ï¼šA instanceof Bï¼ˆåˆ¤æ–­Aæ˜¯å¦æ˜¯Bçš„å®ä¾‹ï¼ŒBæ„é€ å‡½æ•°ï¼‰ è¿›é˜¶åŸç†ï¼šåˆ¤æ–­B.prototypeåœ¨ä¸åœ¨Açš„åŸå‹é“¾ä¸Š ä½¿ç”¨typeofæ— æ³•åŒºåˆ†å…·ä½“çš„å¯¹è±¡ç±»å‹ï¼ï¼ï¼ ```javascript console.log(p.constructor.name)---å¯ä»¥ç”¨æ¥æ‰“å°ç±»å‹ Object.prototype.toString.call([]) ---å¯ä»¥ç”¨æ¥è·å–å¤æ‚æ•°æ®æ˜¯ä»€ä¹ˆç±»å‹ ---[object Array] 26ã€jsæ•°æ®ç±»å‹å †å’Œæ ˆï¼ˆåªæ˜¯å°†Javaä¸­æ¦‚å¿µï¼Œæ‹¿è¿‡æ¥ç±»æ¯”äº†ï¼‰jsä¸­æ²¡æœ‰ç‰¹åˆ«æ˜ç¡®çš„å †å’Œæ ˆçš„æ¦‚å¿µï¼Œè€Œä¸”jsçš„å®ç°ï¼Œä¹Ÿä¸éœ€è¦å †å’Œæ ˆçš„æ¦‚å¿µjavaä¸­å †å†…å­˜å’Œæ ˆå†…å­˜1.æ‰€æœ‰çš„ç®€å•æ•°æ®ç±»å‹ï¼Œå­˜åœ¨æ ˆä¸­2.æ‰€æœ‰çš„å¤æ‚æ•°æ®ç±»å‹ï¼Œå­˜åœ¨å †ä¸­---çœŸå®å­˜åœ¨å˜é‡ä¸­çš„ï¼Œä¹Ÿæ˜¯åœ°å€ 27ã€thisçš„è§„åˆ™ï¼šxx.fn();---fnå‡½æ•°è°ƒç”¨æ—¶é‡Œé¢çš„thisï¼ŒæŒ‡å‘è°ƒç”¨è€…ï¼ˆè°è°ƒç”¨çš„ï¼Œthiså°±æŒ‡å‘è°ï¼‰ å¦‚æœæ˜¯ç›´æ¥è°ƒç”¨çš„æ–¹æ³•ï¼ŒthisæŒ‡å‘window ï¼ˆ1ï¼‰function fn(){console.log(this)} fn(); ï¼ˆ2ï¼‰setInterval(function(){console.log(this)},2000)---å®šæ—¶å™¨ä¸­çš„thisæŒ‡å‘window å¦‚æœå¯¹è±¡ä¸­çš„æ–¹æ³•ï¼Œè¢«è°ƒç”¨äº†ï¼ŒthisæŒ‡å‘è°ƒç”¨è€…ï¼Œè°è°ƒç”¨çš„ï¼ŒæŒ‡å‘è° ç‰¹ä¾‹ï¼Œæ„é€ å‡½æ•°ä¸­æ‰§è¡Œçš„thisï¼ŒthisæŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ å…¨å±€çš„var a = 123; ç­‰ä»·äº window.a = 123; 28ã€ç»§æ‰¿ï¼ˆæ‹¿æ¥ä¸»ä¹‰ï¼Œè‡ªå·±æ²¡æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œåˆ«äººæœ‰ï¼Œæ‹¿è¿‡æ¥ç”¨ï¼Œå°±å®ç°äº†ç»§æ‰¿ï¼‰â­ï¸â­ï¸â­ï¸28.1 åŸå‹é“¾ç»§æ‰¿function Person() { this.name = &#39;Hello World&#39;; } Person.prototype.getName = function() { console.log(this.name) } function Child() { } Child.prototype = new Person() var child1 = new Child() child1.getName() // Hello World é‡ç‚¹ï¼šè®©æ–°å®ä¾‹çš„åŸå‹ç­‰äºçˆ¶ç±»çš„å®ä¾‹ã€‚ ä¼˜ç‚¹ï¼šå®ä¾‹å¯ç»§æ‰¿çš„å±æ€§æœ‰ï¼šå®ä¾‹çš„æ„é€ å‡½æ•°çš„å±æ€§ï¼Œçˆ¶ç±»æ„é€ å‡½æ•°å±æ€§ï¼Œçˆ¶ç±»åŸå‹çš„å±æ€§ã€‚ï¼ˆæ–°å®ä¾‹ä¸ä¼šç»§æ‰¿çˆ¶ç±»å®ä¾‹çš„ å±æ€§ï¼ï¼‰ ç¼ºç‚¹ï¼š æ–°å®ä¾‹æ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚ã€‚ ç»§æ‰¿å•ä¸€ã€‚ æ‰€æœ‰æ–°å®ä¾‹éƒ½ä¼šå…±äº«çˆ¶ç±»å®ä¾‹çš„å±æ€§ã€‚ï¼ˆåŸå‹ä¸Šçš„å±æ€§æ˜¯å…±äº«çš„ï¼Œä¸€ä¸ªå®ä¾‹ä¿®æ”¹äº†åŸå‹å±æ€§ï¼Œå¦ä¸€ä¸ªå®ä¾‹çš„åŸå‹å±æ€§ ä¹Ÿä¼šè¢«ä¿®æ”¹ï¼ï¼‰ 28.2 æ„é€ å‡½æ•°ç»§æ‰¿function Person(){ this.name = &#39;xiaoming&#39;; this.colors = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;]; } Person.prototype.getName = function(){ console.log(this.name); } function Child(age){ Person.call(this); this.age = age } var child1 = new Child(23); var child2 = new Child(12); child1.colors.push(&#39;yellow&#39;); console.log(child1.name); // xiaoming console.log(child1.colors); // [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;] console.log(child2.colors); // [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;] é‡ç‚¹ï¼šç”¨.call()å’Œ.apply()å°†çˆ¶ç±»æ„é€ å‡½æ•°å¼•å…¥å­ç±»å‡½æ•°ï¼ˆåœ¨å­ç±» å‡½æ•°ä¸­åšäº†çˆ¶ç±»å‡½æ•°çš„è‡ªæ‰§è¡Œï¼ˆå¤åˆ¶ï¼‰ï¼‰ ä¼˜ç‚¹ï¼š åªç»§æ‰¿äº†çˆ¶ç±»æ„é€ å‡½æ•°çš„å±æ€§ï¼Œæ²¡æœ‰ç»§æ‰¿çˆ¶ç±»åŸå‹çš„å±æ€§ã€‚ è§£å†³äº†åŸå‹é“¾ç»§æ‰¿ç¼ºç‚¹1ã€2ã€3ã€‚ å¯ä»¥ç»§æ‰¿å¤šä¸ªæ„é€ å‡½æ•°å±æ€§ï¼ˆcallå¤šä¸ªï¼‰ã€‚ åœ¨å­å®ä¾‹ä¸­å¯å‘çˆ¶å®ä¾‹ä¼ å‚ã€‚ ç¼ºç‚¹ï¼š åªèƒ½ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°çš„å±æ€§ã€‚ æ— æ³•å®ç°æ„é€ å‡½æ•°çš„å¤ç”¨ã€‚ï¼ˆæ¯æ¬¡ç”¨æ¯æ¬¡éƒ½è¦é‡æ–°è°ƒç”¨ï¼‰ æ¯ä¸ªæ–°å®ä¾‹éƒ½æœ‰çˆ¶ç±»æ„é€ å‡½æ•°çš„å‰¯æœ¬ï¼Œè‡ƒè‚¿ã€‚ 28.3 ç»„åˆç»§æ‰¿ï¼ˆç»„åˆåŸå‹é“¾ç»§æ‰¿å’Œå€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿ï¼‰ï¼ˆå¸¸ç”¨ï¼‰function Parent(name){ this.name = name; this.colors = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;]; } Parent.prototype.getName = function(){ console.log(this.name); } function Child(name,age){ Parent.call(this,name);// ç¬¬äºŒæ¬¡è°ƒç”¨ Parent() this.age = age; } Child.prototype = new Parent(); // ç¬¬ä¸€æ¬¡è°ƒç”¨ Parent() var child1 = new Child(&#39;xiaopao&#39;,18); var child2 = new Child(&#39;lulu&#39;,19); é‡ç‚¹ï¼šç»“åˆäº†ä¸¤ç§æ¨¡å¼çš„ä¼˜ç‚¹ï¼Œä¼ å‚å’Œå¤ç”¨ ä¼˜ç‚¹ï¼š å¯ä»¥ç»§æ‰¿çˆ¶ç±»åŸå‹ä¸Šçš„å±æ€§ï¼Œå¯ä»¥ä¼ å‚ï¼Œå¯å¤ç”¨ã€‚2ã€æ¯ä¸ªæ–°å®ä¾‹å¼•å…¥çš„æ„é€ å‡½æ•°å±æ€§æ˜¯ç§æœ‰çš„ã€‚ ç¼ºç‚¹ï¼šè°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼ˆè€—å†…å­˜ï¼‰ï¼Œå­ç±»çš„æ„é€ å‡½æ•°ä¼šä»£æ›¿åŸå‹ä¸Šçš„é‚£ä¸ªçˆ¶ç±»æ„é€ å‡½æ•°ã€‚ 28.4 åŸå‹å¼ç»§æ‰¿function CreateObj(o){ function F(){} F.prototype = o; console.log(o.__proto__ === Object.prototype); console.log(F.prototype.constructor === Object); // true return new F(); } var person = { name: &#39;xiaopao&#39;, friend: [&#39;daisy&#39;,&#39;kelly&#39;] } var person1 = CreateObj(person); // var person2 = CreateObj(person); person1.name = &#39;person1&#39;; // console.log(person2.name); // xiaopao person1.friend.push(&#39;taylor&#39;); // console.log(person2.friend); // [&quot;daisy&quot;, &quot;kelly&quot;, &quot;taylor&quot;] // console.log(person); // {name: &quot;xiaopao&quot;, friend: Array(3)} person1.friend = [&#39;lulu&#39;]; // console.log(person1.friend); // [&quot;lulu&quot;] // console.log(person.friend); // [&quot;daisy&quot;, &quot;kelly&quot;, &quot;taylor&quot;] // æ³¨æ„ï¼š è¿™é‡Œä¿®æ”¹äº†person1.nameçš„å€¼ï¼Œperson2.nameçš„å€¼å¹¶æœªæ”¹å˜ï¼Œå¹¶ä¸æ˜¯å› ä¸ºperson1å’Œperson2æœ‰ç‹¬ç«‹çš„nameå€¼ï¼Œè€Œæ˜¯person1.name=&#39;person1&#39;æ˜¯ç»™person1æ·»åŠ äº†nameå€¼ï¼Œå¹¶éä¿®æ”¹äº†åŸå‹ä¸Šçš„nameå€¼ // å› ä¸ºæˆ‘ä»¬æ‰¾å¯¹è±¡ä¸Šçš„å±æ€§æ—¶ï¼Œæ€»æ˜¯å…ˆæ‰¾å®ä¾‹ä¸Šå¯¹è±¡ï¼Œæ²¡æœ‰æ‰¾åˆ°çš„è¯å†å»åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ã€‚å®ä¾‹å¯¹è±¡å’ŒåŸå‹å¯¹è±¡ä¸Šå¦‚æœæœ‰åŒåå±æ€§ï¼Œæ€»æ˜¯å…ˆå–å®ä¾‹å¯¹è±¡ä¸Šçš„å€¼ é‡ç‚¹ï¼šç”¨ä¸€ä¸ªå‡½æ•°åŒ…è£…ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åè¿”å›è¿™ä¸ªå‡½æ•°çš„è°ƒç”¨ï¼Œè¿™ä¸ªå‡½æ•°å°±å˜æˆäº†ä¸ªå¯ä»¥éšæ„å¢æ·»å±æ€§çš„å®ä¾‹æˆ–å¯¹è±¡ã€‚object.create()å°±æ˜¯è¿™ä¸ªåŸç†ã€‚ ä¼˜ç‚¹ï¼šç±»ä¼¼äºå¤åˆ¶ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨å‡½æ•°æ¥åŒ…è£…ã€‚ ç¼ºç‚¹ï¼š æ‰€æœ‰å®ä¾‹éƒ½ä¼šç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§ã€‚ æ— æ³•å®ç°å¤ç”¨ã€‚ï¼ˆæ–°å®ä¾‹å±æ€§éƒ½æ˜¯åé¢æ·»åŠ çš„ï¼‰ 28.5 å¯„ç”Ÿå¼ç»§æ‰¿var ob = { name: &#39;xiaopao&#39;, friends: [&#39;lulu&#39;,&#39;huahua&#39;] } function CreateObj(o){ function F(){}; // åˆ›å»ºä¸€ä¸ªæ„é€ å‡½æ•°F F.prototype = o; return new F(); } // ä¸Šé¢CreateObjå‡½æ•° åœ¨ECMAScript5 æœ‰äº†ä¸€æ–°çš„è§„èŒƒå†™æ³•ï¼ŒObject.create(ob) æ•ˆæœæ˜¯ä¸€æ ·çš„ , çœ‹ä¸‹é¢ä»£ç  var ob1 = CreateObj(ob); var ob2 = Object.create(ob); console.log(ob1.name); // xiaopao console.log(ob2.name); // xiaopao function CreateChild(o){ var newob = CreateObj(o); // åˆ›å»ºå¯¹è±¡ æˆ–è€…ç”¨ var newob = Object.create(ob) newob.sayName = function(){ // å¢å¼ºå¯¹è±¡ console.log(this.name); } return newob; // æŒ‡å®šå¯¹è±¡ } var p1 = CreateChild(ob); p1.sayName(); // xiaopao é‡ç‚¹ï¼šå°±æ˜¯ç»™åŸå‹å¼ç»§æ‰¿å¤–é¢å¥—äº†ä¸ªå£³å­ã€‚ ä¼˜ç‚¹ï¼šæ²¡æœ‰åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ï¼Œå› ä¸ºåªæ˜¯å¥—äº†ä¸ªå£³å­è¿”å›å¯¹è±¡ï¼ˆè¿™ä¸ªï¼‰ï¼Œè¿™ä¸ªå‡½æ•°é¡ºç†æˆç« å°±æˆäº†åˆ›å»ºçš„æ–°å¯¹è±¡ã€‚ ç¼ºç‚¹ï¼šæ²¡ç”¨åˆ°åŸå‹ï¼Œæ— æ³•å¤ç”¨ã€‚ 28.6 å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆå¸¸ç”¨ï¼‰function Parent(name){ this.name = name; this.colors = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;]; } Parent.prototype.sayName = function(){ console.log(this.name); } function Child(name,age){ Parent.call(this,name); this.age = age; } function CreateObj(o){ function F(){}; F.prototype = o; return new F(); } // Child.prototype = new Parent(); // è¿™é‡Œæ¢æˆä¸‹é¢ function prototype(child,parent){ var prototype = CreateObj(parent.prototype); prototype.constructor = child; child.prototype = prototype; } prototype(Child,Parent); var child1 = new Child(&#39;xiaopao&#39;, 18); console.log(child1); é‡ç‚¹ï¼šä¿®å¤äº†ç»„åˆç»§æ‰¿çš„é—®é¢˜ 28.7 classç»§æ‰¿class Parent5 { constructor() { this.name = [&#39;super5&#39;] } reName() { this.name.push(&#39;new 5&#39;) } } class Child5 extends Parent5 { constructor() { super() } } var child51 = new Child5() var child52 = new Child5() 29ã€å®šä¹‰å‡½æ•°çš„ä¸‰ç§æ–¹å¼29.1 å‡½æ•°å£°æ˜å¼function fn(){} fn(); 29.2 å‡½æ•°è¡¨è¾¾å¼var fn = function(){}; fn(); 29.3 æ„é€ å‡½æ•°çš„æ–¹å¼new Function(...) ä½œç”¨ï¼šå¯ä»¥ç›´æ¥æ‰§è¡Œå­—ç¬¦ä¸²å‚æ•°ï¼šéƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°ä½“ï¼Œå‰é¢å…¶ä»–æ‰€æœ‰å‚æ•°æ˜¯å®šä¹‰çš„å½¢å‚ åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå°±ä¼šå½“æˆå‡½æ•°ä½“ var fn = new Function(&#39;a&#39; , &#39;b&#39; , &#39;console.log(a+b)&#39;); fn(1,2); 30ã€tryå’Œcatch tryå’Œcatchå¿…é¡»ä¸€èµ·ä½¿ç”¨ tryè¡¨ç¤ºå°è¯•æ‰§è¡ŒæŸæ®µä»£ç ï¼Œå°±ç®—å‘ç”Ÿäº†é”™è¯¯ï¼Œjsä¹Ÿä¼šç»§ç»­æ‰§è¡Œ catchï¼Œåªè¦tryä¸­ä»£ç å‘ç”Ÿäº†é”™è¯¯ï¼Œå°±ä¼šæ‰§è¡Œcatchä¸­çš„ä»£ç  finally:ä¸ç®¡tryä¸­çš„ä»£ç æ‰§è¡Œæ˜¯å¦æˆåŠŸï¼Œéƒ½ä¼šæ‰§è¡Œfinallyçš„ä»£ç try { ----å°è¯•æ‰§è¡ŒæŸæ®µä»£ç  var fn = new Function(value); fn(); } catchï¼ˆeï¼‰{ ---- æŠ“å–ï¼Œå¯ä»¥æŠ“å–åˆ°tryæ‰§è¡Œä¸­çš„é”™è¯¯ï¼Œå¯ä»¥è¿›è¡Œå¤„ç†ï¼Œå¯ä»¥ä¸å¤„ç† console.log(e) } finally{ } 31ã€eval(str)å¯ä»¥æ‰§è¡Œå­—ç¬¦ä¸²ï¼Œéå¸¸å¼ºå¤§ï¼Œä½†æ˜¯ä¸ç”¨ï¼ˆé£é™©æ€§å¤ªå¤§ï¼Œä¼šé€ æˆå…¨å±€å˜é‡çš„æ±¡æŸ“ï¼‰var a = 100; var str = &#39;var a = 1; var b = 2; console.log(a + b)&#39;; eval(str); 32ã€å››ç§è°ƒç”¨æ¨¡å¼ å‡½æ•°ï¼šæŒ‡çš„æ˜¯æ™®é€šçš„ï¼Œä¸å±äºä»»ä½•å¯¹è±¡çš„å‡½æ•° æ–¹æ³•ï¼šä½œä¸ºå¯¹è±¡çš„å±æ€§å­˜åœ¨çš„å‡½æ•°ï¼ˆå¯¹è±¡ä¸­çš„å‡½æ•°ï¼‰ å‡½æ•°å†…çš„thisæŒ‡å‘è°ï¼Œåªè·Ÿæ€ä¹ˆè°ƒç”¨æœ‰å…³ç³»ï¼Œè·Ÿå‡½æ•°å®šä¹‰åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œæ²¡æœ‰ä»»ä½•å…³ç³» 32.1 å‡½æ•°è°ƒç”¨æ¨¡å¼fn( ); // thisæŒ‡å‘window 32.2 æ–¹æ³•è°ƒç”¨æ¨¡å¼obj.fn(); // thisæŒ‡å‘objï¼Œè°è°ƒç”¨æŒ‡å‘è° å¯ä»¥æŠŠæ•°ç»„å½“æˆä¸€ä¸ªå¯¹è±¡ï¼Œè®¿é—®0å±æ€§ï¼Œå°±æ˜¯æ–¹æ³•ï¼Œæ–¹æ³•è°ƒç”¨æ¨¡å¼ï¼ŒæŒ‡å‘arr 32.3 æ„é€ å‡½æ•°è°ƒç”¨æ¨¡å¼var p = new Person(); // thisæŒ‡å‘å®ä¾‹p---newæ”¹å˜äº†thisçš„æŒ‡å‘ï¼Œè®©thisæŒ‡å‘äº†æ–°çš„å®ä¾‹ 32.4 ä¸Šä¸‹æ–‡è°ƒç”¨æ¨¡å¼ï¼šï¼ˆthisåœ¨è¿™è¾¹æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œæƒ³è¦thisæŒ‡å‘è°ï¼Œå‡½æ•°æ‰§è¡Œæ—¶thiså°±æŒ‡å‘è°ï¼‰ call ä»»ä½•å‡½æ•°ï¼ˆéƒ½å¯ä»¥çœ‹æˆä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å±æ€§å’Œæ–¹æ³•ï¼‰éƒ½æœ‰ä¸€ä¸ªcallæ–¹æ³• callæ–¹æ³•ä¹Ÿå¯ä»¥ç”¨äºè°ƒç”¨å‡½æ•°,è¿˜å¯ä»¥æŒ‡å®šå‡½æ•°æ‰§è¡Œçš„thisçš„æŒ‡å‘---fn.call(thisæŒ‡å‘); å¦‚æœä¸ä¼ å‚ï¼Œé»˜è®¤thisæŒ‡å‘windowï¼Œå¦‚æœä¼ é€’ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå°±ä¼šæŒ‡å®šthisçš„æŒ‡å‘ ä½¿ç”¨callæ¥è°ƒç”¨å‡½æ•°å’Œæ™®é€šè°ƒç”¨å‡½æ•°çš„æ–¹å¼ï¼Œå”¯ä¸€çš„åŒºåˆ«ï¼Œå°±æ˜¯å¤šäº†ä¸€ä¸ªå‚æ•°ï¼Œcallçš„ç¬¬ä¸€ä¸ªå‚æ•°ç”¨äºæŒ‡å®šthisæŒ‡å‘ æ•°ç»„ï¼šæœ‰ç€æ•°ç»„çš„æ–¹æ³•ï¼Œå¯ä»¥éå†ä¼ªæ•°ç»„ï¼Œæœ¬è´¨ä¸Šæ˜¯å¯¹è±¡ï¼Œä¸æ˜¯æ•°ç»„ï¼Œæ•°ç»„çš„æ–¹æ³•ä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œä½†æ˜¯ä¼ªæ•°ç»„æ˜¯å¯ä»¥éå†çš„å¸¸è§çš„ä¼ªæ•°ç»„ï¼šarguments document.querySelector() jQuery å°ç»“ï¼šå­¦ä¹ callæ–¹æ³•ï¼Œfn.call(thisæŒ‡å‘,x,y,z); callæ–¹æ³•è°ƒç”¨å‡½æ•°å’Œæ™®é€šå‡½æ•°è°ƒç”¨çš„å”¯ä¸€åŒºåˆ«ï¼Œåœ¨äºå¤šäº†ä¸€ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç”¨äºæŒ‡å®šthis callæ–¹æ³•ï¼Œå¯ä»¥ç”¨äºå‡½æ•°å€Ÿè°ƒï¼ˆå€Ÿç”¨åˆ«äººçš„å‡½æ•°ï¼Œå€Ÿæ¥è°ƒç”¨ï¼‰ åˆ«äºº.æ–¹æ³•.call(è‡ªå·±)ï¼›å°†thisæ”¹æˆè‡ªå·±ï¼Œå€Ÿç”¨åˆ«äººçš„æ–¹æ³• apply applyçš„åŠŸèƒ½å’Œcallçš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯è°ƒç”¨çš„æ–¹æ³•ä¸åŒäº† æ¯ä¸ªå‡½æ•°ï¼Œéƒ½æœ‰ä¸€ä¸ªapplyæ–¹æ³•ï¼Œå¯ä»¥ç”¨äºè°ƒç”¨å‡½æ•°ï¼Œä¸”å¯ä»¥æŒ‡å®šthisæŒ‡å‘ applyçš„è¯­æ³•ï¼šfn.apply(thisæŒ‡å‘ï¼Œ[x,y,z]); å‚æ•°1ï¼šç”¨äºæŒ‡å®šthisçš„æŒ‡å‘ å‚æ•°2ï¼šæ¥æ”¶ä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢å­˜æ”¾ç€æ‰€æœ‰ä¼ é€’çš„å‚æ•° å¦‚æœå‚æ•°æ¯”è¾ƒå°‘ï¼Œä¸€èˆ¬ä½¿ç”¨callï¼Œæ¯”è¾ƒç®€å•å¦‚æœå‚æ•°æ¯”è¾ƒå¤šï¼Œä¸€èˆ¬ä½¿ç”¨applyï¼Œå¯ä»¥å°†æ‰€æœ‰éœ€è¦ä¼ é€’çš„å‚æ•°ï¼Œæ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œä¸€æ¬¡æ€§ä¼ é€’ bindï¼ˆå¤åˆ¶ä¸€ä¸ªæ–°å‡½æ•°ï¼Œå¹¶ä¸”å°†æ–°å‡½æ•°çš„thiså›ºå®šæ­»æŒ‡å‘ä¼ å…¥çš„thiså€¼ï¼‰ var newFn = fn.bind(thisæŒ‡å‘) arguments ä»»ä½•ä¸€ä¸ªå‡½æ•°ï¼Œéƒ½æœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œargumentsï¼Œæ˜¯ä¸€ä¸ªä¼ªæ•°ç»„ï¼Œç”¨äºæ”¶é›†æ‰€æœ‰ä¼ é€’çš„å‚æ•°ï¼ˆå®å‚ï¼‰ ä¸€èˆ¬ç”¨äºå‚æ•°ä¸ç¡®å®šçš„æƒ…å†µ newä¼šå’Œæœ€è¿‘çš„ å‡½æ•°å() ç»“åˆï¼Œæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œnew fn() è¡¥å……ï¼šï¼ˆ1ï¼‰å®šæ—¶å™¨ä¸­çš„this ï¼ŒæŒ‡å‘window (2ï¼‰äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œæµè§ˆå™¨è®©thisæŒ‡å‘äº†äº‹ä»¶æº 33ã€å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ï¼Œå¯ä»¥æ·»åŠ å±æ€§å’Œæ–¹æ³• 34ã€jsçš„è§„åˆ™ï¼š ä»»ä½•å‡½æ•°ï¼Œéƒ½æ˜¯ç”±Functionåˆ›å»ºå‡ºæ¥çš„ï¼ŒåŒ…æ‹¬ä»–è‡ªå·±ï¼ŒåŒ…æ‹¬Objectå‡½æ•° ä»»ä½•çš„åŸå‹å¯¹è±¡ï¼Œéƒ½æ˜¯ç›´æ¥ç”±Objectåˆ›å»ºå‡ºæ¥çš„ jsä¸­çš„ä½œç”¨åŸŸï¼šè¯æ³•ä½œç”¨åŸŸï¼Œé™æ€ä½œç”¨åŸŸï¼Œå‡½æ•°çš„ä½œç”¨åŸŸåœ¨å‡½æ•°å£°æ˜æ—¶ï¼Œå°±å·²ç»ç¡®å®šå¥½äº†ï¼Œè·Ÿè°ƒç”¨æ²¡æœ‰å…³ç³»ä½œç”¨åŸŸé“¾ï¼šæ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œå¦‚æœæ˜¯å®šä¹‰åœ¨å‡½æ•°å†…çš„å‡½æ•°ï¼Œé‡Œé¢çš„å‡½æ•°åˆä¼šæœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼ˆä¸€å±‚å¥—ä¸€å±‚ï¼Œå½¢æˆäº†ä½œç”¨åŸŸé“¾ï¼‰å˜é‡çš„æŸ¥è¯¢è§„åˆ™ï¼šå…ˆçœ‹è‡ªå·±ä½œç”¨åŸŸæœ‰æ²¡æœ‰è¿™ä¸ªå˜é‡ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå¾€å¤–ä¸€å±‚ä¸€å±‚çš„å°±è¿‘æŸ¥æ‰¾ï¼Œå¦‚æœä¸€ç›´æ‰¾åˆ°å…¨å±€éƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šæŠ¥é”™ 35ã€é€’å½’å‡½æ•°ï¼šåœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨ï¼Œè‡ªå·±è°ƒç”¨è‡ªå·±å‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼Œå…¶å®æ˜¯å ç”¨å†…å­˜ï¼Œå‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼Œä¼šå¼€è¾Ÿä¸€å—å†…å­˜ï¼Œè¿›è¡Œæ‰§è¡Œ ç‰¹ç‚¹ï¼š è‡ªå·±è°ƒç”¨è‡ªå·± å¿…é¡»è¦æœ‰ç»“æŸæ¡ä»¶ï¼Œè¦æœ‰å‡ºå£ é€’å½’ï¼šæ˜¯ä¸€ç§ç®—æ³•ï¼Œä¸€ç§æ€æƒ³ ï¼ŒåŒ–å½’æ€æƒ³ï¼Œå¤æ‚çš„é—®é¢˜ç®€å•åŒ– 35.1 æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆå…”å­æ•°åˆ—ï¼‰ï¼šä»ç¬¬ä¸‰ä¸ªæ•°å¼€å§‹ï¼Œåé¢çš„æ•°ç­‰äºå‰ä¸¤ä¸ªæ•°çš„å’Œ// ç›´æ¥è¿™ä¹ˆå†™ä¼šæœ‰æ€§èƒ½é—®é¢˜ function getFib(n) { if (n === 1 || n === 2) { return 1; } return getFib(n-1) + getFib(n-2); } ä¸ºä»€ä¹ˆä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼Ÿä¸€ä¸ªå‡½æ•°å†…éƒ¨ï¼Œè°ƒç”¨äº†ä¸¤æ¬¡è‡ªå·±ï¼ŒçœŸæ­£æ‰§è¡Œæ—¶è¿›è¡Œäº†å¤§é‡çš„é‡å¤è¿ç®— å¦‚ä½•ä¼˜åŒ–ï¼šå°†å·²ç»ç®—è¿‡çš„ç¬¬nä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—å­˜èµ·æ¥è¿ç®—è¿‡ç¨‹ä¸­ï¼š å…ˆåˆ¤æ–­è¿™ä¸ªæ•°ï¼Œæœ‰æ²¡æœ‰ç®—è¿‡ï¼Œå¦‚æœç®—è¿‡äº†ï¼Œç›´æ¥ç”¨ å¦‚æœæ²¡æœ‰ç®—è¿‡ï¼Œæ¥ç€è‡ªå·±ç®—ï¼Œç®—å®Œï¼Œå­˜èµ·æ¥ // æ‰¾è§„å¾‹: getFib(n) = getFib(n-1) + getFib(n-2); var arr = []; // ä¸“é—¨ç”¨äºå­˜å‚¨å·²ç»ç®—å¥½çš„æ•°, arr[n] = ç¬¬nä¸ªæ–æ³¢çº³å¥‘æ•° function getFib(n) { if (n === 1 || n === 2) { return 1; } if (arr[n]) { return arr[n]; } else { arr[n] = getFib(n-1) + getFib(n-2); return arr[n]; } } åˆ©ç”¨é—­åŒ…è§£å†³æ–æ³¢é‚£å¥‘æ•°åˆ— // çœå»äº†å¤–éƒ¨çš„å‡½æ•°å, åˆ©ç”¨å‡½æ•°è‡ªè°ƒç”¨ var result = (function() { var arr = []; // ä¸“é—¨ç”¨äºå­˜å‚¨å·²ç»ç®—å¥½çš„æ•°, arr[n] = ç¬¬nä¸ªæ–æ³¢çº³å¥‘æ•° function getFib(n) { if (n === 1 || n === 2) { return 1; } if (arr[n]) { return arr[n]; } else { arr[n] = getFib(n - 1) + getFib(n - 2); return arr[n]; } } return getFib; })(); 36ã€é—­åŒ…ï¼šä¸€ä¸ªå‡½æ•°çš„å†…éƒ¨ï¼Œæœ‰å¦ä¸€ä¸ªå‡½æ•°ï¼Œå†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œè¿™ä¸ªæ¨¡å‹ï¼Œç§°ä¹‹ä¸ºé—­åŒ… ä½œç”¨ï¼šä¿æŠ¤å˜é‡ï¼ˆå˜é‡ç§æœ‰åŒ–ï¼‰ é—­åŒ…çš„å†…å­˜ï¼Œä¸ä¼šç›´æ¥é‡Šæ”¾ï¼ˆä¼šå ç”¨å†…å­˜ï¼‰ å‡½æ•°æ‰§è¡Œè°ƒç”¨æ—¶ï¼Œå¿…ç„¶ä¼šå¼€è¾Ÿä¸€å¿«å†…å­˜ç©ºé—´ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ‰§è¡Œå®Œå°±ä¼šé‡Šæ”¾ é—­åŒ…çš„åŸºæœ¬æ¨¡å‹ï¼š outeré‡Œé¢åŒ…inner åŒ¿åå‡½æ•°è‡ªè°ƒç”¨var result = (function(){ var count = 0; return function(){ count++; console.log(count); } })(); 37ã€jsåƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆä¼šå°†ä¸€äº›ä¸ç”¨çš„å†…å­˜ç©ºé—´ï¼Œé‡Šæ”¾æ‰ï¼‰å†…å­˜æ³„æ¼ï¼šå¦‚æœä¸€å—å†…å­˜ç©ºé—´ï¼Œä¸€ç›´å¾—ä¸åˆ°é‡Šæ”¾ï¼Œå°±è®¤ä¸ºè¿™å—å†…å­˜æ³„æ¼äº†æœºåˆ¶ï¼š å¼•ç”¨è®¡æ•°ï¼šå¦‚æœä¸€å—ç©ºé—´çš„å¼•ç”¨æ¬¡æ•°ï¼Œæœ€ç»ˆå˜æˆ0ï¼Œå°±ä¼šè¢«é‡Šæ”¾æ‰bugï¼šå¦‚æœä¸¤ä¸ªå¯¹è±¡ï¼Œäº’ç›¸å¼•ç”¨ï¼Œå½¢æˆäº†å¾ªç¯å¼•ç”¨ï¼Œä½¿ç”¨å¼•ç”¨è®¡æ•°ï¼Œå°±ä¼šå¾—ä¸åˆ°é‡Šæ”¾ï¼ˆå†…å­˜æ³„æ¼ï¼‰ æ ‡è®°æ¸…é™¤ï¼šå¦‚æœä¸€å—å†…å­˜ç©ºé—´ï¼Œå¯ä»¥è®¿é—®åˆ°ï¼Œå°±ä¸é‡Šæ”¾ï¼›å¦‚æœè®¿é—®ä¸åˆ°äº†ï¼Œå°±ä¼šé‡Šæ”¾æ‰é—­åŒ…ç”¨å®Œäº†ï¼Œåªéœ€è¦å°†æŒ‡å‘å‡½æ•°å†…éƒ¨çš„å¼•ç”¨å¹²æ‰ï¼Œæ­¤æ—¶å†…å­˜å°±ä¼šé‡Šæ”¾äº† 38ã€æ­£åˆ™è¡¨è¾¾å¼ï¼šç”¨äºåŒ¹é…è§„å¾‹è§„åˆ™çš„è¡¨è¾¾å¼ï¼ˆç»å¸¸ç”¨äºè¡¨å•æ ¡éªŒï¼‰38.1 åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ï¼š é€šè¿‡æ„é€ å‡½æ•° var reg = new RegExp(//); \\d è¡¨ç¤ºæ•°å­—ï¼Œ0-9ï¼Œ/\\d/å¯ä»¥åŒ¹é…æ‰€æœ‰çš„æ•°å­—é€šè¿‡ test æ–¹æ³•ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²ï¼Œæ˜¯å¦ç¬¦åˆæ­£åˆ™è§„åˆ™ å­—é¢é‡var reg = /\\d/; 38.2 æ­£åˆ™-å…ƒå­—ç¬¦38.2.1 æ™®é€šå­—ç¬¦ï¼ša b c38.2.2 å…ƒå­—ç¬¦ï¼šæœ‰ç‰¹æ®Šå«ä¹‰çš„ \\d æ•°å­—ï¼Œ0-9 \\D éæ•°å­— \\w åŒ¹é…å•è¯å­—ç¬¦ï¼ˆå­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼‰ï¼Œ0-9 a-z A-Z _ \\W é\\wï¼ˆåªè¦ä¸æ˜¯\\wä¸­çš„å­—ç¬¦ï¼Œéƒ½åŒ¹é…ï¼‰ \\s åŒ¹é…ä¸å¯è§å­—ç¬¦ï¼ˆæ¢è¡Œ\\n ç©ºæ ¼ ï¼‰ \\S åŒ¹é…å¯è§å­—ç¬¦ . åŒ¹é…ä»»æ„å­—ç¬¦ï¼ˆé™¤äº†\\nï¼‰----a.bå¯ä»¥åŒ¹é…acb aab a1b......æœ‰æ—¶ï¼Œå°±éœ€è¦åŒ¹é…ç‚¹ï¼Œéœ€è¦è½¬ä¹‰ .--&gt;è¡¨ç¤ºæ™®é€šçš„ç‚¹ 38.3 æ­£åˆ™è¡¨è¾¾å¼çš„ä¼˜å…ˆçº§| è¡¨ç¤ºæˆ–ï¼Œä¼˜å…ˆçº§æœ€ä½() ä¼˜å…ˆçº§æœ€é«˜ï¼Œä¸€èˆ¬ç”¨äºæå‡ä¼˜å…ˆçº§ 38.4 æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦[ ]è¿™ä¸ªä½ç½®ï¼Œå¯ä»¥å‡ºç°çš„å­—ç¬¦---[abc]ï¼Œè¿™ä¸ªä½ç½®ï¼Œå¯ä»¥å‡ºç°aæˆ–è€…bæˆ–è€…c[a-z]ï¼Œè¿™ä¸ªä½ç½®ï¼Œå¯ä»¥å‡ºç°a-zçš„æ‰€æœ‰å°å†™å­—ç¬¦[a-zA-Z0-9_]ï¼Œè¿™ä¸ªä½ç½®ï¼Œå¯ä»¥å‡ºç°æ‰€æœ‰çš„å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿[ ]å†…çš„ ^ è¡¨ç¤ºé 38.5 æ­£åˆ™çš„è¾¹ç•Œï¼ˆä¸¥æ ¼åŒ¹é…ï¼‰^å¿…é¡»ä»¥...å¼€å¤´$ å¿…é¡»ä»¥...ç»“å°¾console.log(/^$/);---ä¸¥æ ¼åŒ¹é…ï¼Œä¸¥æ ¼åˆ°å­—ç¬¦æ•°éƒ½æ˜¯ç¡®å®šçš„ 38.6 æ­£åˆ™çš„é‡è¯* å‡ºç°0æ¬¡æˆ–å¤šæ¬¡+ å‡ºç°1æ¬¡æˆ–å¤šæ¬¡? å‡ºç°0æ¬¡æˆ–1æ¬¡{m,n} è¡¨ç¤ºå¯ä»¥å‡ºç°mæ¬¡åˆ°næ¬¡{m,} è¡¨ç¤ºè‡³å°‘å‡ºç°mæ¬¡{m} å‡ºç°mæ¬¡æ±‰å­—ä¹Ÿæ˜¯å­—ç¬¦çš„ä¸€ç§ï¼Œä¹Ÿæœ‰èŒƒå›´[\\u4e00-u9fa5]---ä¸€ yu 38.7 æ­£åˆ™çš„replaceï¼ˆä¸ä¸¥æ ¼çš„æ›¿æ¢ï¼‰æ­£åˆ™ä¹Ÿæ¯”è¾ƒæ‡’ï¼Œä¸åŠ å‚æ•°ï¼Œåªæ›¿æ¢ä¸€æ¬¡ï¼ˆåŠ ä¸Šgï¼Œè¡¨ç¤º å…¨å±€æ›¿æ¢ï¼‰ str.replace(/aa/g,&#39;xx&#39;) 39ã€jsæ ¡æ­£è®¡ç®—/ åŠ æ³•å‡½æ•°ï¼Œç”¨æ¥å¾—åˆ°ç²¾ç¡®çš„åŠ æ³•ç»“æœ è¯´æ˜ï¼šjavascriptçš„åŠ æ³•ç»“æœä¼šæœ‰è¯¯å·®ï¼Œåœ¨ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸åŠ çš„æ—¶å€™ä¼šæ¯”è¾ƒæ˜æ˜¾ã€‚è¿™ä¸ªå‡½æ•°è¿”å›è¾ƒä¸ºç²¾ç¡®çš„åŠ æ³•ç»“æœã€‚ è°ƒç”¨ï¼šaccAdd(arg1,arg2) è¿”å›å€¼ï¼šarg1åŠ ä¸Šarg2çš„ç²¾ç¡®ç»“æœ / function accAdd(arg1, arg2) { var r1, r2, m, c; try { r1 = arg1.toString().split(&quot;.&quot;)[1].length; } catch (e) { r1 = 0; } try { r2 = arg2.toString().split(&quot;.&quot;)[1].length; } catch (e) { r2 = 0; } c = Math.abs(r1 - r2); m = Math.pow(10, Math.max(r1, r2)); if (c &gt; 0) { var cm = Math.pow(10, c); if (r1 &gt; r2) { arg1 = Number(arg1.toString().replace(&quot;.&quot;, &quot;&quot;)); arg2 = Number(arg2.toString().replace(&quot;.&quot;, &quot;&quot;)) * cm; } else { arg1 = Number(arg1.toString().replace(&quot;.&quot;, &quot;&quot;)) * cm; arg2 = Number(arg2.toString().replace(&quot;.&quot;, &quot;&quot;)); } } else { arg1 = Number(arg1.toString().replace(&quot;.&quot;, &quot;&quot;)); arg2 = Number(arg2.toString().replace(&quot;.&quot;, &quot;&quot;)); } return (arg1 + arg2) / m; } //ç»™Numberç±»å‹å¢åŠ ä¸€ä¸ªaddæ–¹æ³•ï¼Œè°ƒç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚ Number.prototype.add = function (arg) { return accAdd(arg, this); }; / å‡æ³•å‡½æ•°ï¼Œç”¨æ¥å¾—åˆ°ç²¾ç¡®çš„å‡æ³•ç»“æœ è¯´æ˜ï¼šjavascriptçš„å‡æ³•ç»“æœä¼šæœ‰è¯¯å·®ï¼Œåœ¨ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸å‡çš„æ—¶å€™ä¼šæ¯”è¾ƒæ˜æ˜¾ã€‚è¿™ä¸ªå‡½æ•°è¿”å›è¾ƒä¸ºç²¾ç¡®çš„å‡æ³•ç»“æœã€‚ è°ƒç”¨ï¼šaccSub(arg1,arg2) è¿”å›å€¼ï¼šarg1åŠ ä¸Šarg2çš„ç²¾ç¡®ç»“æœ / function accSub(arg1, arg2) { var r1, r2, m, n; try { r1 = arg1.toString().split(&quot;.&quot;)[1].length; } catch (e) { r1 = 0; } try { r2 = arg2.toString().split(&quot;.&quot;)[1].length; } catch (e) { r2 = 0; } m = Math.pow(10, Math.max(r1, r2)); //last modify by deeka //åŠ¨æ€æ§åˆ¶ç²¾åº¦é•¿åº¦ n = (r1 &gt;= r2) ? r1 : r2; return ((arg2 * m - arg1 * m) / m).toFixed(n); } // ç»™Numberç±»å‹å¢åŠ ä¸€ä¸ªmulæ–¹æ³•ï¼Œè°ƒç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚ Number.prototype.sub = function (arg) { return accSub(arg, this); }; / ä¹˜æ³•å‡½æ•°ï¼Œç”¨æ¥å¾—åˆ°ç²¾ç¡®çš„ä¹˜æ³•ç»“æœ è¯´æ˜ï¼šjavascriptçš„ä¹˜æ³•ç»“æœä¼šæœ‰è¯¯å·®ï¼Œåœ¨ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸ä¹˜çš„æ—¶å€™ä¼šæ¯”è¾ƒæ˜æ˜¾ã€‚è¿™ä¸ªå‡½æ•°è¿”å›è¾ƒä¸ºç²¾ç¡®çš„ä¹˜æ³•ç»“æœã€‚ è°ƒç”¨ï¼šaccMul(arg1,arg2) è¿”å›å€¼ï¼šarg1ä¹˜ä»¥ arg2çš„ç²¾ç¡®ç»“æœ / function accMul(arg1, arg2) { var m = 0, s1 = arg1.toString(), s2 = arg2.toString(); try { m += s1.split(&quot;.&quot;)[1].length; } catch (e) { } try { m += s2.split(&quot;.&quot;)[1].length; } catch (e) { } return Number(s1.replace(&quot;.&quot;, &quot;&quot;)) * Number(s2.replace(&quot;.&quot;, &quot;&quot;)) / Math.pow(10, m); } // ç»™Numberç±»å‹å¢åŠ ä¸€ä¸ªmulæ–¹æ³•ï¼Œè°ƒç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚ Number.prototype.mul = function (arg) { return accMul(arg, this); }; / é™¤æ³•å‡½æ•°ï¼Œç”¨æ¥å¾—åˆ°ç²¾ç¡®çš„é™¤æ³•ç»“æœ è¯´æ˜ï¼šjavascriptçš„é™¤æ³•ç»“æœä¼šæœ‰è¯¯å·®ï¼Œåœ¨ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸é™¤çš„æ—¶å€™ä¼šæ¯”è¾ƒæ˜æ˜¾ã€‚è¿™ä¸ªå‡½æ•°è¿”å›è¾ƒä¸ºç²¾ç¡®çš„é™¤æ³•ç»“æœã€‚ è°ƒç”¨ï¼šaccDiv(arg1,arg2) è¿”å›å€¼ï¼šarg1é™¤ä»¥arg2çš„ç²¾ç¡®ç»“æœ / function accDiv(arg1, arg2) { var t1 = 0, t2 = 0, r1, r2; try { t1 = arg1.toString().split(&quot;.&quot;)[1].length; } catch (e) { } try { t2 = arg2.toString().split(&quot;.&quot;)[1].length; } catch (e) { } with (Math) { r1 = Number(arg1.toString().replace(&quot;.&quot;, &quot;&quot;)); r2 = Number(arg2.toString().replace(&quot;.&quot;, &quot;&quot;)); return (r1 / r2) * pow(10, t2 - t1); } } //ç»™Numberç±»å‹å¢åŠ ä¸€ä¸ªdivæ–¹æ³•ï¼Œè°ƒç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚ Number.prototype.div = function (arg) { return accDiv(this, arg); };","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"canvas","slug":"canvas","date":"2021-08-13T08:00:45.558Z","updated":"2021-08-13T08:08:32.209Z","comments":true,"path":"2021/08/13/canvas/","link":"","permalink":"/2021/08/13/canvas/","excerpt":"","text":"ä¸€ã€canvasç®€ä»‹canvasæ˜¯HTML5æ–°å¢çš„ï¼Œä¸€ä¸ªå¯ä»¥ä½¿ç”¨è„šæœ¬ï¼ˆé€šå¸¸ä¸ºJavaScriptï¼‰åœ¨å…¶ä¸­ç»˜åˆ¶å›¾åƒçš„HTMLå…ƒç´ ã€‚å®ƒå¯ä»¥ç”¨æ¥åˆ¶ä½œç…§ç‰‡æˆ–è€…åˆ¶ä½œç®€å•ï¼ˆä¹Ÿä¸æ˜¯é‚£ä¹ˆç®€å•ï¼‰çš„åŠ¨ç”»ï¼Œç”šè‡³å¯ä»¥è¿›è¡Œå®æ—¶è§†é¢‘å¤„ç†å’Œæ¸²æŸ“ã€‚ å®ƒæœ€åˆç”±è‹¹æœå†…éƒ¨ä½¿ç”¨è‡ªå·±MacOS X Webkitæ¨å‡ºï¼Œä¾›åº”ç”¨ç¨‹åºä½¿ç”¨åƒä»ªè¡¨ç›˜çš„æ„ä»¶å’ŒSafariæµè§ˆå™¨ä½¿ç”¨ã€‚åæ¥ï¼Œæœ‰äººé€šè¿‡Geckoå†…æ ¸çš„æµè§ˆå™¨ï¼ˆå°¤å…¶æ˜¯Mozillaå’ŒFirefoxï¼‰ï¼ŒOperaå’ŒChromeå’Œè¶…æ–‡æœ¬ç½‘ç»œåº”ç”¨æŠ€æœ¯å·¥ä½œç»„å»ºè®®ä¸ºä¸‹ä¸€ä»£çš„ç½‘ç»œæŠ€æœ¯ä½¿ç”¨è¯¥å…ƒç´ ã€‚ Canvasæ˜¯ç”±HTMLä»£ç é…åˆé«˜åº¦å’Œå®½åº¦å±æ€§è€Œå®šä¹‰å‡ºçš„å¯ç»˜åˆ¶åŒºåŸŸã€‚JavaScriptä»£ç å¯ä»¥è®¿é—®è¯¥åŒºåŸŸï¼Œç±»ä¼¼äºå…¶ä»–é€šç”¨çš„äºŒç»´APIï¼Œé€šè¿‡ä¸€å¥—å®Œæ•´çš„ç»˜å›¾å‡½æ•°æ¥åŠ¨æ€ç”Ÿæˆå›¾å½¢ã€‚ Mozillaç¨‹åºä»Geko1.8ï¼ˆFirefox1.5ï¼‰å¼€å§‹æ”¯æŒcanvasï¼ŒInternet Explorerä»IE9å¼€å§‹canvasã€‚Chromeå’ŒOpera9+ä¹Ÿæ”¯æŒcanvasã€‚ äºŒã€CanvasåŸºæœ¬ä½¿ç”¨2.1canvaså…ƒç´ canvasçœ‹èµ·æ¥å’Œ&lt;img&gt;æ ‡ç­¾ä¸€æ ·ï¼Œåªæ˜¯canvasåªæœ‰ä¸¤ä¸ªå¯é€‰çš„å±æ€§widthã€heightå±æ€§ï¼Œè€Œæ²¡æœ‰srcã€altå±æ€§ã€‚ å¦‚æœä¸ç»™canvasè®¾ç½®widthã€heightå±æ€§æ—¶ï¼Œåˆ™é»˜è®¤widthä¸º300ã€heightä¸º150ï¼Œå•ä½éƒ½æ˜¯pxã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨csså±æ€§æ¥è®¾ç½®å®½é«˜ï¼Œä½†æ˜¯å¦‚å®½é«˜å±æ€§å’Œåˆå§‹æ¯”ä¾‹ä¸ä¸€è‡´ï¼Œä»–ä¼šå‡ºç°æ‰­æ›²ã€‚æ‰€ä»¥ï¼Œå»ºè®®æ°¸è¿œä¸è¦ä½¿ç”¨csså±æ€§æ¥è®¾ç½®canvasçš„å®½é«˜ã€‚ æ›¿æ¢å†…å®¹ ç”±äºæŸäº›è¾ƒè€çš„æµè§ˆå™¨ï¼ˆå°¤å…¶æ˜¯IE9ä¹‹å‰çš„IEæµè§ˆå™¨ï¼‰æˆ–è€…æµè§ˆå™¨ä¸æ”¯æŒHTMLå…ƒç´ canvasï¼Œåœ¨è¿™äº›æµè§ˆå™¨ä¸Šä½ åº”è¯¥æ€»æ˜¯èƒ½å±•ç¤ºæ›¿ä»£å†…å®¹ã€‚ æ”¯æŒcanvasçš„æµè§ˆå™¨ä¼šåªæ¸²æŸ“canvasæ ‡ç­¾ï¼Œè€Œå¿½ç•¥å…¶ä¸­çš„æ›¿ä»£å†…å®¹ã€‚ä¸æ”¯æŒcanvasçš„æµè§ˆå™¨ä¼šç›´æ¥æ¸²æŸ“æ›¿ä»£å†…å®¹ã€‚ ç”¨æ–‡æœ¬æ›¿æ¢ï¼š &lt;canvas&gt; ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒcanvasï¼Œè¯·å‡çº§ä½ çš„æµè§ˆå™¨ã€‚ &lt;/canvas&gt; ç”¨&lt;img&gt;æ›¿æ¢ï¼š &lt;canvas&gt; &lt;img src=&quot;./ç¾å¥³.jgp&quot; alt=&quot;&quot;&gt; &lt;/canvas&gt; ç»“æŸæ ‡ç­¾ä¸å¯çœç•¥ ä¸&lt;img&gt;å…ƒç´ ä¸åŒï¼Œcanvaså…ƒç´ éœ€è¦ç»“æŸæ ‡ç­¾ï¼ˆï¼‰ã€‚å¦‚æœç»“æŸæ ‡ç­¾ä¸å­˜åœ¨ï¼Œåˆ™æ–‡æ¡£çš„å…¶ä½™éƒ¨åˆ†ä¼šè¢«è®¤ä¸ºæ˜¯æ›¿ä»£å†…å®¹ï¼Œå°†ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚ ##2.2æ¸²æŸ“ä¸Šä¸‹æ–‡ï¼ˆThre Rending Contextï¼‰ canvasä¼šåˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°çš„ç”»å¸ƒï¼Œä¼šå…¬å¼€ä¸€ä¸ªæˆ–å¤šä¸ªæ¸²æŸ“ä¸Šä¸‹æ–‡(ç”»ç¬”)ï¼Œä½¿ç”¨æ¸²æŸ“ä¸Šä¸‹æ–‡æ¥ç»˜åˆ¶å’Œå¤„ç†è¦å±•ç¤ºçš„å†…å®¹ã€‚ æˆ‘ä»¬é‡ç‚¹ç ”ç©¶2Dæ¸²æŸ“ä¸Šä¸‹æ–‡ã€‚å…¶ä»–çš„ä¸Šä¸‹æ–‡æˆ‘ä»¬æš‚ä¸ç ”ç©¶ï¼Œæ¯”å¦‚ï¼ŒWebGLä½¿ç”¨äº†åŸºäºOpenGLESçš„3Dä¸Šä¸‹æ–‡ã€‚ var canvas = document.getElementById(&#39;tutorial&#39;); //è·å¾—2dä¸Šä¸‹æ–‡å¯¹è±¡ var ctx = canvas.getContext(&#39;2d&#39;) 2.3æ£€æµ‹æ”¯æŒæ€§var canvas = document.getElementById(&#39;tutorial&#39;); if(canvas.getContext) { var ctx = canvas.getContext(&#39;2d&#39;) // drawing code here } else { // canvas-unsupported code here } 2.4ä»£ç æ¨¡æ¿&lt;canvas id=&quot;tutorial&quot; width=&quot;300&quot; height=&quot;300&quot;&gt;&lt;/canvas&gt; &lt;script type=&quot;text/javascript&quot;&gt; function draw() { var canvas = document.getElementById(&#39;tutorial&#39;); if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) //å¼€å§‹å†™ä»£ç  } &lt;/script&gt; 2.5ä¸€ä¸ªç®€å•çš„ä¾‹å­ä»¥ä¸‹å®ä¾‹ç»˜åˆ¶ä¸¤ä¸ªé•¿æ–¹å½¢ &lt;canvas id=&quot;tutorial&quot; width=&quot;300&quot; height=&quot;300&quot;&gt;&lt;/canvas&gt; &lt;script type=&quot;text/javascript&quot;&gt; function draw() { var canvas = document.getElementById(&#39;tutorial&#39;); if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.fillStyle = &quot;rgb(200,0,0)&quot; //ç»˜åˆ¶çŸ©å½¢ ctx.fillRect (10,10,55,50) ctx.fillStyle = &quot;rgb(0,0,200,0.5)&quot; ctx.fillRect (30,30,55,50) } draw() &lt;/script&gt; ä¸‰ã€ç»˜åˆ¶å½¢çŠ¶3.1æ …æ ¼(grid)å’Œåæ ‡ç©ºé—´å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œcanvaså…ƒç´ é»˜è®¤è¢«ç½‘æ ¼æ‰€è¦†ç›–ã€‚é€šå¸¸æ¥è¯´ç½‘æ ¼ä¸­çš„ä¸€ä¸ªå•å…ƒ ç›¸å½“äºcanvaså…ƒç´ ä¸­çš„ä¸€åƒç´ ã€‚æ …æ ¼çš„èµ·ç‚¹ä¸ºå·¦ä¸Šè§’ï¼Œåæ ‡ä¸º(0,0)ã€‚æ‰€æœ‰å…ƒç´ çš„ä½ç½®éƒ½ç›¸å¯¹äºåŸç‚¹æ¥å®šä½ã€‚æ‰€ä»¥å›¾ä¸­è“è‰²æ–¹å½¢å·¦ä¸Šè§’çš„åæ ‡ä¸ºè·ç¦»å·¦è¾¹ï¼ˆXè½´ï¼‰xåƒç´ ï¼Œè·ç¦»ä¸Šè¾¹ï¼ˆYè½´ï¼‰yåƒç´ ï¼Œåæ ‡ä¸º(x,y)ã€‚ åé¢æˆ‘ä»¬ä¼šæ¶‰åŠåˆ°åæ ‡åŸç‚¹çš„å¹³ç§»ã€ç½‘æ ¼çš„æ—‹è½¬ä»¥åŠç¼©æ”¾ç­‰ã€‚ 3.2ç»˜åˆ¶çŸ©å½¢canvasåªæ”¯æŒä¸€ç§åŸç”Ÿçš„å›¾å½¢ç»˜åˆ¶ï¼šçŸ©å½¢ã€‚æ‰€æœ‰å…¶ä»–å›¾å½¢éƒ½è‡³å°‘éœ€è¦ç”Ÿæˆä¸€ç§è·¯å¾„(path)ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬æ‹¥æœ‰ä¼—å¤šè·¯å¾„ç”Ÿæˆçš„æ–¹æ³•è®©å¤æ‚å›¾å½¢çš„ç»˜åˆ¶æˆä¸ºäº†å¯èƒ½ã€‚ canvasæä¾›äº†ä¸‰ç§æ–¹æ³•ç»˜åˆ¶çŸ©å½¢ï¼š fillRect(x, y, width, height)ï¼šç»˜åˆ¶ä¸€ä¸ªå¡«å……çš„çŸ©å½¢ã€‚ strokeRect(x, y, width, height)ï¼šç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢çš„è¾¹æ¡†ã€‚ clearRect(x, y, width, height)ï¼šæ¸…é™¤æŒ‡å®šçš„çŸ©å½¢åŒºåŸŸï¼Œç„¶åè¿™å—åŒºåŸŸä¼šå˜çš„å®Œå…¨é€æ˜ã€‚ è¯´æ˜ï¼šè¿™3ä¸ªæ–¹æ³•å…·æœ‰ç›¸åŒçš„å‚æ•°ã€‚ x,yï¼šæŒ‡çš„æ˜¯çŸ©å½¢çš„å·¦ä¸Šè§’çš„åæ ‡ã€‚(ç›¸å¯¹äºcanvasçš„åæ ‡åŸç‚¹) width,heightï¼šæŒ‡çš„æ˜¯ç»˜åˆ¶çš„çŸ©å½¢çš„å®½å’Œé«˜ã€‚ function draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.fillRect(10,10,100,50) //ç»˜åˆ¶çŸ©å½¢ï¼Œå¡«å……çš„é»˜è®¤é¢œè‰²ä¸ºé»‘è‰² ctx.strokeRect(10, 70, 100 ,50) //ç»˜åˆ¶çŸ©å½¢è¾¹æ¡† } draw() ctx.clearRect(15, 15, 50, 25) å››ã€ç»˜åˆ¶è·¯å¾„(path)å›¾å½¢çš„åŸºæœ¬å…ƒç´ æ˜¯è·¯å¾„ã€‚ è·¯å¾„æ˜¯é€šè¿‡ä¸åŒé¢œè‰²å’Œå®½åº¦çš„çº¿æ®µæˆ–æ›²çº¿ç›¸è¿å½¢æˆçš„ä¸åŒå½¢çŠ¶çš„ç‚¹çš„é›†åˆã€‚ ä¸€ä¸ªè·¯å¾„ï¼Œç”šè‡³ä¸€ä¸ªå­è·¯å¾„ï¼Œéƒ½æ˜¯é—­åˆçš„ã€‚ ä½¿ç”¨è·¯å¾„ç»˜åˆ¶å›¾å½¢éœ€è¦ä¸€äº›é¢å¤–çš„æ­¥éª¤ï¼š åˆ›å»ºè·¯å¾„èµ·å§‹ç‚¹ è°ƒç”¨ç»˜åˆ¶æ–¹æ³•å»ç»˜åˆ¶å‡ºè·¯å¾„ æŠŠè·¯å¾„å°é—­ ä¸€æ—¦è·¯å¾„ç”Ÿæˆï¼Œé€šè¿‡æè¾¹æˆ–å¡«å……è·¯å¾„åŒºåŸŸæ¥æ¸²æŸ“å›¾å½¢ ä¸‹é¢æ˜¯éœ€è¦ç”¨åˆ°çš„æ–¹æ³•ï¼š beginPath() â€‹ æ–°å»ºä¸€æ¡è·¯å¾„ï¼Œè·¯å¾„ä¸€æ—¦åˆ›å»ºæˆåŠŸï¼Œå›¾å½¢ç»˜åˆ¶å‘½ä»¤è¢«æŒ‡å‘åˆ°è·¯å¾„ä¸Šç”Ÿæˆè·¯å¾„ moveTo(x, y) æŠŠç”»ç¬”ç§»åŠ¨åˆ°æŒ‡å®šçš„åæ ‡(x, y)ã€‚ç›¸å½“äºè®¾ç½®è·¯å¾„çš„èµ·å§‹ç‚¹åæ ‡ã€‚ closePath() é—­åˆè·¯å¾„ä¹‹åï¼Œå›¾å½¢ç»˜åˆ¶å‘½ä»¤åˆé‡æ–°æŒ‡å‘åˆ°ä¸Šä¸‹æ–‡ä¸­ stroke() é€šè¿‡çº¿æ¡æ¥ç»˜åˆ¶å›¾å½¢è½®å»“ fill() é€šè¿‡å¡«å……è·¯å¾„çš„å†…å®¹åŒºåŸŸç”Ÿæˆå®å¿ƒçš„å›¾å½¢ 4.1ç»˜åˆ¶çº¿æ®µfunction draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.beginPath() //æ–°å»ºä¸€æ¡path ctx.moveTo(50,50) // æŠŠç”»ç¬”ç§»åŠ¨åˆ°æŒ‡å®šçš„åæ ‡ ctx.lineTo(200,50) //ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ä½ç½®åˆ°æŒ‡å®šåæ ‡(200,50)çš„ç›´çº¿ ctx.closePath() //é—­åˆè·¯å¾„ã€‚ä¼šæ‹‰ä¸€æ¡ä»å½“å‰ç‚¹åˆ°pathèµ·å§‹ç‚¹çš„ç›´çº¿ã€‚å¦‚æœå½“å‰ç‚¹ä¸èµ·å§‹ç‚¹é‡åˆï¼Œåˆ™ä»€ä¹ˆéƒ½ä¸åš ctx.stroke() //ç»˜åˆ¶è·¯å¾„ } draw() 4.2ç»˜åˆ¶ä¸‰è§’å½¢è¾¹æ¡†function draw() { var canvas = document.getElmentById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.beginPath() ctx.moveTo(50,50) ctx.lineTo(200,50) ctx.lineTo(200,200) ctx.closePath() //è™½ç„¶æˆ‘ä»¬åªç»˜åˆ¶äº†ä¸¤æ¡çº¿æ®µï¼Œä½†æ˜¯closePathä¼šclosePathï¼Œä»ç„¶æ˜¯ä¸€ä¸ªä¸‰è§’å½¢ ctx.stroke() //æè¾¹ã€‚strokeä¸ä¼šè‡ªåŠ¨closePath() } draw() 4.3å¡«å……ä¸‰è§’å½¢function draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.beginPath() ctx.moveTo(50,50) ctx.lineTo(200,50) ctx.lineTo(200,200) ctx.fill() //å¡«å……é—­åˆåŒºåŸŸã€‚å¦‚æœpathæ²¡æœ‰é—­åˆï¼Œåˆ™fill()ä¼šè‡ªåŠ¨é—­åˆè·¯å¾„ } 4.4ç»˜åˆ¶åœ†å¼§æœ‰ä¸¤ä¸ªæ–¹æ³•å¯ä»¥ç»˜åˆ¶åœ†å¼§ï¼š arc(x, y, r, startAngle, endAngle, anticlockwise): ä»¥(x,y) ä¸ºåœ†å¿ƒï¼Œä»¥rä¸ºåŠå¾„ï¼Œä»startAngleå¼§åº¦å¼€å§‹åˆ°endAngleå¼§åº¦ç»“æŸã€‚anticlosewiseæ˜¯å¸ƒå°”å€¼ï¼Œtrueè¡¨ç¤ºé€†æ—¶é’ˆï¼Œfalseè¡¨ç¤ºé¡ºæ—¶é’ˆ(é»˜è®¤æ˜¯é¡ºæ—¶é’ˆ)ã€‚ è¿™é‡Œçš„åº¦æ•°éƒ½æ˜¯å¼§åº¦ã€‚ 0å¼§åº¦æ˜¯æŒ‡çš„xè½´æ­£æ–¹å‘ã€‚ radians = (Math.PI/180)*degrees //è§’åº¦è½¬æ¢æˆå¼§åº¦ arcTo(x1,y1,x2,y2,radius): æ ¹æ®ç»™å®šçš„æ§åˆ¶ç‚¹å’ŒåŠå¾„ç”»ä¸€æ®µåœ†å¼§ï¼Œæœ€åå†ä»¥ç›´çº¿è¿æ¥ä¸¤ä¸ªæ§åˆ¶ç‚¹ã€‚ //åœ†å¼§æ¡ˆä¾‹1 function draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.beginPath() ctx.arc(50,50,40,0,Math.PI /2, false) ctx.stroke() } draw() //åœ†å¼§æ¡ˆä¾‹2 funcion draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.beginPath() ctx.arc(50,50,50,0,Math.PI/2,false) ctx.stroke() ctx.beginPath() ctx.arc(150,50,40,0,-Math.PI/2,true) ctx.closePath() ctx.stroke() ctx.beginPath() ctx.arc(50,150,40,-Math.PI/2,Math.PI/2,false) ctx.fill() ctx.beginPath() ctx.arc(150,150,40,0,Math.PI,false) ctx.fill() } draw() //åœ†å¼§æ¡ˆä¾‹3 function draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.beginPath() ctx.moveTo(50,50) //å‚æ•°1ã€2ï¼šæ§åˆ¶ç‚¹1åæ ‡ //å‚æ•°3ã€4ï¼šæ§åˆ¶ç‚¹2åæ ‡ //å‚æ•°5ï¼šåœ†å¼§åŠå¾„ ctx.arcTo(200,50,200,200,100) ctx.lineTo(200,200) ctx.stroke() ctx.beginPath() ctx.rect(50,50,10,10) ctx.rect(200,50,10,10) ctx.rect(200,200,10,10) ctx.fill() } arcToæ–¹æ³•çš„è¯´æ˜ï¼š è¿™ä¸ªæ–¹æ³•å¯ä»¥è¿™æ ·ç†è§£ã€‚ç»˜åˆ¶çš„å¼§å½¢æ˜¯ç”±ä¸¤æ¡åˆ‡çº¿æ‰€å†³å®šã€‚ ç¬¬1æ¡åˆ‡çº¿ï¼šèµ·å§‹ç‚¹å’Œæ§åˆ¶ç‚¹1å†³å®šçš„ç›´çº¿ã€‚ ç¬¬2æ¡åˆ‡çº¿ï¼šæ§åˆ¶ç‚¹1å’Œæ§åˆ¶ç‚¹2å†³å®šçš„ç›´çº¿ã€‚ å…¶å®ç»˜åˆ¶çš„åœ†å¼§å°±æ˜¯ä¸è¿™ä¸¤æ¡ç›´çº¿ç›¸åˆ‡çš„åœ†å¼§ã€‚ 4.5ç»˜åˆ¶è´å¡å°”æ›²çº¿4.5.1ä»€ä¹ˆæ˜¯è´å¡å°”æ›²çº¿è´å¡å°”æ›²çº¿(BÃ©zier curve)ï¼Œåˆç§°è´å…¹æ›²çº¿æˆ–è´æµåŸƒæ›²çº¿ï¼Œæ˜¯åº”ç”¨äºäºŒç»´å›¾å½¢åº”ç”¨ç¨‹åºçš„æ•°å­¦æ›²çº¿ã€‚ ä¸€èˆ¬çš„çŸ¢é‡å›¾å½¢è½¯ä»¶é€šè¿‡å®ƒæ¥ç²¾ç¡®ç”»å‡ºæ›²çº¿ï¼Œè´å…¹æ›²çº¿æ˜¯ç”±çº¿æ®µä¸èŠ‚ç‚¹ç»„æˆï¼ŒèŠ‚ç‚¹æ˜¯å¯æ‹–åŠ¨çš„æ”¯ç‚¹ï¼Œçº¿æ®µåƒå¯ä¼¸ç¼©çš„çš®ç­‹ï¼Œæˆ‘ä»¬åœ¨ç»˜å›¾å·¥å…·ä¸Šçœ‹åˆ°çš„é’¢ç¬”å·¥å…·å°±æ˜¯æ¥åšè¿™ç§çŸ¢é‡æ›²çº¿çš„ã€‚ è´å¡å°”æ›²çº¿æ˜¯è®¡ç®—æœºå›¾å½¢å­¦ä¸­ç›¸å½“é‡è¦çš„å‚æ•°æ›²çº¿ï¼Œåœ¨ä¸€äº›æ¯”è¾ƒæˆç†Ÿçš„ä½å›¾è½¯ä»¶ä¸­ä¹Ÿæœ‰è´å¡å°”æ›²çº¿å·¥å…·å…¥PhotoShopç­‰ã€‚åœ¨Flash4ä¸­è¿˜æ²¡æœ‰å®Œæ•´çš„æ›²çº¿å·¥å…·ï¼Œè€Œåœ¨Flash5é‡Œé¢å·²ç»æä¾›å‡ºè´å¡å°”æ›²çº¿å·¥å…·ã€‚ è´å¡å°”æ›²çº¿äº1962ï¼Œç”±æ³•å›½å·¥ç¨‹å¸ˆçš®åŸƒå°”Â·è´å¡å°”ï¼ˆPierre BÃ©zierï¼‰æ‰€å¹¿æ³›å‘è¡¨ï¼Œä»–è¿ç”¨è´å¡å°”æ›²çº¿æ¥ä¸ºæ±½è½¦çš„ä¸»ä½“è¿›è¡Œè®¾è®¡ã€‚è´å¡å°”æ›²çº¿æœ€åˆç”±Paul de Casteljau äº 1959 å¹´è¿ç”¨ de Casteljau æ¼”ç®—æ³•å¼€å‘ï¼Œä»¥ç¨³å®šæ•°å€¼çš„æ–¹æ³•æ±‚å‡ºè´å…¹æ›²çº¿ã€‚ ä¸€æ¬¡è´å¡å°”æ›²çº¿å…¶å®æ˜¯ä¸€æ¡ç›´çº¿ äºŒæ¬¡è´å¡å°”æ›²çº¿ ä¸‰æ¬¡è´å¡å°”æ›²çº¿ 4.5.2ç»˜åˆ¶è´å¡å°”æ›²çº¿ ç»˜åˆ¶äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼š/kwÉ’&#39;drÃ¦tÉªk/ quadraticCurveTo(cp1x,cp1y,x,y) è¯´æ˜ï¼š å‚æ•°1å’Œ2ï¼šæ§åˆ¶ç‚¹åæ ‡ å‚æ•°3å’Œ4ï¼šç»“æŸç‚¹åæ ‡ function draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.beginPath() ctx.moveTo(10,200) //èµ·å§‹ç‚¹ var cp1x = 40, cp1y = 100 //æ§åˆ¶ç‚¹ var x = 200, y = 200 //ç»“æŸç‚¹ //ç»˜åˆ¶äºŒæ¬¡è´å¡å°”æ›²çº¿ ctx.quadraticCurveTo(cp1x, cp1y, x, y) ctx.stroke() ctx.beginPath() ctx.rect(10,200,10,10) ctx.rect(cp1x,cp1y,10,10) ctx.rect(x,y,10,10) ctx.fill() } draw() ç»˜åˆ¶ä¸‰æ¬¡è´å¡å°”æ›²çº¿: bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) è¯´æ˜ï¼š å‚æ•°1å’Œ2ï¼šæ§åˆ¶ç‚¹1çš„åæ ‡ å‚æ•°3å’Œ4ï¼šæ§åˆ¶ç‚¹2çš„åæ ‡ å‚æ•°5å’Œ6ï¼šç»“æŸç‚¹çš„åæ ‡ function draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.beginPath() ctx.moveTo(40,200) //èµ·å§‹ç‚¹ var cp1x = 20, cp1y = 100 //æ§åˆ¶ç‚¹1 var cp2x = 100, cp2y = 120 //æ§åˆ¶ç‚¹2 var x = 200, y = 200 //ç»“æŸç‚¹ //ç»˜åˆ¶ä¸‰æ¬¡è´å¡å°”æ›²çº¿ ctx.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y) ctx.stroke() ctx.beginPath(); ctx.rect(40, 200, 10, 10); ctx.rect(cp1x, cp1y, 10, 10); ctx.rect(cp2x, cp2y, 10, 10); ctx.rect(x, y, 10, 10); ctx.fill(); } draw() äº”ã€æ·»åŠ æ ·å¼å’Œé¢œè‰²åœ¨å‰é¢çš„ç»˜åˆ¶çŸ©å½¢ç« èŠ‚ä¸­ï¼Œåªç”¨åˆ°äº†é»˜è®¤çš„çº¿æ¡å’Œé¢œè‰²ã€‚ å¦‚æœæƒ³è¦ç»™å›¾å½¢ä¸Šè‰²ï¼Œæœ‰ä¸¤ä¸ªé‡è¦çš„å±æ€§å¯ä»¥åšåˆ°ã€‚ fillStyle = color è®¾ç½®å›¾å½¢çš„å¡«å……é¢œè‰² strokeStyle = color è®¾ç½®å›¾å½¢è½®å»“çš„é¢œè‰² å¤‡æ³¨ï¼š colorå¯ä»¥æ˜¯è¡¨è¾¾cssé¢œè‰²å€¼çš„å­—ç¬¦ä¸²ã€æ¸å˜å¯¹è±¡æˆ–è€…å›¾æ¡ˆå¯¹è±¡ é»˜è®¤æƒ…å†µä¸‹ï¼Œçº¿æ¡å’Œå¡«å……é¢œè‰²éƒ½æ˜¯é»‘è‰² ä¸€æ—¦æ‚¨è®¾ç½®äº†strokeStyleæˆ–è€…fillStyleçš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°å€¼å°±ä¼šæˆä¸ºæ–°ç»˜åˆ¶çš„å›¾å½¢çš„é»˜è®¤å€¼ã€‚å¦‚æœä½ è¦ç»™æ¯ä¸ªå›¾å½¢ä¸Šä¸åŒçš„é¢œè‰²ï¼Œä½ éœ€è¦é‡æ–°è®¾ç½®fillStyleæˆ–strokeStyleçš„å€¼ fillStylefunction draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) for(var i = 0; i &lt; 6; i++) { for(var j = 0; j &lt; 6; j++) { ctx.fillStyle = &#39;rgb(&#39; + Math.floor(255 - 42.5 * i) + &#39;,&#39; + Math.floor(255 - 42.5 * j) + &#39;,0)&#39; ctx.fillRect(j * 50, i * 50, 50, 50) } } } draw() strokeStylefunction draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) for(var i = 0; i &lt; 6; i++) { for(var j = 0;j &lt; 6;j++) { ctx.strokeStyle = `rgb(${randomInt(0,255)}, ${randomInt(0,255)}, ${randomInt(0,255)})` ctx.strokeRect(j*50,i*50,40,40) } } } draw() //è¿”å›éšæœºçš„[from,to]ä¹‹é—´çš„æ•´æ•°(åŒ…æ‹¬fromï¼Œä¹ŸåŒ…æ‹¬to) function randomInt(from,to) { return parseInt(Math.random() * (to-from +1) + from) } Transparency(é€æ˜åº¦)globalAlpha = transparencyValue:è¿™ä¸ªå±æ€§å½±å“åˆ°canvasé‡Œæ‰€æœ‰å›¾å½¢çš„é€æ˜åº¦ï¼Œæœ‰æ•ˆçš„å€¼èŒƒå›´æ˜¯0.0ï¼ˆå®Œå…¨é€æ˜ï¼‰åˆ°1.0ï¼ˆå®Œå…¨ä¸é€æ˜ï¼‰ï¼Œé»˜è®¤æ˜¯1.0 globalAlphaå±æ€§åœ¨éœ€è¦ç»˜åˆ¶å¤§é‡æ‹¥æœ‰ç›¸åŒé€æ˜åº¦çš„å›¾å½¢æ—¶å€™ç›¸å½“é«˜æ•ˆã€‚ä¸è¿‡ï¼Œæˆ‘è®¤ä¸ºä½¿ç”¨rgba()è®¾ç½®é€æ˜åº¦æ›´å¥½ä¸€äº›ã€‚ 1. line style çº¿å®½ã€‚åªèƒ½æ˜¯æ­£å€¼ã€‚é»˜è®¤æ˜¯1.0 èµ·å§‹ç‚¹å’Œç»ˆç‚¹çš„è¿çº¿ä¸ºä¸­å¿ƒï¼Œä¸Šä¸‹å„å çº¿å®½çš„ä¸€åŠã€‚ ctx.beginPath() ctx.moveTo(10,10) ctx.lineTo(100,10) ctx.lineWidth = 10 ctx.stroke() ctx.beginPath() ctx.moveTo(110,10) ctx.lineTo(160,10) ctx.lineWidth = 20 ctx.stroke() 2. lineCap = type çº¿æ¡æœ«ç«¯æ ·å¼ã€‚ å…±æœ‰ä¸‰ä¸ªå€¼ï¼š buttï¼š çº¿æ®µæœ«ç«¯ä»¥æ–¹å½¢ç»“æŸ roundï¼šçº¿æ®µæœ«ç«¯ä»¥åœ†å½¢ç»“æŸ squareï¼šçº¿æ®µæœ«ç«¯ä»¥æ–¹å½¢ç»“æŸï¼Œä½†æ˜¯å¢åŠ äº†ä¸€ä¸ªå®½åº¦å’Œçº¿æ®µç›¸åŒï¼Œé«˜åº¦æ˜¯çº¿æ®µåšåº¦ä¸€èˆ¬çš„çŸ©å½¢åŒºåŸŸ var lineCaps = [&#39;butt&#39;, &#39;round&#39;, &#39;square&#39;] for(var i = 0;i&lt;3;i++) { ctx.beginPath() ctx.moveTo(20+30*i,30) ctx.lineTo(20+30*i,100) ctx.lineWidth = 20 ctx.lineCap = lineCaps[i] ctx.stroke() } ctx.beginPath() ctx.moveTo(0,30) ctx.lineTo(300,30) ctx.moveTo(0,100) ctx.lineTo(300,100) ctx.strokeStyle = &#39;red&#39; ctx.lineWidth = 1 ctx.stroke() 3. lineJoin = type åŒä¸€ä¸ªpathå†…ï¼Œè®¾å®šçº¿æ¡ä¸çº¿æ¡é—´æ¥åˆå¤„çš„æ ·å¼ã€‚ å…±æœ‰ä¸‰ä¸ªå€¼round,bevelå’Œmiterï¼š roundé€šè¿‡å¡«å……ä¸€ä¸ªé¢å¤–çš„ï¼Œåœ†å¿ƒåœ¨ç›¸è¿éƒ¨åˆ†æœ«ç«¯çš„æ‰‡å½¢ï¼Œç»˜åˆ¶æ‹è§’çš„å½¢çŠ¶ã€‚åœ†è§’çš„åŠå¾„æ˜¯çº¿æ®µçš„å®½åº¦ã€‚ bevelåœ¨ç›¸è¿éƒ¨åˆ†çš„æœ«ç«¯å¡«å……ä¸€ä¸ªé¢å¤–çš„ä»¥ä¸‰è§’å½¢ä¸ºåº•çš„åŒºåŸŸï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½æœ‰å„è‡ªç‹¬ç«‹çš„çŸ©å½¢æ‹è§’ã€‚ miter(é»˜è®¤)é€šè¿‡å»¶ä¼¸ç›¸è¿éƒ¨åˆ†çš„å¤–è¾¹ç¼˜ï¼Œä½¿å…¶ç›¸äº¤äºä¸€ç‚¹ï¼Œå½¢æˆä¸€ä¸ªé¢å¤–çš„è±å½¢åŒºåŸŸã€‚ function draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) var lineJoin = [&#39;round&#39;,&#39;bevel&#39;, &#39;miter&#39;] ctx.lineWidth = 20 for(var i =0; i&lt; lineJoin.length;i++) { ctx.lineJoin = lineJoin[i] ctx.beginPath() ctx.moveTo(50,50+i*50) ctx.lineTo(100,100+i*50) ctx.lineTo(150,50+i*50) ctx.lineTo(200,100+i*50) ctx.lineTo(250,50+i*50) ctx.stroke() } } draw() 4. è™šçº¿ ç”¨setLineDashæ–¹æ³•å’ŒlineDashOffsetå±æ€§æ¥æŒ‡å®šè™šçº¿æ ·å¼ã€‚ setLineDashæ–¹æ³•æ¥æ”¶ä¸€ä¸ªæ•°ç»„ï¼Œæ¥æŒ‡å®šçº¿æ®µä¸é—´éš™çš„äº¤æ›¿ï¼› lineDashOffsetå±æ€§è®¾ç½®èµ·å§‹åç§»é‡ã€‚ function draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.setLineDash([20,5]) //[å®çº¿é•¿åº¦ï¼Œé—´éš™é•¿åº¦] ctx.lineDashOffset = -0 ctx.strokeRect(50,50,210,210) } draw() å¤‡æ³¨ï¼šgetLineDash()è¿”å›ä¸€ä¸ªåŒ…å«å½“å‰è™šçº¿æ ·å¼ï¼Œé•¿åº¦ä¸ºéå¶æ•°çš„æ•°ç»„ã€‚ å…­ã€ç»˜åˆ¶æ–‡æœ¬ç»˜åˆ¶æ–‡æœ¬çš„ä¸¤ä¸ªæ–¹æ³• canvasæä¾›äº†ä¸¤ç§æ–¹æ³•æ¥æ¸²æŸ“æ–‡æœ¬ï¼š fillText(text, x, y, [, maxWidth])åœ¨æŒ‡å®šçš„(x,y)ä½ç½®å¡«å……æŒ‡å®šçš„æ–‡æœ¬ï¼Œç»˜åˆ¶çš„æœ€å¤§å®½åº¦æ˜¯å¯é€‰çš„ã€‚ strokeText(text, x, y, [, maxWidth])åœ¨æŒ‡å®šçš„(x,y)ä½ç½®ç»˜åˆ¶æ–‡æœ¬è¾¹æ¡†ï¼Œç»˜åˆ¶çš„æœ€å¤§å®½åº¦æ˜¯å¯é€‰çš„ã€‚ var ctx; function draw() { var canvas = document.getELementById(&#39;tutorial&#39;) if(!canvas.getContext) return ctx = canvas.getContext(&#39;2d&#39;) ctx.font = &#39;100px sans-serif&#39; ctx.fillText(&#39;å¤©è‹¥æœ‰æƒ…&#39;,10,100) ctx.strokeText(&#39;å¤©è‹¥æœ‰æƒ…&#39;,10,200) } draw() ç»™æ–‡æœ¬æ·»åŠ æ ·å¼ font = value å½“å‰æˆ‘ä»¬ç”¨æ¥ç»˜åˆ¶æ–‡æœ¬çš„æ ·å¼ã€‚è¿™ä¸ªå­—ç¬¦ä¸²ä½¿ç”¨å’Œcss fontå±æ€§ç›¸åŒçš„è¯­æ³•ã€‚é»˜è®¤çš„å­—ä½“æ˜¯10px sans-serifã€‚ textAlign = value æ–‡æœ¬å¯¹é½é€‰é¡¹ã€‚å¯é€‰çš„å€¼åŒ…æ‹¬ï¼šstartï¼Œendï¼Œleftï¼Œrightï¼Œcenterã€‚é»˜è®¤æ˜¯startã€‚ textBaseline = value åŸºçº¿å¯¹é½é€‰é¡¹ï¼Œå¯é€‰çš„å€¼åŒ…æ‹¬ï¼štopï¼Œhangingï¼Œmiddleï¼Œalphabeticï¼Œideographicï¼Œbottomã€‚é»˜è®¤å€¼æ˜¯alphabeticã€‚ direction = value æ–‡æœ¬æ–¹å‘ã€‚å¯èƒ½çš„å€¼åŒ…æ‹¬ï¼šltrï¼Œrtlï¼Œinheritã€‚é»˜è®¤å€¼æ˜¯inheritã€‚ ä¸ƒã€ç»˜åˆ¶å›¾ç‰‡æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨canvasä¸Šç›´æ¥ç»˜åˆ¶å›¾ç‰‡ã€‚ 7.1ç”±é›¶å¼€å§‹åˆ›å»ºå›¾ç‰‡var img = new Image() //åˆ›å»ºä¸€ä¸ª&lt;img&gt;å…ƒç´  img.src = &#39;myImage.png&#39; //è®¾ç½®å›¾ç‰‡åŸåœ°å€ ç»˜åˆ¶img //å‚æ•°1ï¼šè¦ç»˜åˆ¶çš„img //å‚æ•°2ã€3ï¼šç»˜åˆ¶çš„imgåœ¨canvasä¸­çš„åæ ‡ ctx.drawImage(img,0,0) æ³¨æ„ï¼šè€ƒè™‘åˆ°å›¾ç‰‡æ˜¯ä»ç½‘ç»œåŠ è½½ï¼Œå¦‚æœdrawImageçš„æ—¶å€™å›¾ç‰‡è¿˜æ²¡æœ‰å®Œå…¨åŠ è½½å®Œæˆï¼Œåˆ™ä»€ä¹ˆéƒ½ä¸åšï¼Œä¸ªåˆ«æµè§ˆå™¨ä¼šæŠ›å¼‚å¸¸ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä¿è¯åœ¨imgç»˜åˆ¶å®Œæˆä¹‹åå†drawImageã€‚ var img = new Image() //åˆ›å»ºimgå…ƒç´  img.onload = function() { ctx.drawImage(img, 0, 0) } img.src = &#39;myImage.png&#39; //è®¾ç½®å›¾ç‰‡cåœ°å€ 7.2 ç»˜åˆ¶imgæ ‡ç­¾å…ƒç´ ä¸­çš„å›¾ç‰‡imgå¯ä»¥newï¼Œä¹Ÿå¯ä»¥æ¥æºäºæˆ‘ä»¬é¡µé¢ä¸­çš„æ ‡ç­¾ã€‚ &lt;img src=&quot;./ç¾å¥³.jpg&quot; alt=&quot;&quot; width=&quot;300&quot;&gt;&lt;br&gt; &lt;canvas id=&quot;tutorial&quot; width=&quot;600&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt; function draw() { var canvas = document.getElementById(&#39;tutorial) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) var img = document.querySelector(&#39;img&#39;) ctx.drawImg(img,0,0) } document.querySelector(&#39;img&#39;).onclick = function() { draw() } ç¬¬ä¸€å¼ å›¾ç‰‡å°±æ˜¯é¡µé¢ä¸­çš„ &lt;img&gt; æ ‡ç­¾ï¼š 7.3 ç¼©æ”¾å›¾ç‰‡drawImage()å¯ä»¥å†æ·»åŠ ä¸¤ä¸ªå‚æ•°ï¼š drawImage(image,x,y,width,height) è¿™ä¸ªæ–¹æ³•å¤šäº†ä¸¤ä¸ªå‚æ•°ï¼šwidthå’Œheightï¼Œè¿™ä¸¤ä¸ªå‚æ•°ç”¨æ¥æ§åˆ¶ å½“åƒcanvasç”»å…¥æ—¶åº”è¯¥ç¼©æ”¾çš„å¤§å°ã€‚ ctx.drawImage(img,0,0,400,200) ##7.4 åˆ‡ç‰‡(slice) drawImage(image,sx,sy,sWidth,sHeight,dx,dy,dWidth,dHeight) ç¬¬ä¸€ä¸ªå‚æ•°å’Œå…¶ä»–çš„æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯ä¸€ä¸ªå›¾åƒæˆ–è€…å¦ä¸€ä¸ªcanvasçš„å¼•ç”¨ã€‚ å…¶ä»–8ä¸ªå‚æ•°ï¼šå‰4ä¸ªäº‹å®šä¹‰å›¾åƒæºçš„åˆ‡ç‰‡ä½ç½®å’Œå¤§å°ï¼Œåå››ä¸ªåˆ™æ˜¯å®šä¹‰åˆ‡ç‰‡çš„ç›®æ ‡æ˜¾ç¤ºä½ç½®å’Œå¤§å°ã€‚ å…«ã€çŠ¶æ€çš„ä¿å­˜å’Œæ¢å¤Saving and restoring stateæ˜¯ç»˜åˆ¶å¤æ‚å›¾å½¢æ—¶å¿…ä¸å¯å°‘çš„æ“ä½œã€‚ save()å’Œrestore() saveå’Œrestoreæ–¹æ³•æ˜¯ç”¨æ¥ä¿å­˜å’Œæ¢å¤canvasçŠ¶æ€çš„ï¼Œéƒ½æ²¡æœ‰å‚æ•°ã€‚ Canvasçš„çŠ¶æ€å°±æ˜¯å½“å‰ç”»é¢åº”ç”¨çš„æ‰€æœ‰æ ·å¼å’Œå˜å½¢çš„ä¸€ä¸ªå¿«ç…§ã€‚ 8.1 å…³äºsave() CanvasçŠ¶æ€å­˜å‚¨åœ¨æ ˆä¸­ï¼Œæ¯å½“save()æ–¹æ³•è¢«è°ƒç”¨åï¼Œå½“å‰çš„çŠ¶æ€å°±è¢«æ¨é€åˆ°æ ˆä¸­ä¿å­˜ã€‚ ä¸€ä¸ªç»˜ç”»çŠ¶æ€åŒ…æ‹¬: å½“å‰åº”ç”¨çš„å˜å½¢ï¼ˆå³ç§»åŠ¨ï¼Œæ—‹è½¬å’Œç¼©æ”¾ï¼‰ strokeStyle,fillStyle,globalAlpha,lineWidth,lineCap,lineJoin,miterLimit,shadowOffsetX,shadowOffsetY,shadowBlur,shadowColor,globalCompositeOperationçš„å€¼ å½“å‰çš„è£åˆ‡è·¯å¾„ï¼ˆclipping path) å¯ä»¥è°ƒç”¨ä»»æ„å¤šæ¬¡saveæ–¹æ³•ï¼ˆç±»ä¼¼æ•°ç»„çš„push()ï¼‰ 8.2å…³äºresotre() æ¯ä¸€æ¬¡è°ƒç”¨restoreæ–¹æ³•ï¼Œä¸Šä¸€ä¸ªä¿å­˜çš„çŠ¶æ€å°±ä»æ ˆä¸­å¼¹å‡ºï¼Œæ‰€æœ‰è®¾å®šéƒ½æ¢å¤ï¼ˆç±»ä¼¼æ•°ç»„pop()ï¼‰ var ctx; function draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.fillRect(0,0,150,150) //ä½¿ç”¨é»˜è®¤è®¾ç½®ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ ctx.save() //ä¿å­˜é»˜è®¤çŠ¶æ€ ctx.fillStyle = &#39;red&#39; //åœ¨åŸæœ‰é…ç½®åŸºç¡€ä¸Šå¯¹é¢œè‰²åšæ”¹å˜ ctx.fillRect(15,15,120,120) //ä½¿ç”¨å¿ƒå¾—è®¾ç½®ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ ctx.save() //ä¿å­˜å½“å‰çŠ¶æ€ ctx.fillStyle = &#39;#FFF&#39; //å†æ¬¡æ”¹å˜é¢œè‰²çŠ¶æ€ ctx.fillRect(30,30,90,90) //ä½¿ç”¨å¿ƒå¾—é…ç½®ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ ctx.restore() //é‡æ–°åŠ è½½ä¹‹å‰çš„é¢œè‰²çŠ¶æ€ ctx.fillRect(45,45,60,60) //ä½¿ç”¨ä¸Šä¸€æ¬¡çš„é…ç½®ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ ctx.restore() //åŠ è½½é»˜è®¤é¢œè‰²é…ç½® ctx.fillRect(60,60,30,30) //ä½¿ç”¨åŠ è½½çš„é…ç½®ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ } draw() ä¹ã€å˜å½¢9.1translatetranslate(x,y) ç”¨æ¥ç§»åŠ¨canvasçš„åŸç‚¹åˆ°æŒ‡å®šçš„ä½ç½® translateæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ã€‚xæ˜¯å·¦å³åç§»é‡ï¼Œyæ˜¯ä¸Šä¸‹åç§»é‡ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚ åœ¨åšå˜å½¢ä¹‹å‰å…ˆä¿å­˜çŠ¶æ€æ˜¯ä¸€ä¸ªè‰¯å¥½çš„ä¹ æƒ¯ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè°ƒç”¨restoreæ–¹æ³•æ¯”æ‰‹åŠ¨æ¢å¤åŸå½¢çš„çŠ¶æ€è¦ç®€å•å¾—å¤šã€‚åˆå¦‚æœä½ æ˜¯åœ¨ä¸€ä¸ªå¾ªç¯ä¸­åšä½ç§»ä½†æ²¡æœ‰ä¿å­˜å’Œæ¢å¤canvasçš„çŠ¶æ€ï¼Œå¾ˆå¯èƒ½åˆ°æœ€åä¼šå‘ç°æ€ä¹ˆæœ‰äº›ä¸œè¥¿ä¸è§äº†ï¼Œé‚£æ˜¯å› ä¸ºå®ƒå¾ˆå¯èƒ½å·²ç»è¶…å‡ºcanvasèŒƒå›´ä»¥å¤–äº†ã€‚æ³¨æ„ï¼štranslateç§»åŠ¨çš„æ˜¯canvasçš„åæ ‡åŸç‚¹(åæ ‡å˜æ¢)ã€‚ var ctx; function draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.save() //ä¿å­˜åæ ‡åŸç‚¹å¹³ç§»ä¹‹å‰çš„çŠ¶æ€ ctx.translate(100,100) ctx.strokeRect(0,0,100,100) ctx.restore() ctx.translate(220,200) ctx.fillRect(0,0,100,100) } draw() 9.2 rotaterotate(angle) æ—‹è½¬åæ ‡è½´ã€‚ è¿™ä¸ªæ–¹æ³•åªæ¥å—ä¸€ä¸ªå‚æ•°ï¼šæ—‹è½¬çš„è§’åº¦ï¼ˆangleï¼‰ï¼Œå®ƒæ˜¯é¡ºæ—¶é’ˆæ–¹å‘çš„ï¼Œä»¥å¼§åº¦ä¸ºå•ä½çš„å€¼ã€‚æ—‹è½¬çš„ä¸­å¿ƒæ˜¯åæ ‡åŸç‚¹ã€‚ function draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvs.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.fillStyle = &#39;red&#39; ctx.save() ctx.translate(100,100) ctx.rotate(Math.PI/180*45) ctx.fillStyle = &#39;blue&#39; ctx.fillRect(0,0,100,100) ctx.restore() ctx.save() ctx.translate(0,0) ctx.fillRect(0,0,50,50) ctx.restore() } draw() 9.3 scalescale(x,y) æˆ‘ä»¬ç”¨å®ƒæ¥å¢å‡å›¾å½¢åœ¨canvasä¸­çš„åƒç´ æ•°ç›®ï¼Œå¯¹å½¢çŠ¶ã€ä½å›¾è¿›è¡Œç¼©å°æˆ–è€…æ”¾å¤§ã€‚ scaleæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚x,yåˆ†åˆ«æ˜¯æ¨ªè½´å’Œçºµè½´çš„ç¼©æ”¾å› å­ï¼Œå®ƒä»¬éƒ½å¿…é¡»æ˜¯æ­£å€¼ã€‚å€¼æ¯”1.0å°è¡¨ç¤ºç¼©å°ï¼Œæ¯”1.0å¤§è¡¨ç¤ºæ”¾å¤§ï¼Œå€¼ä¸º1.0æ—¶ä»€ä¹ˆæ•ˆæœéƒ½æ²¡æœ‰ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œcanvasçš„1å•ä½å°±æ˜¯1ä¸ªåƒç´ ã€‚ä¸¾ä¾‹è¯´ï¼Œå¦‚æœæˆ‘ä»¬è®¾ç½®ç¼©æ”¾å› å­æ˜¯0.5ï¼Œ1ä¸ªå•ä½å°±å˜æˆå¯¹åº”0.5ä¸ªåƒç´ ï¼Œè¿™æ ·ç»˜åˆ¶å‡ºæ¥çš„å½¢çŠ¶å°±ä¼šæ˜¯åŸå…ˆçš„ä¸€åŠã€‚åŒç†ï¼Œè®¾ç½®ä¸º2.0æ—¶ï¼Œ1ä¸ªå•ä½å°±å¯¹åº”å˜æˆäº†2åƒç´ ï¼Œç»˜åˆ¶çš„ç»“æœå°±æ˜¯å›¾å½¢æ”¾å¤§äº†2å€ã€‚ 9.4 transform(å˜å½¢çŸ©é˜µ)transform(a,b,c,d,e,f) a (m11): Horizontal scaling. b (m12): Horizontal skewing. c (m21): Vertical skewing. d (m22): Vertical scaling. e (dx): Horizontal moving. f (dy): Vertical moving. function draw() { var canvas = document.getElementById(&#39;tutorial&#39;) if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.transform(1,1,0,1,0,0) ctx.fillRect(0,0,100,100) } draw() åã€åˆæˆåœ¨å‰é¢çš„æ‰€æœ‰ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯å°†ä¸€ä¸ªå›¾å½¢ç”»åœ¨å¦ä¸€ä¸ªä¹‹ä¸Šï¼Œå¯¹äºå…¶ä»–æ›´å¤šçš„æƒ…å†µï¼Œä»…ä»…è¿™æ ·æ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚æ¯”å¦‚ï¼Œå¯¹åˆæˆçš„å›¾å½¢æ¥è¯´ï¼Œç»˜åˆ¶é¡ºåºä¼šæœ‰é™åˆ¶ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨globalCompositeOperationå±æ€§æ¥æ”¹å˜è¿™ç§æƒ…å†µã€‚ globalCompositeOperation = type var ctx; function draw() { var canvas = document.getElementById(&#39;tutorial&#39;); if(!canvas.getContext) return var ctx = canvas.getContext(&#39;2d&#39;) ctx.fillStyle = &#39;blue&#39; ctx.fillRect(0,0,200,200) ctx.globalCompositeOperation = &#39;source-over&#39; //å…¨å±€åˆæˆæ“ä½œ ctx.fillStyle = &#39;red&#39; ctx.fillRect(100,100,200,200) } æ³¨ï¼šä¸‹é¢çš„å±•ç¤ºä¸­ï¼Œè“è‰²æ˜¯åŸæœ‰çš„ï¼Œçº¢è‰²æ˜¯æ–°çš„ã€‚ typeæ˜¯ä¸‹é¢13ä¸­å­—ç¬¦ä¸²å€¼ä¹‹ä¸€: è¿™æ˜¯é»˜è®¤è®¾ç½®ï¼Œæ–°å›¾åƒä¼šè¦†ç›–åœ¨åŸæœ‰å›¾åƒã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"æ–°é²œç©æ„","slug":"amazing","date":"2021-08-13T00:36:56.751Z","updated":"2021-08-13T01:25:34.880Z","comments":true,"path":"2021/08/13/amazing/","link":"","permalink":"/2021/08/13/amazing/","excerpt":"","text":"é¡µé¢æµ®åŠ¨å¤šè¾¹å½¢è·Ÿéšé¼ æ ‡ç§»åŠ¨ //é¼ æ ‡ç»˜åˆ¶å¤šè¾¹å½¢ !(function() { //å°è£…æ–¹æ³•ï¼Œå‹ç¼©ä¹‹åå‡å°‘æ–‡ä»¶å¤§å° function get_attribute(node, attr, default_value) { return node.getAttribute(attr) || default_value } //å°è£…æ–¹æ³•ï¼Œå‹ç¼©ä¹‹åå‡å°‘æ–‡ä»¶å¤§å° function get_by_tagname(name) { return document.getElementsByTagName(name) } //è·å–é…ç½®å‚æ•° function get_config_option() { var scripts = get_by_tagname(&quot;script&quot;), script_len = scripts.length, script = scripts[script_len - 1] //å½“å‰åŠ è½½çš„script return { l: script_len, //é•¿åº¦ï¼Œç”¨äºç”Ÿæˆidç”¨ z: get_attribute(script, &quot;zIndex&quot;, -1), //z-index o: get_attribute(script, &quot;opacity&quot;, 0.5), //opacity c: get_attribute(script, &quot;color&quot;, &quot;0,0,0&quot;), //color n: get_attribute(script, &quot;count&quot;, 99), //count } } //è®¾ç½®canvasçš„é«˜å®½ function set_canvas_size() { ;(canvas_width = the_canvas.width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth), (canvas_height = the_canvas.height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight) } //ç»˜åˆ¶è¿‡ç¨‹ function draw_canvas() { context.clearRect(0, 0, canvas_width, canvas_height) //éšæœºçš„çº¿æ¡å’Œå½“å‰ä½ç½®è”åˆæ•°ç»„ var e, i, d, x_dist, y_dist, dist //ä¸´æ—¶èŠ‚ç‚¹ //éå†å¤„ç†æ¯ä¸€ä¸ªç‚¹ random_points.forEach(function(r, idx) { ;(r.x += r.xa), (r.y += r.ya), //ç§»åŠ¨ (r.xa *= r.x &gt; canvas_width || r.x &lt; 0 ? -1 : 1), (r.ya *= r.y &gt; canvas_height || r.y &lt; 0 ? -1 : 1), //ç¢°åˆ°è¾¹ç•Œï¼Œåå‘åå¼¹ context.fillRect(r.x - 0.5, r.y - 0.5, 1, 1) //ç»˜åˆ¶ä¸€ä¸ªå®½é«˜ä¸º1çš„ç‚¹ //ä»ä¸‹ä¸€ä¸ªç‚¹å¼€å§‹ for (i = idx + 1; i &lt; all_array.length; i++) { e = all_array[i] // å½“å‰ç‚¹å­˜åœ¨ if (null !== e.x &amp;&amp; null !== e.y) { x_dist = r.x - e.x //xè½´è·ç¦» l y_dist = r.y - e.y //yè½´è·ç¦» n dist = x_dist * x_dist + y_dist * y_dist //æ€»è·ç¦», m dist &lt; e.max &amp;&amp; (e === current_point &amp;&amp; dist &gt;= e.max / 2 &amp;&amp; ((r.x -= 0.03 * x_dist), (r.y -= 0.03 * y_dist)), //é è¿‘çš„æ—¶å€™åŠ é€Ÿ (d = (e.max - dist) / e.max), context.beginPath(), (context.lineWidth = d / 2), (context.strokeStyle = &quot;rgba(&quot; + config.c + &quot;,&quot; + (d + 0.2) + &quot;)&quot;), context.moveTo(r.x, r.y), context.lineTo(e.x, e.y), context.stroke()) } } }), frame_func(draw_canvas) } //åˆ›å»ºç”»å¸ƒï¼Œå¹¶æ·»åŠ åˆ°bodyä¸­ var the_canvas = document.createElement(&quot;canvas&quot;), //ç”»å¸ƒ config = get_config_option(), //é…ç½® canvas_id = &quot;c_n&quot; + config.l, //canvas id context = the_canvas.getContext(&quot;2d&quot;), canvas_width, canvas_height, frame_func = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(func) { window.setTimeout(func, 1000 / 45) }, random = Math.random, current_point = { x: null, //å½“å‰é¼ æ ‡x y: null, //å½“å‰é¼ æ ‡y max: 20000, // åœˆåŠå¾„çš„å¹³æ–¹ }, all_array the_canvas.id = canvas_id the_canvas.style.cssText = &quot;position:fixed;top:0;left:0;z-index:&quot; + config.z + &quot;;opacity:&quot; + config.o get_by_tagname(&quot;body&quot;)[0].appendChild(the_canvas) //åˆå§‹åŒ–ç”»å¸ƒå¤§å° set_canvas_size() window.onresize = set_canvas_size //å½“æ—¶é¼ æ ‡ä½ç½®å­˜å‚¨ï¼Œç¦»å¼€çš„æ—¶å€™ï¼Œé‡Šæ”¾å½“å‰ä½ç½®ä¿¡æ¯ ;(window.onmousemove = function(e) { e = e || window.event current_point.x = e.clientX current_point.y = e.clientY }), (window.onmouseout = function() { current_point.x = null current_point.y = null }) //éšæœºç”Ÿæˆconfig.næ¡çº¿ä½ç½®ä¿¡æ¯ for (var random_points = [], i = 0; config.n &gt; i; i++) { var x = random() * canvas_width, //éšæœºä½ç½® y = random() * canvas_height, xa = 2 * random() - 1, //éšæœºè¿åŠ¨æ–¹å‘ ya = 2 * random() - 1 // éšæœºç‚¹ random_points.push({ x: x, y: y, xa: xa, ya: ya, max: 6000, //æ²¾é™„è·ç¦» }) } all_array = random_points.concat([current_point]) //0.1ç§’åç»˜åˆ¶ setTimeout(function() { draw_canvas() }, 100) })() æ¯æ—¥ä¸€è¨€åŠŸèƒ½ &lt;body&gt; &lt;strong&gt;&lt;p id=&quot;hitokoto&quot;&gt;æ¯æ—¥ä¸€è¨€è·å–ä¸­...&lt;/p&gt;&lt;/strong&gt; &lt;script&gt; //æ¯æ—¥ä¸€è¨€ $(function() { var xhr = new XMLHttpRequest() xhr.open(&quot;get&quot;, &quot;https://v1.hitokoto.cn&quot;) xhr.onreadystatechange = function() { if (xhr.readyState === 4) { var data = JSON.parse(xhr.responseText) var hitokoto = document.getElementById(&quot;hitokoto&quot;) hitokoto.innerText = data.hitokoto } } xhr.send() }) &lt;/script&gt; &lt;/body&gt; é¼ æ ‡ç‚¹å‡»å‡ºç°çˆ±å¿ƒç‰¹æ•ˆ //é¼ æ ‡ç‚¹å‡»çˆ±å¿ƒ !(function(e, t, a) { function r() { for (var e = 0; e &lt; s.length; e++) s[e].alpha &lt;= 0 ? (t.body.removeChild(s[e].el), s.splice(e, 1)) : (s[e].y--, (s[e].scale += 0.004), (s[e].alpha -= 0.013), (s[e].el.style.cssText = &quot;left:&quot; + s[e].x + &quot;px;top:&quot; + s[e].y + &quot;px;opacity:&quot; + s[e].alpha + &quot;;transform:scale(&quot; + s[e].scale + &quot;,&quot; + s[e].scale + &quot;) rotate(45deg);background:&quot; + s[e].color + &quot;;z-index:99999&quot;)) requestAnimationFrame(r) } function n() { var t = &quot;function&quot; == typeof e.onclick &amp;&amp; e.onclick e.onclick = function(e) { t &amp;&amp; t(), o(e) } } function o(e) { var a = t.createElement(&quot;div&quot;) ;(a.className = &quot;heart&quot;), s.push({ el: a, x: e.clientX - 5, y: e.clientY - 5, scale: 1, alpha: 1, color: c(), }), t.body.appendChild(a) } function i(e) { var a = t.createElement(&quot;style&quot;) a.type = &quot;text/css&quot; try { a.appendChild(t.createTextNode(e)) } catch (t) { a.styleSheet.cssText = e } t.getElementsByTagName(&quot;head&quot;)[0].appendChild(a) } function c() { return ( &quot;rgb(&quot; + ~~(255 * Math.random()) + &quot;,&quot; + ~~(255 * Math.random()) + &quot;,&quot; + ~~(255 * Math.random()) + &quot;)&quot; ) } var s = [] ;(e.requestAnimationFrame = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function(e) { setTimeout(e, 1e3 / 60) }), i( &quot;.heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: &#39;&#39;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}&quot; ), n(), r() })(window, document) &lt;script&gt; //å®šä¹‰è·å–è¯è¯­ä¸‹æ ‡ var a_idx = 0; jQuery(document).ready(function($) { //ç‚¹å‡»bodyæ—¶è§¦å‘äº‹ä»¶ $(&quot;body&quot;).click(function(e) { //éœ€è¦æ˜¾ç¤ºçš„è¯è¯­ var a = new Array(&quot;å¯Œå¼º&quot;,&quot;æ°‘ä¸»&quot;, &quot;æ–‡æ˜&quot;, &quot;å’Œè°&quot;,&quot;è‡ªç”±&quot;, &quot;å¹³ç­‰&quot;, &quot;å…¬æ­£&quot;,&quot;æ³•æ²»&quot;, &quot;çˆ±å›½&quot;, &quot;æ•¬ä¸š&quot;,&quot;è¯šä¿¡&quot;, &quot;å‹å–„&quot;); //è®¾ç½®è¯è¯­ç»™spanæ ‡ç­¾ var $i = $(&quot;&lt;span/&gt;&quot;).text(a[a_idx]); //ä¸‹æ ‡ç­‰äºåŸæ¥ä¸‹æ ‡+1 ä½™ è¯è¯­æ€»æ•° a_idx = (a_idx + 1)% a.length; //è·å–é¼ æ ‡æŒ‡é’ˆçš„ä½ç½®ï¼Œåˆ†åˆ«ç›¸å¯¹äºæ–‡æ¡£çš„å·¦å’Œå³è¾¹ç¼˜ã€‚ //è·å–xå’Œyçš„æŒ‡é’ˆåæ ‡ var x = e.pageX, y = e.pageY; //åœ¨é¼ æ ‡çš„æŒ‡é’ˆçš„ä½ç½®ç»™$iå®šä¹‰çš„spanæ ‡ç­¾æ·»åŠ cssæ ·å¼ $i.css({&quot;z-index&quot; : 999999, &quot;top&quot; : y - 20, &quot;left&quot; : x, &quot;position&quot; : &quot;absolute&quot;, &quot;font-weight&quot; : &quot;bold&quot;, &quot;color&quot; : &quot;#ff6651&quot; }); //åœ¨bodyæ·»åŠ è¿™ä¸ªæ ‡ç­¾ $(&quot;body&quot;).append($i); //animate() æ–¹æ³•æ‰§è¡Œ CSS å±æ€§é›†çš„è‡ªå®šä¹‰åŠ¨ç”»ã€‚ //è¯¥æ–¹æ³•é€šè¿‡CSSæ ·å¼å°†å…ƒç´ ä»ä¸€ä¸ªçŠ¶æ€æ”¹å˜ä¸ºå¦ä¸€ä¸ªçŠ¶æ€ã€‚CSSå±æ€§å€¼æ˜¯é€æ¸æ”¹å˜çš„ï¼Œè¿™æ ·å°±å¯ä»¥åˆ›å»ºåŠ¨ç”»æ•ˆæœã€‚ //è¯¦æƒ…è¯·çœ‹http://www.w3school.com.cn/jquery/effect_animate.asp $i.animate({ //å°†åŸæ¥çš„ä½ç½®å‘ä¸Šç§»åŠ¨180 &quot;top&quot; : y - 180, &quot;opacity&quot; : 0 //1500åŠ¨ç”»çš„é€Ÿåº¦ }, 1500, function() { //æ—¶é—´åˆ°äº†è‡ªåŠ¨åˆ é™¤ $i.remove(); }); }); }); &lt;/script&gt; macOS Dock æ•ˆæœ &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; html { font-size: 15px; } body { margin: 0; padding: 0; display: flex; width: 100%; min-height: 100vh; overflow: hidden; align-items: flex-end; background-image: linear-gradient( 109.6deg, rgba(25, 170, 209, 1) 11.3%, rgba(21, 65, 249, 1) 69.9% ); } .glass { width: 100%; height: 8rem; background: rgba(255, 255, 255, 0.25); box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); border: 1px solid rgba(255, 255, 255, 0.18); display: flex; justify-content: center; } .dock { --scale: 1; list-style: none; margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; } .dock li { font-size: calc(6rem * var(--scale)); padding: 0 0.5rem; cursor: default; position: relative; top: calc((6rem * var(--scale) - 6rem) / 2 * -1); transition: 15ms all ease-out; } .dock li.loading { animation: 1s loading ease-in infinite; } @keyframes loading { 0%, 100% { transform: translateY(0px); } 60% { transform: translateY(-40px); } } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;glass&quot;&gt; &lt;ul class=&quot;dock&quot;&gt; &lt;li&gt;ğŸ˜ƒ&lt;/li&gt; &lt;li&gt;ğŸ˜Š&lt;/li&gt; &lt;li&gt;ğŸ˜œ&lt;/li&gt; &lt;li&gt;ğŸ˜&lt;/li&gt; &lt;li&gt;ğŸ¤©&lt;/li&gt; &lt;li&gt;ğŸ¥³&lt;/li&gt; &lt;li&gt;ğŸ¥¶&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;script&gt; document.querySelectorAll(&quot;.dock li&quot;).forEach((li) =&gt; { li.addEventListener(&quot;click&quot;, (e) =&gt; { e.currentTarget.classList.add(&quot;loading&quot;) }) li.addEventListener(&quot;mousemove&quot;, (e) =&gt; { let item = e.target let itemRect = item.getBoundingClientRect() let offset = Math.abs(e.clientX - itemRect.left) / itemRect.width let prev = item.previousElementSibling || null let next = item.nextElementSibling || null let scale = 0.6 resetScale() if (prev) { prev.style.setProperty(&quot;--scale&quot;, 1 + scale * Math.abs(offset - 1)) } item.style.setProperty(&quot;--scale&quot;, 1 + scale) if (next) { next.style.setProperty(&quot;--scale&quot;, 1 + scale * offset) } }) }) document.querySelector(&quot;.dock&quot;).addEventListener(&quot;mouseleave&quot;, (e) =&gt; { resetScale() }) function resetScale() { document.querySelectorAll(&quot;.dock li&quot;).forEach((li) =&gt; { li.style.setProperty(&quot;--scale&quot;, 1) }) } &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; canvas å®ç°æ°´å°var watermark = {} function setWatermark(args) { //å£°æ˜ä¸€ä¸ªæ€ªå¼‚ä¸€ç‚¹çš„å˜é‡ï¼Œç¡®ä¿idçš„å”¯ä¸€æ€§ var id = &quot;111.222.333.456&quot; var xIndex = 15 //ç»˜åˆ¶æ–‡æœ¬çš„ x åæ ‡ä½ç½® var yIndex = 65 //ç»˜åˆ¶æ–‡æœ¬çš„ y åæ ‡ä½ç½® var xInterval = 25 //æœ‰å¤šä¸ªå‚æ•°æ—¶çš„è¡Œé—´é—´éš” if (document.getElementById(id) !== null) { document.body.removeChild(document.getElementById(id)) } //åˆ©ç”¨canvasç»˜åˆ¶æ°´å°ä¿¡æ¯ var can = document.createElement(&quot;canvas&quot;) can.width = 250 can.height = 150 var cans = can.getContext(&quot;2d&quot;) cans.rotate((-20 * Math.PI) / 180) cans.font = &quot;17px Vedana&quot; // ziti yanse cans.fillStyle = &quot;rgba(200, 200, 200, 0.30)&quot; cans.textAlign = &quot;left&quot; cans.textBaseline = &quot;Middle&quot; for (let i = 0; i &lt; args.length; i++) { cans.fillText(args[i], xIndex, yIndex) //ç»˜åˆ¶æ°´å°æ–‡æ¡ˆ yIndex += xInterval //è®¾ç½®æ¯è¡Œé—´éš” } //åˆ›å»ºdivç”¨äºæ˜¾ç¤º var div = document.createElement(&quot;div&quot;) div.id = id div.style.pointerEvents = &quot;none&quot; div.style.top = &quot;70px&quot; div.style.left = &quot;90px&quot; div.style.position = &quot;fixed&quot; div.style.zIndex = &quot;100000&quot; div.style.width = document.documentElement.clientWidth - 50 + &quot;px&quot; div.style.height = document.documentElement.clientHeight - 50 + &quot;px&quot; //divæ‰¿è½½æ°´å°æ˜¾ç¤º div.style.background = &quot;url(&quot; + can.toDataURL(&quot;image/png&quot;) + &quot;) left top repeat&quot; document.body.appendChild(div) return id } watermark.set = function() { let args = Array.prototype.slice.apply(arguments) let id = setWatermark(args) // æ£€æµ‹å¦‚æœæ°´å°è¢«å»æ‰äº†ï¼Œè‡ªåŠ¨ç»™åŠ ä¸Š setInterval(function() { if (document.getElementById(id) === null) { id = setWatermark(args) } }, 500) //åœ¨çª—å£å¤§å°æ”¹å˜ä¹‹å,è‡ªåŠ¨è§¦å‘åŠ æ°´å°äº‹ä»¶ window.onresize = function() { setWatermark(args) } } window.watermark = watermark watermark.set(&quot;ç»å¯†æ¡£æ¡ˆ&quot;, &quot;ä¸¥ç¦å¤–æ³„&quot;) canvaså®ç°éªŒè¯ç &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;canvas id=&quot;canvas&quot; width=&quot;120&quot; height=&quot;40&quot;&gt;&lt;/canvas&gt; &lt;a href=&quot;#&quot; id=&quot;changeImg&quot;&gt;çœ‹ä¸æ¸…ï¼Œæ¢ä¸€å¼ &lt;/a&gt; &lt;input type=&quot;text&quot; id=&quot;text&quot;&gt; &lt;script&gt; // éšæœºæ•° function randomNum(min, max) { return Math.floor(Math.random() * (max - min) + min); } /**ç”Ÿæˆä¸€ä¸ªéšæœºè‰²**/ function randomColor(min, max) { var r = randomNum(min, max); var g = randomNum(min, max); var b = randomNum(min, max); return &quot;rgb(&quot; + r + &quot;,&quot; + g + &quot;,&quot; + b + &quot;)&quot;; } drawPic(); document.getElementById(&quot;changeImg&quot;).onclick = function (e) { e.preventDefault(); drawPic(); } var Vcode = &#39;&#39; /**ç»˜åˆ¶éªŒè¯ç å›¾ç‰‡**/ function drawPic() { var canvas = document.getElementById(&quot;canvas&quot;); var width = canvas.width; var height = canvas.height; var ctx = canvas.getContext(&#39;2d&#39;); ctx.textBaseline = &#39;bottom&#39;; /**ç»˜åˆ¶èƒŒæ™¯è‰²**/ ctx.fillStyle = randomColor(180, 240); //é¢œè‰²è‹¥å¤ªæ·±å¯èƒ½å¯¼è‡´çœ‹ä¸æ¸… ctx.fillRect(0, 0, width, height); /**ç»˜åˆ¶æ–‡å­—**/ var str = &#39;ABCEFGHJKLMNPQRSTWXY123456789&#39;; vCode = &#39;&#39; for (var i = 0; i &lt; 4; i++) { var txt = str[randomNum(0, str.length)]; // æ¯æ¬¡éšæœºç”Ÿæˆçš„æ•° vCode += txt ctx.fillStyle = randomColor(50, 160); //éšæœºç”Ÿæˆå­—ä½“é¢œè‰² ctx.font = randomNum(15, 40) + &#39;px SimHei&#39;; //éšæœºç”Ÿæˆå­—ä½“å¤§å° var x = 10 + i * 25; var y = randomNum(25, 45); var deg = randomNum(-45, 45); //ä¿®æ”¹åæ ‡åŸç‚¹å’Œæ—‹è½¬è§’åº¦ ctx.translate(x, y); ctx.rotate(deg * Math.PI / 180); ctx.fillText(txt, 0, 0); //æ¢å¤åæ ‡åŸç‚¹å’Œæ—‹è½¬è§’åº¦ ctx.rotate(-deg * Math.PI / 180); ctx.translate(-x, -y); } /* *ç»˜åˆ¶å¹²æ‰°çº¿* */ for (var i = 0; i &lt; 4; i++) { ctx.strokeStyle = randomColor(40, 180); ctx.beginPath(); ctx.moveTo(randomNum(0, width), randomNum(0, height)); ctx.lineTo(randomNum(0, width), randomNum(0, height)); ctx.stroke(); } /**ç»˜åˆ¶å¹²æ‰°ç‚¹**/ for (var i = 0; i &lt; 20; i++) { ctx.fillStyle = randomColor(0, 255); ctx.beginPath(); ctx.arc(randomNum(0, width), randomNum(0, height), 1, 0, 2 * Math.PI); ctx.fill(); } console.log(&quot;éšæœºç”Ÿæˆçš„éªŒè¯ç æ˜¯:::&quot;, vCode); } let text = document.getElementById(&#39;text&#39;) text.onblur = function(e) { console.log(text.value,&#39;value&#39;) if(text.value == vCode) { } else { alert(&#39;è¯·è¾“å…¥æ­£ç¡®çš„éªŒè¯ç &#39;) } } &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; çº¯csså®ç°éœ“è™¹ç¯æ•ˆæœ&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; .light { position: relative; padding: 25px 30px; color: #03e9f4; font-size: 24px; text-transform: uppercase; transition: 0.5s; letter-spacing: 4px; cursor: pointer; overflow: hidden; width: 200px; height: 100px; } .light:hover { background-color: #03e9f4; color: #050801; box-shadow: 0 0 5px #03e9f4, 0 0 25px #03e9f4, 0 0 50px #03e9f4, 0 0 200px #03e9f4; } .light div { position: absolute; } .light div:nth-child(1){ width: 100%; height: 2px; top: 0; left: -100%; background: linear-gradient(to right,transparent,#03e9f4); animation: animate1 2s linear infinite; } .light div:nth-child(2){ width: 2px; height: 100%; top: -100%; right: 0; background: linear-gradient(to bottom,transparent,#03e9f4); animation: animate2 2s linear infinite; animation-delay: 0.5s; } .light div:nth-child(3){ width: 100%; height: 2px; bottom: 0; right: -100%; background: linear-gradient(to left,transparent,#03e9f4); animation: animate3 2s linear infinite; animation-delay: 1s; } .light div:nth-child(4){ width: 2px; height: 100%; bottom: -100%; left: 0; background: linear-gradient(to top,transparent,#03e9f4); animation: animate4 2s linear infinite; animation-delay: 1.5s; } @keyframes animate1 { 0% { left: -100%; } 50%,100% { left: 100%; } } @keyframes animate2 { 0% { top: -100%; } 50%,100% { top: 100%; } } @keyframes animate3 { 0% { right: -100%; } 50%,100% { right: 100%; } } @keyframes animate4 { 0% { bottom: -100%; } 50%,100% { bottom: 100%; } } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;light&quot;&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; Neon Button &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; canvaså®ç°åˆ®åˆ®ä¹&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot; /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;img src=&quot;./ç”·1.jpg&quot; width=&quot;400&quot; id=&quot;img&quot; alt=&quot;&quot; /&gt; &lt;input type=&quot;text&quot; name=&quot;&quot; id=&quot;txt&quot; /&gt; &lt;!-- &lt;canvas&gt;&lt;/canvas&gt; --&gt; &lt;script&gt; const oImg = document.getElementById(&quot;img&quot;) const txt = document.getElementById(&quot;txt&quot;) //oImg.readyState å›¾ç‰‡åŠ è½½çŠ¶æ€ if (oImg.readyState === &quot;complete&quot;) { draw() //trueè¡¨ç¤ºå·²ç»åŠ è½½å®Œæˆ æ‰§è¡Œdraw()æ–¹æ³• } else { //å›¾ç‰‡åŠ è½½å®Œæˆæ‰§è¡Œdrawæ–¹æ³• oImg.onload = draw } function draw() { //ç­‰å›¾ç‰‡åŠ è½½å®Œæˆåå†æ·»åŠ canvasç”»å¸ƒåœ¨ä¸Šé¢ let can = document.createElement(&quot;canvas&quot;) //åˆ›å»ºä¸€ä¸ªcanvasç”»å¸ƒ can.width = oImg.width //ç­‰äºå›¾ç‰‡çš„å®½é«˜ can.height = oImg.height can.style.position = &quot;absolute&quot; //canvasç”»å¸ƒè®¾ç½®æµ®åŠ¨ä¼šæ¼‚æµ®åœ¨å›¾ç‰‡ä¸Š can.style.left = oImg.offsetLeft + &quot;px&quot; //ä¿å­˜ä¸ç”»å¸ƒä½ç½®ä¸€è‡´ can.style.top = oImg.offsetTop + &quot;px&quot; //æ‰¾åˆ°å›¾ç‰‡çš„çˆ¶çº§ï¼šparentNode åœ¨oImgå­å…ƒç´ å‰é¢æ·»åŠ canvasæ ‡ç­¾ï¼šinsertBefore oImg.parentNode.insertBefore(can, oImg) //åœ¨imgå‰é¢å»æ’å…¥canvasæ ‡ç­¾ let ctx = can.getContext(&quot;2d&quot;) ctx.fillStyle = &quot;#bbb&quot; //åˆ®åˆ®ä¹çš„é¢œè‰² ctx.fillRect(0, 0, oImg.width, oImg.height) //å¡«å……å®½åº¦ //åˆæˆ:å¤„ç†åˆæˆå›¾ç‰‡çš„é€æ˜æ ·å¼ï¼› //æ‹–æ‹½çš„æ—¶å€™ï¼Œcanvaså›¾å±‚æ˜¾ç¤ºé€æ˜ï¼›destination-outï¼šæ–°å›¾å½¢ä¸åŸå›¾å½¢é‡å éƒ¨åˆ†é€æ˜ ctx.globalCompositeOperation = &quot;destination-out&quot; ctx.strokeStyle = &quot;#eee&quot; //è§¦ç¬”çš„é¢œè‰² éšä¾¿ å› ä¸ºå®ƒç»ˆç©¶å˜æˆé€æ˜ ctx.lineWidth = 30 //æ‹–åŠ¨æ—¶å¼€å§‹ç”»çº¿çš„çº¿å®½ ctx.lineCap = &quot;round&quot; //è¿™ä¸¤æ­¥æ˜¯æŠŠç”»ç¬”å˜æˆåœ†å½¢ //æŒ‰ä¸‹ï¼Œç§»åŠ¨ï¼ŒæŠ¬èµ·äº‹ä»¶ can.onmousedown = function (e) { e = e || window.event //å…¼å®¹ä½ç‰ˆæœ¬IEæµè§ˆå™¨ //e.pageXè·ç¦»æ–‡æ¡£å³è¾¹ç¼˜ï¼› offsetLeftï¼šcanvasç”»å¸ƒè·ç¦»æ–‡æ¡£çš„å³è¾¹è·ç¦» let x = e.pageX - can.offsetLeft //å¾—åˆ°çš„xæ˜¯åœ¨canvasä¸Šçš„åæ ‡å€¼ let y = e.pageY - can.offsetTop ctx.beginPath() // ctx.moveTo( x,y )//ä»å“ªé‡Œå¼€å§‹æ¥ç”» ctx.arc(x, y, 15, 0, 6.3, false) //ç‚¹ç¬¬ä¸€ä¸‹æ˜¯ç”»ä¸€ä¸ªåœ† ctx.fill() //æŒ‰ä¸‹åæ‹–æ‹½ can.onmousemove = function (e) { //æ‹–åŠ¨æ—¶ä¸€ç›´æ‰§è¡Œä¸‹é¢ e = e || window.event //å…¼å®¹ä½ç‰ˆæœ¬IEæµè§ˆå™¨ ctx.beginPath() //æ‹–åŠ¨æ—¶å¼€å§‹ç”»çº¿ ctx.moveTo(x, y) //èµ·å§‹ç‚¹ ctx.lineTo(e.pageX - can.offsetLeft, e.pageY - can.offsetTop) //ç§»åŠ¨çš„è¿‡ç¨‹ //æ¯æ¬¡ç§»åŠ¨çš„æ—¶å€™ï¼Œæ ·å¼æ‰€åœ¨çš„åæ ‡ï¼› x = e.pageX - can.offsetLeft //ç¬¬äºŒæ¬¡æ¸²æŸ“åˆ®å›¾ç‰‡æ•ˆæœçš„èµ·å§‹ç‚¹åº”è¯¥åœ¨ä¸Šä¸€æ¬¡çš„ç»ˆæ­¢ç‚¹ y = e.pageY - can.offsetTop ctx.stroke() //å¼¹å‡ºå›¾å½¢å¹¶æ¢å¤ç”»å¸ƒ } document.onmouseup = function () { //æŠ¬èµ·åå°†äº‹ä»¶æ³¨é”€ can.onmousemove = null this.onmouseup = null check() //å®Œæˆåé€šè¿‡åƒç´ è®¡ç®—åˆ®è¿‡çš„çš„ç™¾åˆ†æ¯” } } function check() { //è·å–ç”»å¸ƒçš„åƒç´ åˆ—è¡¨ let data = ctx.getImageData(0, 0, can.width, can.height).data let n = 0 //è®¡ç®—é€æ˜åƒç´ çš„ä¸ªæ•° for (let i = 0; i &lt; data.length; i += 4) { //æ„Ÿè§‰è¿™ä¸€æ­¥æ¯”è¾ƒæ¶ˆè€—æ€§èƒ½ //RGBA if ( data[i] == 0 &amp;&amp; data[i + 1] == 0 &amp;&amp; data[i + 2] == 0 &amp;&amp; data[i + 3] == 0 ) { n++ } } let f = (n * 100) / (can.width * can.height) //ç®—å‡ºæ‰€åˆ®çš„é¢ç§¯çš„å æ¯”ï¼› txt.value = `åˆ®å¼€é¢ç§¯:${f.toFixed(2)}%` //åˆ®å¼€é¢ç§¯çš„æ¯”ä¾‹ if (f &gt; 30) { //å¦‚æœæ‰€åˆ®çš„é¢ç§¯å¤§äº30% åˆ™å°†canvasç”»å¸ƒæ•´ä½“æ¸…é™¤fillRect ctx.beginPath() ctx.fillRect(0, 0, can.width, can.height) txt.value = &quot;åˆ®å¼€é¢ç§¯å¤§äº30%ï¼Œå…¨éƒ¨æ˜¾ç¤º&quot; } } } &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; swiperè½®æ’­å›¾ç»„ä»¶ æ‹–æ‹½ã€å›å¼¹ç‰©æ–™æ•ˆæœæ˜¯å‚ç…§å¼€æºé¡¹ç›®swiper.jsåšçš„`javascript/** è½®æ’­ç»„ä»¶ @param {object} params é…ç½®ä¼ å‚ @param {string} params.el ç»„ä»¶èŠ‚ç‚¹ class|id| @param {number} params.moveTime è¿‡æ¸¡æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰é»˜è®¤ 300 @param {number} params.interval è‡ªåŠ¨æ’­æ”¾é—´éš”ï¼ˆæ¯«ç§’ï¼‰é»˜è®¤ 3000 @param {boolean} params.loop æ˜¯å¦éœ€è¦å›è·¯ @param {boolean} params.vertical æ˜¯å¦å‚ç›´æ»šåŠ¨ @param {boolean} params.autoPaly æ˜¯å¦éœ€è¦è‡ªåŠ¨æ’­æ”¾ @param {boolean} params.pagination æ˜¯å¦éœ€è¦åº•éƒ¨åœ†ç‚¹ @param {(index: number) =&gt; void} params.slideCallback æ»‘åŠ¨/åˆ‡æ¢ç»“æŸå›è°ƒ @author https://github.com/Hansen-hjs @description ç§»åŠ¨ç«¯swiperç»„ä»¶ï¼Œå¦‚æœéœ€è¦å…¼å®¹pcè‡ªè¡Œä¿®æ”¹å¯¹åº”çš„touchåˆ°mouseäº‹ä»¶å³å¯ã€‚ç°æˆæ•ˆæœé¢„è§ˆï¼šhttps://huangjingsheng.gitee.io/hjs/cv/demo/face/*/function swiper(params) { /** css class å‘½ååˆ—è¡¨ @dec [&quot;æ»‘åŠ¨åˆ—è¡¨&quot;,&quot;æ»‘åŠ¨item&quot;,&quot;åœ†ç‚¹å®¹å™¨&quot;,&quot;åº•éƒ¨åœ†ç‚¹&quot;,&quot;åœ†ç‚¹é«˜äº®&quot;]/const classNames = [&quot;.swiper_list&quot;, &quot;.swiper_item&quot;, &quot;.swiper_pagination&quot;, &quot;.swiper_dot&quot;, &quot;.swiper_dot_active&quot;];/** æ»‘åŠ¨ç»“æŸå‡½æ•° /const slideEnd = params.slideCallback || function() {};/** ç»„ä»¶èŠ‚ç‚¹ @type {HTMLElement}*/let node = null;/** itemåˆ—è¡¨å®¹å™¨ @type {HTMLElement}*/let nodeItem = null;/** itemèŠ‚ç‚¹åˆ—è¡¨ @type {Array}*/let nodeItems = [];/** åœ†ç‚¹å®¹å™¨ @type {HTMLElement}*/let nodePagination = null;/** åœ†ç‚¹èŠ‚ç‚¹åˆ—è¡¨ @type {Array}/let nodePaginationItems = [];/** æ˜¯å¦éœ€è¦åº•éƒ¨åœ†ç‚¹ /let pagination = false;/ æ˜¯å¦éœ€è¦å›è·¯ */let isLoop = false;/ æ–¹å‘ X =&gt; true | Y =&gt; false /let direction = false;/** æ˜¯å¦éœ€è¦è‡ªåŠ¨æ’­æ”¾ /let autoPaly = false;/ è‡ªåŠ¨æ’­æ”¾é—´éš”ï¼ˆæ¯«ç§’ï¼‰é»˜è®¤ 3000 */let interval = 3000;/ è¿‡æ¸¡æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰é»˜è®¤ 300 */let moveTime = 300; /** è®¾ç½®åŠ¨ç”» */ function startAnimation() { nodeItem.style.transition = `${moveTime / 1000}s all`; } /** å…³é—­åŠ¨ç”» */ function stopAnimation() { nodeItem.style.transition = &quot;0s all&quot;; } /** * å±æ€§æ ·å¼æ»‘åŠ¨ * @param {number} n ç§»åŠ¨çš„è·ç¦» */ function slideStyle(n) { let x = 0, y = 0; if (direction) { y = n; } else { x = n; } nodeItem.style.transform = `translate3d(${x}px, ${y}px, 0px)`; } /** * äº‹ä»¶å¼€å§‹ * @param {number} width æ»šåŠ¨å®¹å™¨çš„å®½åº¦ * @param {number} height æ»šåŠ¨å®¹å™¨çš„é«˜åº¦ */ function main(width, height) { /** * åŠ¨ç”»å¸§ * @type {requestAnimationFrame} */ const animation = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame; /** è§¦æ‘¸å¼€å§‹æ—¶é—´ */ let startTime = 0; /** è§¦æ‘¸ç»“æŸæ—¶é—´ */ let endTime = 0; /** å¼€å§‹çš„è·ç¦» */ let startDistance = 0; /** ç»“æŸçš„è·ç¦» */ let endDistance = 0; /** ç»“æŸè·ç¦»çŠ¶æ€ */ let endState = 0; /** ç§»åŠ¨çš„è·ç¦» */ let moveDistance = 0; /** åœ†ç‚¹ä½ç½® &amp;&amp; å½“å‰ item ç´¢å¼• */ let index = 0; /** åŠ¨ç”»å¸§è®¡æ•° */ let count = 0; /** loop å¸§è®¡æ•° */ let loopCount = 0; /** ç§»åŠ¨èŒƒå›´ */ let range = direction ? height : width; /** è·å–æ‹–åŠ¨è·ç¦» */ function getDragDistance() { /** æ‹–åŠ¨è·ç¦» */ let dragDistance = 0; // é»˜è®¤è¿™ä¸ªå…¬å¼ dragDistance = moveDistance + (endDistance - startDistance); // åˆ¤æ–­æœ€å¤§æ­£è´Ÿå€¼ if ((endDistance - startDistance) &gt;= range) { dragDistance = moveDistance + range; } else if ((endDistance - startDistance) &lt;= -range) { dragDistance = moveDistance - range; } // æ²¡æœ‰ loop çš„æ—¶å€™æƒ¯æ€§æ‹–æ‹½ if (!isLoop) { if ((endDistance - startDistance) &gt; 0 &amp;&amp; index === 0) { // console.log(&quot;åˆ°è¾¾æœ€åˆ&quot;); dragDistance = moveDistance + ((endDistance - startDistance) - ((endDistance - startDistance) * 0.6)); } else if ((endDistance - startDistance) &lt; 0 &amp;&amp; index === nodeItems.length - 1) { // console.log(&quot;åˆ°è¾¾æœ€å&quot;); dragDistance = moveDistance + ((endDistance - startDistance) - ((endDistance - startDistance) * 0.6)); } } return dragDistance; } /** * åˆ¤æ–­è§¦æ‘¸å¤„ç†å‡½æ•° * @param {number} slideDistance æ»‘åŠ¨çš„è·ç¦» */ function judgeTouch(slideDistance) { // è¿™é‡Œæˆ‘è®¾ç½®äº†200æ¯«ç§’çš„æœ‰æ•ˆæ‹–æ‹½é—´éš” if ((endTime - startTime) &lt; 200) return true; // è¿™é‡Œåˆ¤æ–­æ–¹å‘ï¼ˆæ­£å€¼å’Œè´Ÿå€¼ï¼‰ if (slideDistance &lt; 0) { if ((endDistance - startDistance) &lt; (slideDistance / 2)) return true; return false; } else { if ((endDistance - startDistance) &gt; (slideDistance / 2)) return true; return false; } } /** è¿”å›åŸæ¥ä½ç½® */ function backLocation() { startAnimation(); slideStyle(moveDistance); } /** * æ»‘åŠ¨ * @param {number} slideDistance æ»‘åŠ¨çš„è·ç¦» */ function slideMove(slideDistance) { startAnimation(); slideStyle(slideDistance); loopCount = 0; // åˆ¤æ–­ loop æ—¶å›åˆ°ç¬¬ä¸€å¼ æˆ–æœ€åä¸€å¼  if (isLoop &amp;&amp; index &lt; 0) { // æˆ‘è¿™é‡Œæ˜¯æƒ³è®©æ»‘å—è¿‡æ¸¡å®Œä¹‹åå†é‡ç½®ä½ç½®æ‰€ä»¥åŠ çš„å»¶è¿Ÿ (ä¹‹å‰ç”¨setTimeoutï¼Œå¿«é€Ÿæ»‘åŠ¨æœ‰é—®é¢˜ï¼Œç„¶åæ¢æˆ requestAnimationFrameè§£å†³äº†è¿™ç±»é—®é¢˜) function loopMoveMin() { loopCount += 1; if (loopCount &lt; moveTime / 1000 * 60) return animation(loopMoveMin); stopAnimation(); slideStyle(range * -(nodeItems.length - 3)); // é‡ç½®ä¸€ä¸‹ä½ç½® moveDistance = range * -(nodeItems.length - 3); } loopMoveMin(); index = nodeItems.length - 3; } else if (isLoop &amp;&amp; index &gt; nodeItems.length - 3) { function loopMoveMax() { loopCount += 1; if (loopCount &lt; moveTime / 1000 * 60) return animation(loopMoveMax); stopAnimation(); slideStyle(0); moveDistance = 0; } loopMoveMax(); index = 0; } // console.log(`ç¬¬${ index+1 }å¼ `); // è¿™é‡Œå¯ä»¥åšæ»‘åŠ¨ç»“æŸå›è°ƒ if (pagination) { nodePagination.querySelector(classNames[4]).className = classNames[3].slice(1); nodePaginationItems[index].classList.add(classNames[4].slice(1)); } } /** åˆ¤æ–­ç§»åŠ¨ */ function judgeMove() { // åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰§è¡Œè¿‡æ¸¡ if (endDistance &lt; startDistance) { // å¾€ä¸Šæ»‘åŠ¨ or å‘å·¦æ»‘åŠ¨ if (judgeTouch(-range)) { // åˆ¤æ–­æœ‰loopçš„æ—¶å€™ä¸éœ€è¦æ‰§è¡Œä¸‹é¢çš„äº‹ä»¶ if (!isLoop &amp;&amp; moveDistance === (-(nodeItems.length - 1) * range)) return backLocation(); index += 1; slideMove(moveDistance - range); moveDistance -= range; slideEnd(index); } else { backLocation(); } } else { // å¾€ä¸‹æ»‘åŠ¨ or å‘å³æ»‘åŠ¨ if (judgeTouch(range)) { if (!isLoop &amp;&amp; moveDistance === 0) return backLocation(); index -= 1; slideMove(moveDistance + range); moveDistance += range; slideEnd(index) } else { backLocation(); } } } /** è‡ªåŠ¨æ’­æ”¾ç§»åŠ¨ */ function autoMove() { // è¿™é‡Œåˆ¤æ–­ loop çš„è‡ªåŠ¨æ’­æ”¾ if (isLoop) { index += 1; slideMove(moveDistance - range); moveDistance -= range; } else { if (index &gt;= nodeItems.length - 1) { index = 0; slideMove(0); moveDistance = 0; } else { index += 1; slideMove(moveDistance - range); moveDistance -= range; } } slideEnd(index); } /** å¼€å§‹è‡ªåŠ¨æ’­æ”¾ */ function startAuto() { count += 1; if (count &lt; interval / 1000 * 60) return animation(startAuto); count = 0; autoMove(); startAuto(); } // åˆ¤æ–­æ˜¯å¦éœ€è¦å¼€å¯è‡ªåŠ¨æ’­æ”¾ if (autoPaly &amp;&amp; nodeItems.length &gt; 1) startAuto(); // å¼€å§‹è§¦æ‘¸ nodeItem.addEventListener(&quot;touchstart&quot;, ev =&gt; { startTime = Date.now(); count = 0; loopCount = moveTime / 1000 * 60; stopAnimation(); startDistance = direction ? ev.touches[0].clientY : ev.touches[0].clientX; }); // è§¦æ‘¸ç§»åŠ¨ nodeItem.addEventListener(&quot;touchmove&quot;, ev =&gt; { ev.preventDefault(); count = 0; endDistance = direction ? ev.touches[0].clientY : ev.touches[0].clientX; slideStyle(getDragDistance()); }); // è§¦æ‘¸ç¦»å¼€ nodeItem.addEventListener(&quot;touchend&quot;, () =&gt; { endTime = Date.now(); // åˆ¤æ–­æ˜¯å¦ç‚¹å‡» if (endState !== endDistance) { judgeMove(); } else { backLocation(); } // æ›´æ–°ä½ç½® endState = endDistance; // é‡æ–°æ‰“å¼€è‡ªåŠ¨æ’­ count = 0; }); } /** * è¾“å‡ºå›è·¯ï¼šå¦‚æœè¦å›è·¯çš„è¯å‰åå¢åŠ å…ƒç´  * @param {number} width æ»šåŠ¨å®¹å™¨çš„å®½åº¦ * @param {number} height æ»šåŠ¨å®¹å™¨çš„é«˜åº¦ */ function outputLoop(width, height) { const first = nodeItems[0].cloneNode(true), last = nodeItems[nodeItems.length - 1].cloneNode(true); nodeItem.insertBefore(last, nodeItems[0]); nodeItem.appendChild(first); nodeItems.unshift(last); nodeItems.push(first); if (direction) { nodeItem.style.top = `${-height}px`; } else { nodeItem.style.left = `${-width}px`; } } /** * è¾“å‡ºåŠ¨æ€å¸ƒå±€ * @param {number} width æ»šåŠ¨å®¹å™¨çš„å®½åº¦ * @param {number} height æ»šåŠ¨å®¹å™¨çš„é«˜åº¦ */ function outputLayout(width, height) { if (direction) { for (let i = 0; i &lt; nodeItems.length; i++) { nodeItems[i].style.height = `${height}px`; } } else { nodeItem.style.width = `${width * nodeItems.length}px`; for (let i = 0; i &lt; nodeItems.length; i++) { nodeItems[i].style.width = `${width}px`; } } } /** è¾“å‡ºåº•éƒ¨åœ†ç‚¹ */ function outputPagination() { let paginations = &quot;&quot;; nodePagination = node.querySelector(classNames[2]); // å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹åº”èŠ‚ç‚¹åˆ™åˆ›å»ºä¸€ä¸ª if (!nodePagination) { nodePagination = document.createElement(&quot;div&quot;); nodePagination.className = classNames[2].slice(1); node.appendChild(nodePagination); } for (let i = 0; i &lt; nodeItems.length; i++) { paginations += `&lt;div class=&quot;${classNames[3].slice(1)}&quot;&gt;&lt;/div&gt;`; } nodePagination.innerHTML = paginations; nodePaginationItems = [...nodePagination.querySelectorAll(classNames[3])]; nodePagination.querySelector(classNames[3]).classList.add(classNames[4].slice(1)); } /** åˆå§‹åŒ–åŠ¨æ€å¸ƒå±€ */ function initLayout() { node = document.querySelector(params.el); if (!node) return console.warn(&quot;æ²¡æœ‰å¯æ‰§è¡Œçš„èŠ‚ç‚¹ï¼&quot;); nodeItem = node.querySelector(classNames[0]); if (!nodeItem) return console.warn(`ç¼ºå°‘&quot;${classNames[0]}&quot;èŠ‚ç‚¹ï¼`); nodeItems = [...node.querySelectorAll(classNames[1])]; if (nodeItems.length == 0) return console.warn(&quot;æ»‘åŠ¨èŠ‚ç‚¹ä¸ªæ•°å¿…é¡»å¤§äº0ï¼&quot;); const moveWidth = node.offsetWidth, moveHeight = node.offsetHeight; if (pagination) outputPagination(); if (isLoop) outputLoop(moveWidth, moveHeight); outputLayout(moveWidth, moveHeight); main(moveWidth, moveHeight); } /** åˆå§‹åŒ–å‚æ•° */ function initParams() { if (typeof params !== &quot;object&quot;) return console.warn(&quot;ä¼ å‚æœ‰è¯¯&quot;); pagination = params.pagination || false; direction = params.vertical || false; autoPaly = params.autoPaly || false; isLoop = params.loop || false; moveTime = params.moveTime || 300; interval = params.interval || 3000; initLayout(); } initParams(); } ## å›¾ç‰‡æ‡’åŠ è½½ &gt;éä¼ ç»Ÿå®ç°æ–¹å¼ï¼Œæ€§èƒ½æœ€ä¼˜ ```javascript /** * æ‡’åŠ è½½ * @description å¯åŠ è½½`&lt;img&gt;`ã€`&lt;video&gt;`ã€`&lt;audio&gt;`ç­‰ä¸€äº›å¼•ç”¨èµ„æºè·¯å¾„çš„æ ‡ç­¾ * @param {object} params ä¼ å‚å¯¹è±¡ * @param {string?} params.lazyAttr è‡ªå®šä¹‰åŠ è½½çš„å±æ€§ï¼ˆå¯é€‰ï¼‰ * @param {&quot;src&quot;|&quot;background&quot;} params.loadType åŠ è½½çš„ç±»å‹ï¼ˆé»˜è®¤ä¸º`src`ï¼‰ * @param {string?} params.errorPath åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºçš„èµ„æºè·¯å¾„ï¼Œä»…åœ¨`loadType`è®¾ç½®ä¸º`src`ä¸­å¯ç”¨ï¼ˆå¯é€‰ï¼‰ */ function lazyLoad(params) { const attr = params.lazyAttr || &quot;lazy&quot;; const type = params.loadType || &quot;src&quot;; /** æ›´æ–°æ•´ä¸ªæ–‡æ¡£çš„æ‡’åŠ è½½èŠ‚ç‚¹ */ function update() { const els = document.querySelectorAll(`[${attr}]`); for (let i = 0; i &lt; els.length; i++) { const el = els[i]; observer.observe(el); } } /** * åŠ è½½å›¾ç‰‡ * @param {HTMLImageElement} el å›¾ç‰‡èŠ‚ç‚¹ */ function loadImage(el) { const cache = el.src; // ç¼“å­˜å½“å‰`src`åŠ è½½å¤±è´¥æ—¶å€™ç”¨ el.src = el.getAttribute(attr); el.onerror = function () { el.src = params.errorPath || cache; } } /** * åŠ è½½å•ä¸ªèŠ‚ç‚¹ * @param {HTMLElement} el */ function loadElement(el) { switch (type) { case &quot;src&quot;: loadImage(el); break; case &quot;background&quot;: el.style.backgroundImage = `url(${el.getAttribute(attr)})`; break; } el.removeAttribute(attr); observer.unobserve(el); } /** * ç›‘å¬å™¨ * [MDNè¯´æ˜](https://developer.mozilla.org/zh-CN/docs/Web/API/IntersectionObserver) */ const observer = new IntersectionObserver(function(entries) { for (let i = 0; i &lt; entries.length; i++) { const item = entries[i]; if (item.isIntersecting) { loadElement(item.target); } } }) update(); return { observer, update } } åœ¨vueä¸­ä½¿ç”¨æŒ‡ä»¤å»ä½¿ç”¨ import Vue from &quot;vue&quot;; /** æ·»åŠ ä¸€ä¸ªåŠ è½½`src`çš„æŒ‡ä»¤ */ const lazySrc = lazyLoad({ lazyAttr: &quot;vlazy&quot;, errorPath: &quot;./img/error.jpg&quot; }) Vue.directive(&quot;v-lazy&quot;, { inserted(el, binding) { el.setAttribute(&quot;vlazy&quot;, binding.value); // è·Ÿä¸Šé¢çš„å¯¹åº” lazySrc.observer.observe(el); } }) /** æ·»åŠ ä¸€ä¸ªåŠ è½½`background`çš„æŒ‡ä»¤ */ const lazyBg = lazyLoad({ lazyAttr: &quot;vlazybg&quot;, loadType: &quot;background&quot; }) Vue.directive(&quot;v-lazybg&quot;, { inserted(el, binding) { el.setAttribute(&quot;vlazybg&quot;, binding.value); // è·Ÿä¸Šé¢çš„å¯¹åº” lazyBg.observer.observe(el); } }) ä¸Šä¼ å›¾ç‰‡&lt;!-- å…ˆå‡†å¤‡å¥½ä¸€ä¸ªinputæ ‡ç­¾ï¼Œç„¶åè®¾ç½®type=&quot;file&quot;ï¼Œæœ€åæŒ‚è½½ä¸€ä¸ªonchangeäº‹ä»¶ --&gt; &lt;input class=&quot;upload-input&quot; type=&quot;file&quot; name=&quot;picture&quot; onchange=&quot;upLoadImage(this)&quot;&gt; /** * inputä¸Šä¼ å›¾ç‰‡ * @param {HTMLInputElement} el */ function upLoadImage(el) { /** ä¸Šä¼ æ–‡ä»¶ */ const file = el.files[0]; /** ä¸Šä¼ ç±»å‹æ•°ç»„ */ const types = [&quot;image/jpg&quot;, &quot;image/png&quot;, &quot;image/jpeg&quot;, &quot;image/gif&quot;]; // åˆ¤æ–­æ–‡ä»¶ç±»å‹ if (types.indexOf(file.type) &lt; 0) { file.value = null; // è¿™é‡Œä¸€å®šè¦æ¸…ç©ºå½“å‰é”™è¯¯çš„å†…å®¹ return alert(&quot;æ–‡ä»¶æ ¼å¼åªæ”¯æŒï¼šjpg å’Œ png&quot;); } // åˆ¤æ–­å¤§å° if (file.size &gt; 2 * 1024 * 1024) { file.value = null; return alert(&quot;ä¸Šä¼ çš„æ–‡ä»¶ä¸èƒ½å¤§äº2M&quot;); } const formData = new FormData(); // è¿™ä¸ªæ˜¯ä¼ ç»™åå°çš„æ•°æ® formData.append(&quot;img&quot;, file); // è¿™é‡Œ`img`æ˜¯è·Ÿåå°çº¦å®šå¥½çš„`key`å­—æ®µ console.log(formData, file); // æœ€åPOSTç»™åå°ï¼Œè¿™é‡Œæˆ‘ç”¨ä¸Šé¢çš„æ–¹æ³• ajax({ url: &quot;http://xxx.com/uploadImg&quot;, method: &quot;POST&quot;, data: {}, formData: formData, overtime: 5000, success(res) { console.log(&quot;ä¸Šä¼ æˆåŠŸ&quot;, res); }, fail(err) { console.log(&quot;ä¸Šä¼ å¤±è´¥&quot;, err); }, timeout() { console.warn(&quot;XMLHttpRequest è¯·æ±‚è¶…æ—¶ !!!&quot;); } }); } base64è½¬æ¢å’Œé™æ€é¢„è§ˆ ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶ æ‹–æ‹½æ•ˆæœå‚è€ƒä¸Šé¢swiperçš„å®ç°æ–¹å¼ï¼Œä¸‹æ‹‰ä¸­çš„æ•ˆæœæ˜¯å¯ä»¥è‡ªå·±å®šä¹‰çš„`javascript// è¿™é‡Œæˆ‘åšçš„ä¸æ˜¯ç”¨ window çš„æ»šåŠ¨äº‹ä»¶ï¼Œè€Œæ˜¯ç”¨æœ€å¤–å±‚çš„ç»‘å®šè§¦æ‘¸ä¸‹æ‹‰äº‹ä»¶å»å®ç°// å¥½å¤„æ˜¯æˆ‘ç”¨åœ¨Vueè¿™ç±»å•é¡µåº”ç”¨çš„æ—¶å€™ï¼Œç»„ä»¶é”€æ¯æ—¶ä¸ç”¨å»è§£ç»‘ window çš„ scroll äº‹ä»¶// ä½†æ˜¯æ»‘åŠ¨åˆ°åº•éƒ¨äº‹ä»¶å°±å¿…é¡»è¦ç”¨ window çš„ scroll äº‹ä»¶ï¼Œè¿™ç‚¹éœ€è¦æ³¨æ„ /** ä¸‹æ‹‰åˆ·æ–°ç»„ä»¶ @param {object} option é…ç½® @param {HTMLElement} option.el ä¸‹æ‹‰å…ƒç´ ï¼ˆå¿…é€‰ï¼‰ @param {number} option.distance ä¸‹æ‹‰è·ç¦»[px]ï¼ˆå¯é€‰ï¼‰ @param {number} option.deviation é¡¶éƒ¨å¾€ä¸‹åç§»é‡[px]ï¼ˆå¯é€‰ï¼‰ @param {string} option.loadIcon ä¸‹æ‹‰ä¸­çš„ icon htmlï¼ˆå¯é€‰ï¼‰/function dropDownRefresh(option) { const doc = document; /** æ•´ä½“èŠ‚ç‚¹ / const page = option.el; / ä¸‹æ‹‰è·ç¦» */ const distance = option.distance || 88; / é¡¶éƒ¨å¾€ä¸‹åç§»é‡ / const deviation = option.deviation || 0; /** é¡¶å±‚èŠ‚ç‚¹ / const topNode = doc.createElement(&quot;div&quot;); /* ä¸‹æ‹‰æ—¶é®ç½© / const maskNode = doc.createElement(&quot;div&quot;); topNode.innerHTML = &lt;div refresh-icon style=&quot;transition: .2s all;&quot;&gt;&lt;svg style=&quot;transform: rotate(90deg); display: block;&quot; t=&quot;1570593064555&quot; viewBox=&quot;0 0 1575 1024&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; p-id=&quot;26089&quot; width=&quot;48&quot; height=&quot;48&quot;&gt;&lt;path d=&quot;M1013.76 0v339.968H484.115692V679.778462h529.644308v339.968l529.644308-485.612308v-48.600616L1013.76 0zM243.396923 679.857231h144.462769V339.968H243.396923V679.778462z m-240.797538 0h144.462769V339.968H2.599385V679.778462z&quot; fill=&quot;#000000&quot; fill-opacity=&quot;.203&quot; p-id=&quot;26090&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;&lt;div refresh-loading style=&quot;display: none; animation: refresh-loading 1s linear infinite;&quot;&gt;${option.loadIcon || &#39;&lt;p style=&quot;font-size: 15px; color: #666;&quot;&gt;loading...&lt;/p&gt;&#39;}&lt;/div&gt;; topNode.style.cssText = width: 100%; height: ${distance}px; position: fixed; top: ${-distance + deviation}px; left: 0; z-index: 10; display: flex; flex-wrap: wrap; align-items: center; justify-content: center; box-sizing: border-box; margin: 0; padding: 0;; maskNode.style.cssText = &quot;position: fixed; top: 0; left: 0; width: 100%; height: 100vh; box-sizing: border-box; margin: 0; padding: 0; background-color: rgba(0,0,0,0); z-index: 999;&quot;; page.parentNode.insertBefore(topNode, page); /** è®¾ç½®åŠ¨ç”»æ—¶é—´ @param {number} n ç§’æ•°*/function setAnimation(n) { page.style.transition = topNode.style.transition = n + &quot;s all&quot;;} /** è®¾ç½®æ»‘åŠ¨è·ç¦» @param {number} n æ»‘åŠ¨çš„è·ç¦»ï¼ˆåƒç´ ï¼‰*/function setSlide(n) { page.style.transform = topNode.style.transform = translate3d(0px, ${n}px, 0px);} / ä¸‹æ‹‰æç¤º icon */const icon = topNode.querySelector(&quot;[refresh-icon]&quot;);/ ä¸‹æ‹‰ loading åŠ¨ç”» */const loading = topNode.querySelector(&quot;[refresh-loading]&quot;); return { /** ç›‘å¬å¼€å§‹åˆ·æ–° @param {Function} callback ä¸‹æ‹‰ç»“æŸå›è°ƒ @param {(n: number) =&gt; void} rangeCallback ä¸‹æ‹‰çŠ¶æ€å›è°ƒ/onRefresh(callback, rangeCallback = null) { /** é¡¶éƒ¨è·ç¦» / let scrollTop = 0; / å¼€å§‹è·ç¦» */ let startDistance = 0; / ç»“æŸè·ç¦» / let endDistance = 0; /** æœ€åç§»åŠ¨çš„è·ç¦» / let range = 0; // è§¦æ‘¸å¼€å§‹ page.addEventListener(&quot;touchstart&quot;, function (e) { startDistance = e.touches[0].pageY; scrollTop = 1; setAnimation(0); }); // è§¦æ‘¸ç§»åŠ¨ page.addEventListener(&quot;touchmove&quot;, function (e) { scrollTop = doc.documentElement.scrollTop === 0 ? doc.body.scrollTop : doc.documentElement.scrollTop; // æ²¡åˆ°è¾¾é¡¶éƒ¨å°±åœæ­¢ if (scrollTop != 0) return; endDistance = e.touches[0].pageY; range = Math.floor(endDistance - startDistance); // åˆ¤æ–­å¦‚æœæ˜¯ä¸‹æ»‘æ‰æ‰§è¡Œ if (range &gt; 0) { // é˜»æ­¢æµè§ˆè‡ªå¸¦çš„ä¸‹æ‹‰æ•ˆæœ e.preventDefault(); // ç‰©ç†å›å¼¹å…¬å¼è®¡ç®—è·ç¦» range = range - (range * 0.5); // ä¸‹æ‹‰æ—¶iconæ—‹è½¬ if (range &gt; distance) { icon.style.transform = &quot;rotate(180deg)&quot;; } else { icon.style.transform = &quot;rotate(0deg)&quot;; } setSlide(range); // å›è°ƒè·ç¦»å‡½æ•° å¦‚æœæœ‰éœ€è¦ if (typeof rangeCallback === &quot;function&quot;) rangeCallback(range); } }); // è§¦æ‘¸ç»“æŸ page.addEventListener(&quot;touchend&quot;, function () { setAnimation(0.3); // console.log(`ç§»åŠ¨çš„è·ç¦»ï¼š${range}, æœ€å¤§è·ç¦»ï¼š${distance}`); if (range &gt; distance &amp;&amp; range &gt; 1 &amp;&amp; scrollTop === 0) { setSlide(distance); doc.body.appendChild(maskNode); // é˜»æ­¢å¾€ä¸Šæ»‘åŠ¨ maskNode.ontouchmove = e =&gt; e.preventDefault(); // å›è°ƒæˆåŠŸä¸‹æ‹‰åˆ°æœ€å¤§è·ç¦»å¹¶æ¾å¼€å‡½æ•° if (typeof callback === &quot;function&quot;) callback(); icon.style.display = &quot;none&quot;; loading.style.display = &quot;block&quot;; } else { setSlide(0); } }); },/* ç»“æŸä¸‹æ‹‰ /end() { maskNode.parentNode.removeChild(maskNode); setAnimation(0.3); setSlide(0); icon.style.display = &quot;block&quot;; loading.style.display = &quot;none&quot;;}}} ## ç›‘å¬æ»šåŠ¨åˆ°åº•éƒ¨ ```javascript /** * ç›‘å¬æ»šåŠ¨åˆ°åº•éƒ¨ * @param {object} options ä¼ å‚å¯¹è±¡ * @param {number} options.distance è·ç¦»åº•éƒ¨å¤šå°‘åƒç´ è§¦å‘ï¼ˆpxï¼‰ * @param {boolean} options.once æ˜¯å¦ä¸ºä¸€æ¬¡æ€§ï¼ˆé˜²æ­¢é‡å¤ç”¨ï¼‰ * @param {() =&gt; void} options.callback åˆ°è¾¾åº•éƒ¨å›è°ƒå‡½æ•° */ function onScrollToBottom(options) { const { distance = 0, once = false, callback = null } = options; const doc = document; /** æ»šåŠ¨äº‹ä»¶ */ function onScroll() { /** æ»šåŠ¨çš„é«˜åº¦ */ let scrollTop = doc.documentElement.scrollTop === 0 ? doc.body.scrollTop : doc.documentElement.scrollTop; /** æ»šåŠ¨æ¡é«˜åº¦ */ let scrollHeight = doc.documentElement.scrollTop === 0 ? doc.body.scrollHeight : doc.documentElement.scrollHeight; if (scrollHeight - scrollTop - distance &lt;= window.innerHeight) { if (typeof callback === &quot;function&quot;) callback(); if (once) window.removeEventListener(&quot;scroll&quot;, onScroll); } } window.addEventListener(&quot;scroll&quot;, onScroll); // å¿…è¦æ—¶å…ˆæ‰§è¡Œä¸€æ¬¡ // onScroll(); } éŸ³é¢‘æ’­æ”¾ç»„ä»¶/** * `AudioContext`éŸ³é¢‘ç»„ä»¶ * [èµ„æ–™å‚è€ƒ](https://www.cnblogs.com/Wayou/p/html5_audio_api_visualizer.html) * @description è§£å†³åœ¨ç§»åŠ¨ç«¯ç½‘é¡µä¸Šæ ‡ç­¾æ’­æ”¾éŸ³é¢‘å»¶è¿Ÿçš„æ–¹æ¡ˆ è²Œä¼¼`H5`æ¸¸æˆå¼•æ“ä¹Ÿæ˜¯ä½¿ç”¨è¿™ä¸ªå®ç° */ function audioComponent() { /** * éŸ³é¢‘ä¸Šä¸‹æ–‡ * @type {AudioContext} */ const context = new (window.AudioContext || window.webkitAudioContext || window.mozAudioContext || window.msAudioContext)(); /** * @type {AnalyserNode} */ const analyser = context.createAnalyser();; /** * @type {AudioBufferSourceNode} */ let bufferNode = null; /** * @type {AudioBuffer} */ let buffer = null; /** æ˜¯å¦åŠ è½½å®Œæˆ */ let loaded = false; analyser.fftSize = 256; return { /** * åŠ è½½è·¯å¾„éŸ³é¢‘æ–‡ä»¶ * @param {string} url éŸ³é¢‘è·¯å¾„ * @param {(res: AnalyserNode) =&gt; void} callback åŠ è½½å®Œæˆå›è°ƒ */ loadPath(url, callback) { const XHR = new XMLHttpRequest(); XHR.open(&quot;GET&quot;, url, true); XHR.responseType = &quot;arraybuffer&quot;; // å…ˆåŠ è½½éŸ³é¢‘æ–‡ä»¶ XHR.onload = () =&gt; { context.decodeAudioData(XHR.response, audioBuffer =&gt; { // æœ€åç¼“å­˜éŸ³é¢‘èµ„æº buffer = audioBuffer; loaded = true; typeof callback === &quot;function&quot; &amp;&amp; callback(analyser); }); } XHR.send(null); }, /** * åŠ è½½ input éŸ³é¢‘æ–‡ä»¶ * @param {File} file éŸ³é¢‘æ–‡ä»¶ * @param {(res: AnalyserNode) =&gt; void} callback åŠ è½½å®Œæˆå›è°ƒ */ loadFile(file, callback) { const FR = new FileReader(); // å…ˆåŠ è½½éŸ³é¢‘æ–‡ä»¶ FR.onload = e =&gt; { const res = e.target.result; // ç„¶åè§£ç  context.decodeAudioData(res, audioBuffer =&gt; { // æœ€åç¼“å­˜éŸ³é¢‘èµ„æº buffer = audioBuffer; loaded = true; typeof callback === &quot;function&quot; &amp;&amp; callback(analyser); }); } FR.readAsArrayBuffer(file); }, /** æ’­æ”¾éŸ³é¢‘ */ play() { if (!loaded) return console.warn(&quot;éŸ³é¢‘æœªåŠ è½½å®Œæˆ !!!&quot;); // è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åˆ›å»ºçš„éŸ³é¢‘å¯¹è±¡ä¸èƒ½ç¼“å­˜ä¸‹æ¥ç„¶åå¤šæ¬¡æ‰§è¡Œ start , æ‰€ä»¥æ¯æ¬¡éƒ½è¦åˆ›å»ºç„¶å start() bufferNode = context.createBufferSource(); bufferNode.connect(analyser); analyser.connect(context.destination); bufferNode.buffer = buffer; bufferNode.start(0); }, /** åœæ­¢æ’­æ”¾ */ stop() { if (!bufferNode) return console.warn(&quot;éŸ³é¢‘æœªæ’­æ”¾ !!!&quot;); bufferNode.stop(); } } } å…¨å±€ç›‘å¬å›¾ç‰‡é”™è¯¯å¹¶æ›¿æ¢åˆ°é»˜è®¤å›¾ç‰‡window.addEventListener(&quot;error&quot;, e =&gt; { /** é»˜è®¤`base64`å›¾ç‰‡ */ const defaultImg = &#39;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAACACAYAAADzsnDqAAANXElEQVR4Xu2dDYxcVRXHz3mz0FgjICBSgkZAQD5CwQ+Qz4BBBUEkUJpK0FAUYmms2O47d7oSmYbYnXfeLIXl01ojBAnSokRQQIWAIvEjkfBhUZGPEkMFDajgbjdu5x1zYVpmd2d25r1335uZzrkJIenec869//ubO/Pux3kIWlSBHBTAHGJoCFUAFDSFIBcFFLRcZNYgCpoykIsCClouMmsQBU0ZyEUBBS0XmTWIgqYM5KKAgpaLzBpEQVMGclFAQctFZg2ioCkDuSigoOUiswbJHLTR0dE5W7ZsWQAAB6rcnVMAETcj4vO+7z/QiVZkCtrIyMhB1Wr12wBwcic6pzFnKiAiq4wxpby1yRS0IAhuR8RFeXdK47VUYCERbWhZy2GFzEBbs2bNvMnJyc0O26qu3CnwJBHNd+eutafMQBseHj65UCg81LoJWqMTChBRZmPfqD+ZBVPQOoFP+zEVtPa10popFFDQUoinpu0r0E+gPVytVle1L43WjKNAoVC4YrZlpb4CjYhOiSOe1m1fAWa2D2JN1y8VtPa11JqzKKCgvS3OwzqjZfdZUdAUtOzoqvOsoCloCppLBdpYsNWvTpeCT/OlM5rOaBni9bZrBU1BU9BcKqBfnS7VjO9LZzSd0eJTk8BCQVPQEmAT30RBU9DiU5PAQkFT0BJgE99EQVPQ4lOTwEJBU9ASYBPfREFT0OJTk8BCQVPQEmAT30RBU9DiU5PAQkFT0BJgE99EQesgaMy8NxG9HH/Yes9CQesQaOVy+f2e560koiW9h038FitoHQKNmb8LABeJSNEYE8Qfut6yUNA6ABozfwoAfmZDi8gEIl5IRHf0FjrxWqugdQC0MAwfFZHj6obqT4i42Pf938Ubvt6praDlDFoQBMsQ8ZrpiCDifWNjYwtKpdJ47+DTfksVtBxBC8NwLxH5MwC8u8kQ3UhEl7Y/fL1TU0HLF7TrRaQVSIaIuHcQaq+lClpOoJXL5ZM8z/tlG8MyHkXR4mKxuL6Nuj1TRUHLCTRmfhAAPtEmGU9v3br13KGhIfs1u0MUBS0H0Jj5EgCwSZrjlHuJ6Iw4Bt1cV0HLGLTR0dFdtmzZ8gwivjcuCCJygzFmaVy7bqyvoGUMWhiGIyKyPMXg+0RUSWHfFabMfJ6IHIaIhwKA/e+w+oZp2qoUwxQEwdGImHYRdgwAziGin6doSteZhmF4eBRFi2rp+A9Q0FIMETP/FAA+k8LFNtONY2Njx61atep1B766zgUzn0tEP8yzYZ3Myu00yQszfxEAbnEo3k+I6LMO/fW1qx0CtFKptPPcuXOfBYD3uRxNRLzO9/2vuvTZr752CNCY+VsAMJTRIF5MROsy8h3b7erVq/fwPG8fz/PmAcA+iDhPRP4LAPZA58sDAwN/nzNnzstLly61/9Y1pedBC8PwCBF5IitF7SB6nnes7/t/zCrGbH5rs7X9Cj8TAOz/92izHRtF5E7P8+7rhlMqPQ8aM98FAGe3KX7Sak8R0RFJjZPYMfNpAHABAJwOALsn8VFnsxEAHkDEdZ36wPQ0aOVyeaHneXkdYLyHiM5KOeAtzZn5wwDwNQCwDzeui126ucYem/J9/x+unc/mr6dBY2b7AHBAXoKJyJXGmG9mES8Ign0R0QK2DAB2ziJGnc8XLHBENOOcXlZxexY0ZrYD3ok3r5xBRPe6HJBKpXJSFEVrAeBgl37b8PXAwMDAkuXLl9sPbKalJ0FbvXr1QQMDA3/JVJkmzhHx9UKhsN/y5ctfcxE/DMOFIpLX13+jJr8aRdEXisXifS7608xHT4IWBMEdiLgwS2Fa+HbyYlVmvgoAvt7BftSHXkZE12bVlp4DLQiCsxDxx1kJ0q5fRLzF9/0L260/vR4z311brkjqwrkdIn7e9/0fOHcMAD0HGjM/DQCHZCFGXJ8issQYc1NcuyAIRhAxzQmTuCHbrl8oFI5csWKF83XJngKNmQkAuu3y71FE9Hi7I8nMdhb8Xrv1O1DvbwBwtOvUET0DWi2lwYsdEL5VyP8Q0W6tKtm/l8vl+Z7n2eNHe7VTv0Udg4j3FwqFvyLibpOTk/sDQAgAxzrw7XzNsGdAY+ZbayvlDnR07uIhImp5P4GZ7ekSFwuxixrdtC+VSnPnzp17m6OdkstcrrP1BGj1KQ2cI+LIISIO+77fdGO/tqWUegkBEa/2fb/pkyozHwkA9qWwbc2ys3T/BUT8uKsdhJ4ALQiCxxFxviMmMnMjIp8zxtinyRmFmS1kdv8yVfE875DBwcFZb2sxs/0NmPiJuK6Bq4noG6kaXDPuetDCMLxMRNa46GzWPkTkVGOMveY3pTg8lPkcEX2wVT+Y+csA8J1W9dr4+1htVkt9cqWrQbMpDQBgs4gU2hCl01VeJ6Jdm8xmvwWAYxw0cBMR7dfKj+Mn22uJyO6/pipdDdq2nGapepif8c1EtHh6OHspRESectUMEdnFGPPGbP7CMFwrIhe7iCkizxpjDkzrq2tBi5HSIK0GTuyb/T5jZnsi42onQd7K79bw67nefxiGj4uIs9+01Wr1lJUrVz6cpg9dCxoz/x4APpamcznaVolooMnXpn0CPNlVW0RkyBgz3Mzf6OjonImJiQlX8Wp+RohoMI3PrgQtCIJLEfH6NB3L01ZEfmGMsVklp5Ra2qxXHLflLiI6p5nPSqVyQhRFj7iMKSLPGGNSHWHqOtBsSoOJiQl70eIdLsXK0peI3GaMsceupxRmtuf873Ec+yUi2reZzzAMl4vIiOOY9iu75W/D2WJ2HWjMfCMAfMW1UFn6E5GrjDErGoCWJNlMy6Yi4v6+79tTsjNKEAS3126jt/QTp0KhUDh4xYoVz8Sxqa/bVaCFYXiMiNilgJ4qzTJ9h2F4hYiUXHdGRM4zxtzZyG9Wp1vSPhB0G2iPiMgJrgcma38icpExZsaJDGa2qbPsrOa0NNvuqlQqe0ZR9E+nwd52dj4R3Z7Ud9eA5nA1O6kWie2iKDqzWCzavB9TShiGd4tIFmkVHiSiUxt8Vdu8IzPakbhjdYYiMmiMSfzbrytAq12Stde/Gq6suxAqYx8NL6wws30QsA8Erssb4+Pju5dKpa31jpn5cgC40nUw62+HAC0IAnvXMPU2RxYCt+lzMRHd3GCGsfuNdt/ReRGRY4wxdq1xewmCYAMiLnAe7C3QLjDG2CNIiUrHZ7SRkZGjqtXqY4la3yVGIkLGGHvocEphZju72Fkmi3IpEdkn9O2Fme1TYertokaNbWdHYrZOdhy0MAwfFJGWhwazGClXPhEx9H3fHjOfUjJeeF5HRNv3M8Mw3E9EnnfVp+l+PM87bHBw0N7XSFQ6Clrt7LzLnGaJRHBg1HBDPQiCcxAxq4R3jxHRR7a1vVKpnB1Fkc1DkkkZGBjYI81d1k6DZvOqvicTZfJ12jCjd6VSOTSKIptgJZNSv7YVBEEJEa/IJBDAq0S0ZxrfnQbN2WZzGhHS2orIK8aYvRv5YWZ7aHBKouK08ers38yaOTIyclC1WrW33e0x7ixKwxk7TqBOghannV1fN4qiE4vF4q+nNzTjmcaG2wQANtV9lnvDC9LmvFXQ3CFcISJ/ujtmPhEAfuUuTO6eXhsfH59XKpX+lyaygpZGvam2Tc/zM7O9TJLqmI27Zsb2dBsRzTiZEteLghZXsVnqR1F0WrFYfPNNx/UlCAJ72bfsMFSerj7t4p0LCprbIbuJiJZMd7l+/frCpk2bHnV0QWWbe3u0+nIReRIR7SWeczNIF9GwP0kkU9CSqNbERkTGd9ppp/mNEtsFQbAAETc4CreRiA6f7mt4ePgDhUKh4Tm1uHHtkzQiHk9Ez8W1bVRfQXOhYp2P2dKPMrPdKzw/bUhEPM73/d808sPMNqWXi1y7Tt+JpaClHfWZ9i+Oj48fWSqV/j39T66SvMz2HidHyyk7VJIX90PcPR6bZk90cbnXpofwff/JJjOafZPyeSmk2OHSVqXQortNEfGJycnJTw4NDTU87eogEd8GIpqRWjUMw3eKyGYA2CWpQr2YiG//QqHg5IdkUtE6bDfrtk3a1KIissoYs/0+QrlcPh0RRxGxZW6OZrr0ZGpR2xlmtlsyx3d4wDsWXkSWGmNuaNaAIAjWIeKXUjTwXwDwvIjsmgYwG7/ZBZsUbZtimtnDgI1SS2z8fQB4l6sG95ifLQBwAhE1PdjJzPbV2td1sl+IeInv+y6yDzXtRqag1WD7aO1T+6FOitnJ2PaExWzxXTwgJOzfSyKyzBjzo4T2bZtlDlrbLenzivZWu51ZMro11UjdtTbtRLOnV9fDoaC5VjSlvxyAW+t53trBwcE/pGxqLHMFLZZc+VWu5e1Y5PI1ip7n3Zo3YNsUU9DyYydRpDQvhq3trd6/Q78YNpGqatRSAX3VdUuJtEI/K6Bfnf08+jn2XUHLUex+DqWg9fPo59h3BS1Hsfs5lILWz6OfY98VtBzF7udQClo/j36OfVfQchS7n0MpaP08+jn2XUHLUex+DqWg9fPo59h3BS1Hsfs5lILWz6OfY98VtBzF7udQClo/j36OfVfQchS7n0P9H/gjHdvP/Qy/AAAAAElFTkSuQmCC&#39;; /** * @type {HTMLImageElement} */ const node = e.target; if (node.nodeName &amp;&amp; node.nodeName.toLocaleLowerCase() === &quot;img&quot;) { node.style.objectFit = &quot;cover&quot;; node.src = defaultImg; } }, true); å¤åˆ¶åŠŸèƒ½ç¿» Clipboard.js è¿™ä¸ªæ’ä»¶åº“æºç çš„æ—¶å€™æ‰¾åˆ°æ ¸å¿ƒä»£ç  setSelectionRange(start: number, end: number)ï¼Œç™¾åº¦ä¸Šæœåˆ°çš„å¤åˆ¶åŠŸèƒ½å…¨éƒ¨éƒ½å°‘äº†è¿™ä¸ªæ“ä½œï¼Œæ‰€ä»¥æœåˆ°çš„å¤åˆ¶æ–‡æœ¬ä»£ç åœ¨ ios å’Œ IE ç­‰ä¸€äº›æµè§ˆå™¨ä¸Šå¤åˆ¶ä¸äº†ã€‚ /** * å¤åˆ¶æ–‡æœ¬ * @param {string} text å¤åˆ¶çš„å†…å®¹ * @param {() =&gt; void} success æˆåŠŸå›è°ƒ * @param {(tip: string) =&gt; void} fail å‡ºé”™å›è°ƒ */ function copyText(text, success = null, fail = null) { text = text.replace(/(^\\s*)|(\\s*$)/g, &quot;&quot;); if (!text) { typeof fail === &quot;function&quot; &amp;&amp; fail(&quot;å¤åˆ¶çš„å†…å®¹ä¸èƒ½ä¸ºç©ºï¼&quot;); return; } const id = &quot;the-clipboard&quot;; /** * ç²˜è´´æ¿èŠ‚ç‚¹ * @type {HTMLTextAreaElement} */ let clipboard = document.getElementById(id); if (!clipboard) { clipboard = document.createElement(&quot;textarea&quot;); clipboard.id = id; clipboard.readOnly = true clipboard.style.cssText = &quot;font-size: 15px; position: fixed; top: -1000%; left: -1000%;&quot;; document.body.appendChild(clipboard); } clipboard.value = text; clipboard.select(); clipboard.setSelectionRange(0, text.length); const state = document.execCommand(&quot;copy&quot;); if (state) { typeof success === &quot;function&quot; &amp;&amp; success(); } else { typeof fail === &quot;function&quot; &amp;&amp; fail(&quot;å¤åˆ¶å¤±è´¥&quot;); } } æ£€æµ‹ç±»å‹/** * æ£€æµ‹ç±»å‹ * @param {any} target æ£€æµ‹çš„ç›®æ ‡ * @returns {&quot;string&quot;|&quot;number&quot;|&quot;array&quot;|&quot;object&quot;|&quot;function&quot;|&quot;null&quot;|&quot;undefined&quot;} åªæšä¸¾ä¸€äº›å¸¸ç”¨çš„ç±»å‹ */ function checkType(target) { /** @type {string} */ const value = Object.prototype.toString.call(target); const result = value.match(/\\[object (\\S*)\\]/)[1]; return result.toLocaleLowerCase(); } æ ¼å¼åŒ–æ—¥æœŸï¼ˆä»£ç æå°‘ç‰ˆï¼‰/** * è·å–æŒ‡å®šæ—¥æœŸæ—¶é—´æˆ³ * @param {number} time æ¯«ç§’æ•° */ function getDateFormat(time = Date.now()) { const date = new Date(time); return `${date.toLocaleDateString()} ${date.toTimeString().slice(0, 8)}`; } jså°æ•°ç²¾åº¦è®¡ç®—/** * æ•°å­—è¿ç®—ï¼ˆä¸»è¦ç”¨äºå°æ•°ç‚¹ç²¾åº¦é—®é¢˜ï¼‰ * @param {number} a å‰é¢çš„å€¼ * @param {&quot;+&quot;|&quot;-&quot;|&quot;*&quot;|&quot;/&quot;} type è®¡ç®—æ–¹å¼ * @param {number} b åé¢çš„å€¼ * @example * ```js * // å¯é“¾å¼è°ƒç”¨ * const res = computeNumber(1.3, &quot;-&quot;, 1.2).next(&quot;+&quot;, 1.5).next(&quot;*&quot;, 2.3).next(&quot;/&quot;, 0.2).result; * console.log(res); * */function computeNumber(a, type, b) { /** * è·å–æ•°å­—å°æ•°ç‚¹çš„é•¿åº¦ * @param {number} n æ•°å­— */ function getDecimalLength(n) { const decimal = n.toString().split(&quot;.&quot;)[1]; return decimal ? decimal.length : 0; } /** * ä¿®æ­£å°æ•°ç‚¹ * @description é˜²æ­¢å‡ºç° `33.33333*100000 = 3333332.9999999995` &amp;&amp; `33.33*10 = 333.29999999999995` è¿™ç±»æƒ…å†µåšçš„å¤„ç† * @param {number} n */ const amend = (n, precision = 15) =&gt; parseFloat(Number(n).toPrecision(precision)); const power = Math.pow(10, Math.max(getDecimalLength(a), getDecimalLength(b))); let result = 0; a = amend(a * power); b = amend(b * power); switch (type) { case &quot;+&quot;: result = (a + b) / power; break; case &quot;-&quot;: result = (a - b) / power; break; case &quot;*&quot;: result = (a * b) / (power * power); break; case &quot;/&quot;: result = a / b; break; } result = amend(result); return { /** è®¡ç®—ç»“æœ */ result, /** * ç»§ç»­è®¡ç®— * @param {&quot;+&quot;|&quot;-&quot;|&quot;*&quot;|&quot;/&quot;} nextType ç»§ç»­è®¡ç®—æ–¹å¼ * @param {number} nextValue ç»§ç»­è®¡ç®—çš„å€¼ */ next(nextType, nextValue) { return computeNumber(result, nextType, nextValue); } }; } ## ä¸€è¡Œcssé€‚é…rem 750æ˜¯è®¾è®¡ç¨¿çš„å®½åº¦ï¼šä¹‹åçš„å•ä½ç›´æ¥1:1ä½¿ç”¨è®¾è®¡ç¨¿çš„å¤§å°ï¼Œå•ä½æ˜¯rem ```javascript html{ font-size: calc(100vw / 750); } å¥½ç”¨çš„æ ¼å¼åŒ–æ—¥æœŸæ–¹æ³•/** * æ ¼å¼åŒ–æ—¥æœŸ * @param {string | number | Date} value æŒ‡å®šæ—¥æœŸ * @param {string} format æ ¼å¼åŒ–çš„è§„åˆ™ * @example * ```js * formatDate(); * formatDate(1603264465956); * formatDate(1603264465956, &quot;h:m:s&quot;); * formatDate(1603264465956, &quot;Yå¹´MæœˆDæ—¥&quot;); * */function formatDate(value = Date.now(), format = &quot;Y-M-D h:m:s&quot;) { const formatNumber = n =&gt; 0${n}.slice(-2); const date = new Date(value); const formatList = [&quot;Y&quot;, &quot;M&quot;, &quot;D&quot;, &quot;h&quot;, &quot;m&quot;, &quot;s&quot;]; const resultList = []; resultList.push(date.getFullYear().toString()); resultList.push(formatNumber(date.getMonth() + 1)); resultList.push(formatNumber(date.getDate())); resultList.push(formatNumber(date.getHours())); resultList.push(formatNumber(date.getMinutes())); resultList.push(formatNumber(date.getSeconds())); for (let i = 0; i &lt; resultList.length; i++) { format = format.replace(formatList[i], resultList[i]); } return format;} ## ç½‘é¡µå®šä½ è¿™é‡Œä½¿ç”¨ç™¾åº¦å®šä½ï¼Œæ— è®ºä»£ç å°è£…ã€è°ƒç”¨æ–¹å¼è¿˜æ˜¯ä½ç½®å‡†ç¡®æ€§éƒ½æ¯”å¾®ä¿¡sdké‚£ä¸ªå¥½ç”¨å¤ªå¤šäº†ï¼ŒåŒ…æ‹¬åœ¨ä»»ä½•ç½‘é¡µç«¯ï¼› [æ–‡æ¡£è¯´æ˜](http://lbsyun.baidu.com/index.php?title=jspopularGL/guide/getkey) [è·å–ç™¾åº¦åœ°å›¾key](http://lbsyun.baidu.com/apiconsole/key#/home) ```javascript /** * æ’å…¥è„šæœ¬ * @param {string} link è„šæœ¬è·¯å¾„ * @param {Function} callback è„šæœ¬åŠ è½½å®Œæˆå›è°ƒ */ function insertScript(link, callback) { const label = document.createElement(&quot;script&quot;); label.src = link; label.onload = function () { if (label.parentNode) label.parentNode.removeChild(label); if (typeof callback === &quot;function&quot;) callback(); } document.body.appendChild(label); } /** * è·å–å®šä½ä¿¡æ¯ * @returns {Promise&lt;{ city: string, districtName: string, province: string, longitude: number, latitude: number }&gt;} */ function getLocationInfo() { /** * ä½¿ç”¨ç™¾åº¦å®šä½ * @param {(value: any) =&gt; void} callback */ function useBaiduLocation(callback) { const geolocation = new BMap.Geolocation({ maximumAge: 10 }) geolocation.getCurrentPosition(function(res) { console.log(&quot;%c ä½¿ç”¨ç™¾åº¦å®šä½ &gt;&gt;&quot;, &quot;background-color: #4e6ef2; padding: 2px 6px; color: #fff; border-radius: 2px&quot;, res); callback({ city: res.address.city, districtName: res.address.district, province: res.address.province, longitude: Number(res.longitude), latitude: Number(res.latitude) }) }) } return new Promise(function (resolve, reject) { if (!window._baiduLocation) { window._baiduLocation = function () { useBaiduLocation(resolve); } // ak=ä½ è‡ªå·±çš„key insertScript(&quot;https://api.map.baidu.com/api?v=2.0&amp;ak=66vCKv7PtNlOprFEe9kneTHEHl8DY1mR&amp;callback=_baiduLocation&quot;); } else { useBaiduLocation(resolve); } }) } è¾“å…¥ä¿ç•™æ•°å­—&lt;input type=&quot;text&quot;&gt;ä½¿ç”¨åœºæ™¯ï¼šç”¨æˆ·åœ¨è¾“å…¥æ¡†è¾“å…¥å†…å®¹æ—¶ï¼Œå®æ—¶è¿‡æ»¤ä¿æŒæ•°å­—å€¼æ˜¾ç¤ºï¼› tipsï¼šåœ¨Firefoxä¸­è®¾ç½® &lt;input type=&quot;number&quot;&gt; ä¼šæœ‰æ ·å¼ bug /** * è¾“å…¥åªèƒ½æ˜¯æ•°å­— * @param {string | number} value è¾“å…¥çš„å€¼ * @param {boolean} decimal æ˜¯å¦è¦ä¿ç•™å°æ•° * @param {boolean} negative æ˜¯å¦å¯ä»¥ä¸ºè´Ÿæ•° */ function inputOnlyNumber(value, decimal, negative) { let result = value.toString().trim(); if (result.length === 0) return &quot;&quot;; const minus = (negative &amp;&amp; result[0] == &quot;-&quot;) ? &quot;-&quot; : &quot;&quot;; if (decimal) { result = result.replace(/[^0-9.]+/ig, &quot;&quot;); let array = result.split(&quot;.&quot;); if (array.length &gt; 1) { result = array[0] + &quot;.&quot; + array[1]; } } else { result = result.replace(/[^0-9]+/ig, &quot;&quot;); } return minus + result; } Intl.NumberFormatï¼ˆæ ¼å¼åŒ–æ•°å­—ï¼‰ ç°åœ¨JSæä¾›äº†ä¸€ä¸ªæ›´åŠ å¯ç”¨å’Œè§„èŒƒåŒ–çš„APIâ€”â€”Intl.NumberFormatã€‚å¯¹äºå¸¸ç”¨çš„è´§å¸æ ¼å¼åŒ–éƒ½æœ‰è‰¯å¥½çš„æ”¯æŒã€‚ æ¨èä½¿ç”¨ new Intl.NumberFormat().format(123456.789); // æ˜¾ç¤ºç»“æœä¸ºï¼š123,456.789 new Intl.NumberFormat(&#39;ja-JP&#39;, { style: &#39;currency&#39;, currency: &#39;JPY&#39; }).format(12345.678); // ç»“æœæ˜¾ç¤ºä¸ºï¼š&quot;ï¿¥12,346&quot; æ­£åˆ™è¡¨è¾¾å¼ ï¼ˆå¤æ—©çš„åšæ³•ï¼‰ const number = 1234567; number.toString().replace(/(\\d)(?=(?:\\d{3})+$)/g, &#39;$1,&#39;); // ç»“æœä¸ºï¼š1,234,567 Date API const number = 123456.789; number.toLocaleString();// ç»“æœä¸ºï¼š123,456.789 åŠ å¯†base64åŠ å¯†var str = &#39;hello&#39;; var str64 = window.btoa(str); console.log(&#39;ç»base64ç¼–ç åï¼š&#39;+ str64); // ç»base64ç¼–ç åï¼šaGVsbG8= console.log(&#39;ç»base64è§£ç åï¼š&#39; + window.atob(str64)); // ç»base64è§£ç åï¼šhello ç¼–ç å’Œè§£ç å­—ç¬¦ä¸²ä½¿ç”¨JSå‡½æ•°çš„escape()å’Œunescape()ï¼Œåˆ†åˆ«æ˜¯ç¼–ç å’Œè§£ç å­—ç¬¦ä¸² var escape1 = escape(&#39;æˆ‘çš„åå­—æ˜¯ï¼šNeo&#39;); // ç¼–ç  var unescape1 = unescape(escape1); // è§£ç  console.log(escape1) // %u6211%u7684%u540D%u5B57%u662F%uFF1ANeo console.log(unescape1) // &quot;æˆ‘çš„åå­—æ˜¯ï¼šNeo&quot; lucky-canvasã€å¤§è½¬ç›˜/ä¹å®«æ ¼ã€‘æŠ½å¥–lucky-canvasã€å¤§è½¬ç›˜/ä¹å®«æ ¼ã€‘æŠ½å¥– FineBIå¤§å±FineBIå¤§å± å¤§å±æ•°æ®å±•ç¤ºæ¨¡æ¿å¤§å±æ•°æ®å±•ç¤ºæ¨¡æ¿ jsæ‹–åŠ¨æ»‘å—éªŒè¯åŠŸèƒ½&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;æ»‘å—è§£é”å°è£…jsæ–¹æ³•&lt;/title&gt; &lt;!--æ³¨ï¼šè¿™é‡Œé¦–æ¬¡ç”¨åˆ°äº†iconfontçš„è¯­æ³•ï¼Œå³çŸ¢é‡å›¾æ ‡--&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;font/iconfont.css&quot; /&gt; &lt;style&gt; * { padding: 0; margin: 0; } #box { position: relative; width: 300px; height: 40px; margin: 0 auto; margin-top: 10px; background-color: #e8e8e8; box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2); } .bgColor { position: absolute; left: 0; top: 0; width: 40px; height: 40px; background-color: lightblue; } .txt { position: absolute; width: 100%; height: 40px; line-height: 40px; font-size: 14px; color: #000; text-align: center; } .slider { position: absolute; left: 0; top: 0; width: 50px; height: 38px; border: 1px solid #ccc; background: #fff; text-align: center; cursor: move; } .slider &gt; i { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); } .slider.active &gt; i { color: green; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;box&quot; onselectstart=&quot;return false;&quot;&gt; &lt;div class=&quot;bgColor&quot;&gt;&lt;/div&gt; &lt;div class=&quot;txt&quot;&gt;æ»‘åŠ¨è§£é”&lt;/div&gt; &lt;!--ç»™iæ ‡ç­¾æ·»åŠ ä¸Šç›¸åº”å­—ä½“å›¾æ ‡çš„ç±»åå³å¯--&gt; &lt;div class=&quot;slider&quot;&gt;&lt;i class=&quot;iconfont icon-double-right&quot;&gt;&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;script&gt; //ä¸€ã€å®šä¹‰äº†ä¸€ä¸ªè·å–å…ƒç´ çš„æ–¹æ³• function getEle(selector) { return document.querySelector(selector) } //äºŒã€è·å–åˆ°éœ€è¦ç”¨åˆ°çš„DOMå…ƒç´  var box = getEle(&quot;#box&quot;), //å®¹å™¨ bgColor = getEle(&quot;.bgColor&quot;), //èƒŒæ™¯è‰² txt = getEle(&quot;.txt&quot;), //æ–‡æœ¬ slider = getEle(&quot;.slider&quot;), //æ»‘å— icon = getEle(&quot;.slider&gt;i&quot;), successMoveDistance = box.offsetWidth - slider.offsetWidth, //è§£é”éœ€è¦æ»‘åŠ¨çš„è·ç¦» downX, //ç”¨äºå­˜æ”¾é¼ æ ‡æŒ‰ä¸‹æ—¶çš„ä½ç½® isSuccess = false //æ˜¯å¦è§£é”æˆåŠŸçš„æ ‡å¿—ï¼Œé»˜è®¤ä¸æˆåŠŸ //ä¸‰ã€ç»™æ»‘å—æ·»åŠ é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶ slider.onmousedown = mousedownHandler //3.1é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶çš„æ–¹æ³•å®ç° function mousedownHandler(e) { bgColor.style.transition = &quot;&quot; slider.style.transition = &quot;&quot; var e = e || window.event || e.which downX = e.clientX //åœ¨é¼ æ ‡æŒ‰ä¸‹æ—¶ï¼Œåˆ†åˆ«ç»™é¼ æ ‡æ·»åŠ ç§»åŠ¨å’Œæ¾å¼€äº‹ä»¶ document.onmousemove = mousemoveHandler document.onmouseup = mouseupHandler } //å››ã€å®šä¹‰ä¸€ä¸ªè·å–é¼ æ ‡å½“å‰éœ€è¦ç§»åŠ¨å¤šå°‘è·ç¦»çš„æ–¹æ³• function getOffsetX(offset, min, max) { if (offset &lt; min) { offset = min } else if (offset &gt; max) { offset = max } return offset } //3.1.1é¼ æ ‡ç§»åŠ¨äº‹ä»¶çš„æ–¹æ³•å®ç° function mousemoveHandler(e) { var e = e || window.event || e.which var moveX = e.clientX var offsetX = getOffsetX(moveX - downX, 0, successMoveDistance) bgColor.style.width = offsetX + &quot;px&quot; slider.style.left = offsetX + &quot;px&quot; if (offsetX == successMoveDistance) { success() } //å¦‚æœä¸è®¾ç½®æ»‘å—æ»‘åŠ¨æ—¶ä¼šå‡ºç°é—®é¢˜ï¼ˆç›®å‰è¿˜ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼‰ e.preventDefault() } //3.1.2é¼ æ ‡æ¾å¼€äº‹ä»¶çš„æ–¹æ³•å®ç° function mouseupHandler(e) { if (!isSuccess) { bgColor.style.width = 0 + &quot;px&quot; slider.style.left = 0 + &quot;px&quot; bgColor.style.transition = &quot;width 0.8s linear&quot; slider.style.transition = &quot;left 0.8s linear&quot; } document.onmousemove = null document.onmouseup = null } //äº”ã€å®šä¹‰ä¸€ä¸ªæ»‘å—è§£é”æˆåŠŸçš„æ–¹æ³• function success() { isSuccess = true txt.innerHTML = &quot;è§£é”æˆåŠŸ&quot; bgColor.style.backgroundColor = &quot;lightgreen&quot; slider.className = &quot;slider active&quot; icon.className = &quot;iconfont icon-xuanzhong&quot; //æ»‘åŠ¨æˆåŠŸæ—¶ï¼Œç§»é™¤é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶å’Œé¼ æ ‡ç§»åŠ¨äº‹ä»¶ slider.onmousedown = null document.onmousemove = null } &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; canvaså®ç°è´ªåƒè›‡åŸæ–‡ &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;è´ªåƒè›‡&lt;/title&gt; &lt;style&gt; body { background-color: #eee; } .container { text-align: center; } .top { margin: 20px auto; width: 640px; } #score { float: left; } .main { position: absolute; left: 50%; transform: translateX(-50%); width: 642px; height: 402px; } #snake { border: 1px solid #000; width: 640px; height: 400px; display: inline-block; z-index: 99; background-color: rgba(0, 0, 0, .1); } #mask { background-color: rgba(0, 0, 0, .5); position: absolute; left: 0; top: 0; width: 100%; height: 100%; z-index: 100; display: block; color: #fff; line-height: 400px; text-align: center; font-size: 30px; cursor: pointer; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;top&quot;&gt; &lt;span id=&quot;score&quot;&gt;Score: 0&lt;/span&gt; &lt;button id=&quot;restart&quot;&gt;é‡æ–°å¼€å§‹&lt;/button&gt; &lt;button id=&quot;stop&quot;&gt;æš‚åœ&lt;/button&gt; &lt;button id=&quot;continue&quot;&gt;ç»§ç»­&lt;/button&gt; &lt;/div&gt; &lt;div class=&quot;main&quot;&gt; &lt;canvas id=&quot;snake&quot; width=&quot;640&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt; &lt;div id=&quot;mask&quot;&gt;å¼€å§‹&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;script&gt; let greedySnake = null let score = document.querySelector(&#39;#score&#39;) let restart = document.querySelector(&#39;#restart&#39;) let stop = document.querySelector(&#39;#stop&#39;) let conti = document.querySelector(&#39;#continue&#39;) let mask = document.querySelector(&#39;#mask&#39;) restart.onclick = () =&gt; { if (!greedySnake.isStart) return greedySnake.start() } stop.onclick = () =&gt; { if (greedySnake.isStop || !greedySnake.isStart) return greedySnake.stop() } conti.onclick = () =&gt; { if (!greedySnake.isStop || !greedySnake.isStart) return greedySnake.continue() } mask.onclick = () =&gt; { if (!greedySnake.isStart) { greedySnake.start() } else { greedySnake.continue() } } // å¤§å°ä¸º64 * 40 class GreedySnake { constructor() { this.canvas = document.querySelector(&#39;#snake&#39;) this.ctx = this.canvas.getContext(&#39;2d&#39;) this.maxX = 64 // æœ€å¤§è¡Œ this.maxY = 40 // æœ€å¤§åˆ— this.itemWidth = 10 // æ¯ä¸ªç‚¹çš„å¤§å° this.direction = &#39;right&#39;// up down right left æ–¹å‘ this.speed = 150 // ms é€Ÿåº¦ this.isStop = false // æ˜¯å¦æš‚åœ this.isOver = false // æ˜¯å¦ç»“æŸ this.isStart = false // æ˜¯å¦å¼€å§‹ this.score = 0 // åˆ†æ•° this.timer = null // ç§»åŠ¨å®šæ—¶å™¨ this.j = 1 this.canChange = true this.grid = new Array() for (let i = 0; i &lt; this.maxX; i++) { for (let j = 0; j &lt; this.maxY; j++) { this.grid.push([i, j]) } } this.drawGridLine() this.getDirection() } // å¼€å§‹ start() { if (this.timer) { clearTimeout(this.timer) } if (!this.isStart) { this.isStart = true } this.score = 0 this.speed = 150 this.isStop = false this.isOver = false this.direction = &#39;right&#39; this.createSnake() this.createFood() this.draw() this.move() mask.style.display = &#39;none&#39; } // åˆ›å»ºè›‡ä¸»ä½“ createSnake() { this.snake = [ [4, 25], [3, 25], [2, 25], [1, 25], [0, 25] ] } // ç§»åŠ¨ move() { if (this.isStop) return let [x, y] = this.snake[0] switch(this.direction) { case &#39;left&#39;: x-- break case &#39;right&#39;: x++ break case &#39;up&#39;: y-- break case &#39;down&#39;: y++ break } // å¦‚æœä¸‹ä¸€æ­¥ä¸æ˜¯é£Ÿç‰©çš„ä½ç½® if (x !== this.food[0] || y !== this.food[1]) { this.snake.pop() } else { this.createFood() } if (this.over([x, y])) { this.isOver = true mask.style.display = &#39;block&#39; mask.innerHTML = &#39;ç»“æŸ&#39; return } if (this.completed()) { mask.style.display = &#39;block&#39; mask.innerHTML = &#39;æ­å–œæ‚¨ï¼Œæ¸¸æˆé€šå…³&#39; return } this.snake.unshift([x, y]) this.draw() this.canChange = true this.timer = setTimeout(() =&gt; this.move(), this.speed) } // æš‚åœæ¸¸æˆ stop() { if (this.isOver) return this.isStop = true mask.style.display = &#39;block&#39; mask.innerHTML = &#39;æš‚åœ&#39; } // ç»§ç»­æ¸¸æˆ continue() { if (this.isOver) return this.isStop = false this.move() mask.style.display = &#39;none&#39; } getDirection() { // ä¸Š38 ä¸‹40 å·¦37 å³39 ä¸èƒ½å¾€ç›¸åçš„æ–¹å‘èµ° document.onkeydown = (e) =&gt; { // åœ¨è´ªåƒè›‡ç§»åŠ¨çš„é—´éš”å†…ä¸èƒ½è¿ç»­æ”¹å˜ä¸¤æ¬¡æ–¹å‘ if (!this.canChange) return switch(e.keyCode) { case 37: if (this.direction !== &#39;right&#39;) { this.direction = &#39;left&#39; this.canChange = false } break case 38: if (this.direction !== &#39;down&#39;) { this.direction = &#39;up&#39; this.canChange = false } break case 39: if (this.direction !== &#39;left&#39;) { this.direction = &#39;right&#39; this.canChange = false } break case 40: if (this.direction !== &#39;up&#39;) { this.direction = &#39;down&#39; this.canChange = false } break case 32: // ç©ºæ ¼æš‚åœä¸ç»§ç»­ if (!this.isStop) { this.stop() } else { this.continue() } break } } } createPos() { let [x, y] = this.grid[(Math.random() * this.grid.length) | 0] for (let i = 0; i &lt; this.snake.length; i++) { if (this.snake[i][0] == x &amp;&amp; this.snake[i][1] == y) { return this.createPos() } } return [x, y] } // ç”Ÿæˆé£Ÿç‰© createFood() { this.food = this.createPos() // æ›´æ–°åˆ†æ•° score.innerHTML = &#39;Score: &#39;+ this.score++ if (this.speed &gt; 50) { this.speed-- } } // ç»“æŸ over([x, y]) { if (x &lt; 0 || x &gt;= this.maxX || y &lt; 0 || y &gt;= this.maxY) { return true } if (this.snake.some(v =&gt; v[0] === x &amp;&amp; v[1] === y)) { return true } } // å®Œæˆ completed() { if (this.snake.length == this.maxX * this.maxY) { return true } } // ç½‘æ ¼çº¿ drawGridLine() { for (let i = 1; i &lt; this.maxY; i++) { this.ctx.moveTo(0, i * this.itemWidth) this.ctx.lineTo(this.canvas.width, i * this.itemWidth) } for (let i = 1; i &lt; this.maxX; i++) { this.ctx.moveTo(i * this.itemWidth, 0) this.ctx.lineTo(i * this.itemWidth, this.canvas.height) } this.ctx.lineWidth = 1 this.ctx.strokeStyle = &#39;#ddd&#39; this.ctx.stroke() } // ç»˜åˆ¶ draw() { // æ¸…ç©ºç”»å¸ƒ this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height) this.drawGridLine() this.ctx.fillStyle=&quot;#000&quot; this.ctx.fillRect( this.food[0] * this.itemWidth + this.j, this.food[1] * this.itemWidth + this.j, this.itemWidth - this.j * 2, this.itemWidth - + this.j * 2 ) this.j ^= 1 this.ctx.fillStyle=&quot;green&quot; this.ctx.fillRect( this.snake[0][0] * this.itemWidth + 0.5, this.snake[0][1] * this.itemWidth + 0.5, this.itemWidth - 1, this.itemWidth - 1 ) this.ctx.fillStyle=&quot;red&quot; for (let i = 1; i &lt; this.snake.length; i++) { this.ctx.fillRect( this.snake[i][0] * this.itemWidth + 0.5, this.snake[i][1] * this.itemWidth + 0.5, this.itemWidth - 1, this.itemWidth - 1 ) } } } greedySnake = new GreedySnake() &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; canvaså®ç°å¸¦ç¬”é”‹æ‰‹å†™ç¬”è®°&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot; /&gt; &lt;title&gt;canvas æ‰‹å†™æ¯›ç¬”å­—æ•ˆæœ&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; #canvasId { background-color: #ffffcc; } &lt;/style&gt; &lt;/head&gt; &lt;body style=&quot;touch-action: none&quot;&gt; &lt;canvas id=&quot;canvasId&quot; width=&quot;800&quot; height=&quot;720&quot;&gt;&lt;/canvas&gt;&lt;br /&gt; &lt;script&gt; Array.prototype.clone = function () { return [].concat(this) //æˆ–è€… return this.concat(); } class Point { constructor(x, y, time) { this.x = x this.y = y this.isControl = false this.time = Date.now() this.lineWidth = 0 this.isAdd = false } } class Line { constructor() { this.points = new Array() this.changeWidthCount = 0 this.lineWidth = 10 } } class HandwritingSelf { constructor(canvas) { this.canvas = canvas this.ctx = canvas.getContext(&quot;2d&quot;) // this.points = new Array(); this.line = new Line() this.pointLines = new Array() //Lineæ•°ç»„ this.k = 0.5 this.begin = null this.middle = null this.end = null this.preTime = null this.lineWidth = 8 this.isDown = false } down(x, y) { this.isDown = true this.line = new Line() this.line.lineWidth = this.lineWidth let currentPoint = new Point(x, y, Date.now()) this.addPoint(currentPoint) this.preTime = Date.now() } move(x, y) { // console.log(&quot;move:&quot;,x,y) if (this.isDown) { let currentPoint = new Point(x, y, Date.now()) this.addPoint(currentPoint) this.draw() } } up(x, y) { // if (e.touches.length &gt; 0) { let currentPoint = new Point(x, y, Date.now()) this.addPoint(currentPoint) // } this.draw(true) this.pointLines.push(this.line) this.begin = null this.middle = null this.end = null this.isDown = false } draw(isUp = false) { this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height) this.ctx.strokeStyle = &quot;rgba(255,20,87,1)&quot; //ç»˜åˆ¶ä¸åŒ…å«this.lineçš„çº¿æ¡ this.pointLines.forEach((line, index) =&gt; { let points = line.points this.ctx.beginPath() this.ctx.ellipse( points[0].x - 1.5, points[0].y, 6, 3, Math.PI / 4, 0, Math.PI * 2 ) this.ctx.fill() this.ctx.beginPath() this.ctx.moveTo(points[0].x, points[0].y) let lastW = line.lineWidth this.ctx.lineWidth = line.lineWidth this.ctx.lineJoin = &quot;round&quot; this.ctx.lineCap = &quot;round&quot; let minLineW = line.lineWidth / 4 let isChangeW = false let changeWidthCount = line.changeWidthCount for (let i = 1; i &lt;= points.length; i++) { if (i == points.length) { this.ctx.stroke() break } if (i &gt; points.length - changeWidthCount) { if (!isChangeW) { this.ctx.stroke() //å°†ä¹‹å‰çš„çº¿æ¡ä¸å˜çš„pathç»˜åˆ¶å®Œ isChangeW = true if (i &gt; 1 &amp;&amp; points[i - 1].isControl) continue } let w = ((lastW - minLineW) / changeWidthCount) * (points.length - i) + minLineW points[i - 1].lineWidth = w this.ctx.beginPath() //ä¸ºäº†å¼€å¯æ–°çš„è·¯å¾„ å¦åˆ™æ¯æ¬¡stroke éƒ½ä¼šæŠŠä¹‹å‰çš„è·¯å¾„åœ¨æä¸€é // this.ctx.strokeStyle = &quot;rgba(&quot;+Math.random()*255+&quot;,&quot;+Math.random()*255+&quot;,&quot;+Math.random()*255+&quot;,1)&quot;; this.ctx.lineWidth = w this.ctx.moveTo(points[i - 1].x, points[i - 1].y) //ç§»åŠ¨åˆ°ä¹‹å‰çš„ç‚¹ this.ctx.lineTo(points[i].x, points[i].y) this.ctx.stroke() //å°†ä¹‹å‰çš„çº¿æ¡ä¸å˜çš„pathç»˜åˆ¶å®Œ } else { if (points[i].isControl &amp;&amp; points[i + 1]) { this.ctx.quadraticCurveTo( points[i].x, points[i].y, points[i + 1].x, points[i + 1].y ) } else if (i &gt;= 1 &amp;&amp; points[i - 1].isControl) { //ä¸Šä¸€ä¸ªæ˜¯æ§åˆ¶ç‚¹ å½“å‰ç‚¹å·²ç»è¢«ç»˜åˆ¶ } else this.ctx.lineTo(points[i].x, points[i].y) } } }) //ç»˜åˆ¶this.lineçº¿æ¡ let points if (isUp) points = this.line.points else points = this.line.points.clone() //å½“å‰ç»˜åˆ¶çš„çº¿æ¡æœ€åå‡ ä¸ªè¡¥ç‚¹ è´å¡å°”æ–¹å¼å¢åŠ ç‚¹ let count = 0 let insertCount = 0 let i = points.length - 1 let endPoint = points[i] let controlPoint let startPoint while (i &gt;= 0) { if (points[i].isControl == true) { controlPoint = points[i] count++ } else { startPoint = points[i] } if (startPoint &amp;&amp; controlPoint &amp;&amp; endPoint) { //ä½¿ç”¨è´å¡å°”è®¡ç®—è¡¥ç‚¹ let dis = this.z_distance(startPoint, controlPoint) + this.z_distance(controlPoint, endPoint) let insertPoints = this.BezierCalculate( [startPoint, controlPoint, endPoint], Math.floor(dis / 6) + 1 ) insertCount += insertPoints.length var index = i //æ’å…¥ä½ç½® // æŠŠinsertPoints å˜æˆä¸€ä¸ªé€‚åˆspliceçš„æ•°ç»„ï¼ˆåŒ…å«spliceå‰2ä¸ªå‚æ•°çš„æ•°ç»„ï¼‰ insertPoints.unshift(index, 1) Array.prototype.splice.apply(points, insertPoints) //è¡¥å®Œç‚¹å endPoint = startPoint startPoint = null } if (count &gt;= 6) break i-- } //ç¡®å®šæœ€åçº¿å®½å˜åŒ–çš„ç‚¹æ•° let changeWidthCount = count + insertCount if (isUp) this.line.changeWidthCount = changeWidthCount //åˆ¶é€ æ¤­åœ†å¤´ this.ctx.fillStyle = &quot;rgba(255,20,87,1)&quot; this.ctx.beginPath() this.ctx.ellipse( points[0].x - 1.5, points[0].y, 6, 3, Math.PI / 4, 0, Math.PI * 2 ) this.ctx.fill() this.ctx.beginPath() this.ctx.moveTo(points[0].x, points[0].y) let lastW = this.line.lineWidth this.ctx.lineWidth = this.line.lineWidth this.ctx.lineJoin = &quot;round&quot; this.ctx.lineCap = &quot;round&quot; let minLineW = this.line.lineWidth / 4 let isChangeW = false for (let i = 1; i &lt;= points.length; i++) { if (i == points.length) { this.ctx.stroke() break } //æœ€åçš„ä¸€äº›ç‚¹çº¿å®½å˜ç»† if (i &gt; points.length - changeWidthCount) { if (!isChangeW) { this.ctx.stroke() //å°†ä¹‹å‰çš„çº¿æ¡ä¸å˜çš„pathç»˜åˆ¶å®Œ isChangeW = true if (i &gt; 1 &amp;&amp; points[i - 1].isControl) continue } //è®¡ç®—çº¿å®½ let w = ((lastW - minLineW) / changeWidthCount) * (points.length - i) + minLineW points[i - 1].lineWidth = w this.ctx.beginPath() //ä¸ºäº†å¼€å¯æ–°çš„è·¯å¾„ å¦åˆ™æ¯æ¬¡stroke éƒ½ä¼šæŠŠä¹‹å‰çš„è·¯å¾„åœ¨æä¸€é // this.ctx.strokeStyle = &quot;rgba(&quot; + Math.random() * 255 + &quot;,&quot; + Math.random() * 255 + &quot;,&quot; + Math.random() * 255 + &quot;,0.5)&quot;; this.ctx.lineWidth = w this.ctx.moveTo(points[i - 1].x, points[i - 1].y) //ç§»åŠ¨åˆ°ä¹‹å‰çš„ç‚¹ this.ctx.lineTo(points[i].x, points[i].y) this.ctx.stroke() //å°†ä¹‹å‰çš„çº¿æ¡ä¸å˜çš„pathç»˜åˆ¶å®Œ } else { if (points[i].isControl &amp;&amp; points[i + 1]) { this.ctx.quadraticCurveTo( points[i].x, points[i].y, points[i + 1].x, points[i + 1].y ) } else if (i &gt;= 1 &amp;&amp; points[i - 1].isControl) { //ä¸Šä¸€ä¸ªæ˜¯æ§åˆ¶ç‚¹ å½“å‰ç‚¹å·²ç»è¢«ç»˜åˆ¶ } else this.ctx.lineTo(points[i].x, points[i].y) } } } addPoint(p) { if (this.line.points.length &gt;= 1) { let last_point = this.line.points[this.line.points.length - 1] let distance = this.z_distance(p, last_point) if (distance &lt; 10) { return } } if (this.line.points.length == 0) { this.begin = p p.isControl = true this.pushPoint(p) } else { this.middle = p let controlPs = this.computeControlPoints( this.k, this.begin, this.middle, null ) this.pushPoint(controlPs.first) this.pushPoint(p) p.isControl = true this.begin = this.middle } } addOtherPoint(p1, p2, w1, w2) { let otherPoints = new Array() let dis = this.z_distance(p1, p2) if (dis &gt;= 25) { otherPoints.push(p1) let insertPCount = Math.floor(dis / 20) for (let j = 0; j &lt; insertPCount; j++) { let insertP = new Point( p1.x + ((j + 1) / (insertPCount + 1)) * (p2.x - p1.x), p1.y + ((j + 1) / (insertPCount + 1)) * (p2.y - p1.y) ) insertP.isAdd = true otherPoints.push(insertP) } otherPoints.push(p2) } let count = otherPoints.length if (count &gt; 0) { console.log(&quot;addOtherPoint&quot;) debugger let diffW = (w2 - w1) / (count - 1) for (let i = 1; i &lt; count; i++) { let w = w1 + diffW * i this.ctx.beginPath() this.ctx.lineWidth = w this.ctx.moveTo(otherPoints[i - 1].x, otherPoints[i - 1].y) this.ctx.lineTo(otherPoints[i].x, otherPoints[i].y) this.ctx.stroke() } } return otherPoints } pushPoint(p) { //æ’é™¤é‡å¤ç‚¹ if ( this.line.points.length &gt;= 1 &amp;&amp; this.line.points[this.line.points.length - 1].x == p.x &amp;&amp; this.line.points[this.line.points.length - 1].y == p.y ) return this.line.points.push(p) } computeControlPoints(k, begin, middle, end) { if (k &gt; 0.5 || k &lt;= 0) return let diff1 = new Point(middle.x - begin.x, middle.y - begin.y) let diff2 = null if (end) diff2 = new Point(end.x - middle.x, end.y - middle.y) // let l1 = (diff1.x ** 2 + diff1.y ** 2) ** (1 / 2) // let l2 = (diff2.x ** 2 + diff2.y ** 2) ** (1 / 2) let first = new Point(middle.x - k * diff1.x, middle.y - k * diff1.y) let second = null if (diff2) second = new Point(middle.x + k * diff2.x, middle.y + k * diff2.y) return { first: first, second: second } } // W_current = // W_previous + min( abs(k*s - W_previous), distance * K_width_unit_change) (k * s-W_previous) &gt;= 0 // W_previous - min( abs(k*s - W_previous), distance * K_width_unit_change) (k * s-W_previous) &lt; 0 // W_current å½“å‰çº¿æ®µçš„å®½åº¦ // W_previous ä¸å½“å‰çº¿æ¡ç›¸é‚»çš„å‰ä¸€æ¡çº¿æ®µçš„å®½åº¦ // distance å½“å‰çº¿æ¡çš„é•¿åº¦ // w_k è®¾å®šçš„ä¸€ä¸ªå›ºå®šé˜ˆå€¼,è¡¨ç¤º:å•ä½è·ç¦»å†…, ç¬”è¿¹çš„çº¿æ¡å®½åº¦å¯ä»¥å˜åŒ–çš„æœ€å¤§é‡. // distance * w_k å³ä¸ºå½“å‰çº¿æ®µçš„é•¿åº¦å†…, ç¬”å®½å¯ä»¥ç›¸å¯¹äºå‰ä¸€æ¡çº¿æ®µç¬”å®½çš„åŸºç¡€ä¸Š, æœ€å¤šèƒ½å¤Ÿå˜å®½æˆ–è€…å¯ä»¥å˜çª„å¤šå°‘. z_linewidth(b, e, bwidth, step) { if (e.time == b.time) return bwidth let max_speed = 2.0 let d = this.z_distance(b, e) let s = d / (e.time - b.time) //è®¡ç®—é€Ÿåº¦ console.log(&quot;s&quot;, e.time - b.time, s) s = s &gt; max_speed ? max_speed : s // let w = (max_speed - s) / max_speed; let w = 0.5 / s let max_dif = d * step console.log(w, bwidth, max_dif) if (w &lt; 0.05) w = 0.05 if (Math.abs(w - bwidth) &gt; max_dif) { if (w &gt; bwidth) w = bwidth + max_dif else w = bwidth - max_dif } // printf(&quot;d:%.4f, time_diff:%lld, speed:%.4f, width:%.4f\\n&quot;, d, e.t-b.t, s, w); return w } z_distance(b, e) { return Math.sqrt(Math.pow(e.x - b.x, 2) + Math.pow(e.y - b.y, 2)) } BezierCalculate(poss, precision) { //ç»´åº¦ï¼Œåæ ‡è½´æ•°ï¼ˆäºŒç»´åæ ‡ï¼Œä¸‰ç»´åæ ‡...ï¼‰ let dimersion = 2 //è´å¡å°”æ›²çº¿æ§åˆ¶ç‚¹æ•°ï¼ˆé˜¶æ•°ï¼‰ let number = poss.length //æ§åˆ¶ç‚¹æ•°ä¸å°äº 2 ï¼Œè‡³å°‘ä¸ºäºŒç»´åæ ‡ç³» if (number &lt; 2 || dimersion &lt; 2) return null let result = new Array() //è®¡ç®—æ¨è¾‰ä¸‰è§’ let mi = new Array() mi[0] = mi[1] = 1 for (let i = 3; i &lt;= number; i++) { let t = new Array() for (let j = 0; j &lt; i - 1; j++) { t[j] = mi[j] } mi[0] = mi[i - 1] = 1 for (let j = 0; j &lt; i - 2; j++) { mi[j + 1] = t[j] + t[j + 1] } } //è®¡ç®—åæ ‡ç‚¹ for (let i = 0; i &lt; precision; i++) { let t = i / precision let p = new Point(0, 0) p.isAdd = true result.push(p) for (let j = 0; j &lt; dimersion; j++) { let temp = 0.0 for (let k = 0; k &lt; number; k++) { temp += Math.pow(1 - t, number - k - 1) * (j == 0 ? poss[k].x : poss[k].y) * Math.pow(t, k) * mi[k] } j == 0 ? (p.x = temp) : (p.y = temp) } } return result } } //ä»¥ä¸‹ä»£ç ä¸ºé¼ æ ‡ç§»åŠ¨äº‹ä»¶éƒ¨åˆ† let handwriting = new HandwritingSelf(document.getElementById(&quot;canvasId&quot;)) // document.ontouchstart = document.onmousedown document.onpointerdown = function (e) { if (e.type == &quot;touchstart&quot;) handwriting.down(e.touches[0].pageX, e.touches[0].pageY) else handwriting.down(e.x, e.y) } // document.ontouchmove = document.onmousemove document.onpointermove = function (e) { if (e.type == &quot;touchmove&quot;) handwriting.move(e.touches[0].pageX, e.touches[0].pageY) else handwriting.move(e.x, e.y) } // document.ontouchend = document.onmouseup document.onpointerup = function (e) { if (e.type == &quot;touchend&quot;) handwriting.up(e.touches[0].pageX, e.touches[0].pageY) else handwriting.up(e.x, e.y) } &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; ä»£ç é›¨&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;Code&lt;/title&gt; &lt;style&gt; body { margin: 0; overflow: hidden; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;canvas id=&quot;myCanvas&quot;&gt;&lt;/canvas&gt; &lt;script&gt; const width = (document.getElementById(&quot;myCanvas&quot;).width = 1920) //screen.availWidth; const height = (document.getElementById(&quot;myCanvas&quot;).height = 1080) //screen.availHeight; const ctx = document.getElementById(&quot;myCanvas&quot;).getContext(&quot;2d&quot;) const arr = Array(Math.ceil(width / 10)).fill(0) const str = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;.split(&quot;&quot;) function rain() { ctx.fillStyle = &quot;rgba(0,0,0,0.05)&quot; ctx.fillRect(0, 0, width, height) ctx.fillStyle = &quot;#0f0&quot; arr.forEach(function (value, index) { ctx.fillText( str[Math.floor(Math.random() * str.length)], index * 10, value + 10 ) arr[index] = value &gt;= height || value &gt; 8888 * Math.random() ? 0 : value + 10 }) } setInterval(rain, 30) &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; qqä¼é¹…&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; html, body, div, strong { margin: 0; padding: 0; } body { overflow: hidden; } .wrap { width: 600px; margin: 50px auto 0; position: relative; } /* â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ä¼é¹…å¤´éƒ¨â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ */ /* ä¸ŠåŠéƒ¨åˆ†é»‘è‰²å¤´éƒ¨ */ .headtop { width: 240px; height: 110px; background: #000; margin: 0 auto; border-top-left-radius: 120px 110px; border-top-right-radius: 120px 110px; position: relative; z-index: 999; } /* ä¸‹åŠéƒ¨åˆ†é»‘è‰²å¤´éƒ¨ */ .headbottom { width: 240px; height: 90px; background: #000; border-bottom-left-radius: 120px 90px; border-bottom-right-radius: 120px 90px; position: absolute; top: 110px; z-index: 1; } h1 { position: absolute; } /* å·¦çœ¼éƒ¨åˆ† */ .lefteye { width: 46px; height: 70px; background: #fff; border-radius: 50% 50%; position: absolute; top: 30px; left: 64px; z-index: 2; } .lefteye_in { width: 20px; height: 30px; background: #000; border-radius: 50% 50%; margin-left: 23px; margin-top: 20px; } .eyeshow { display: block; width: 8px; height: 10px; border-radius: 50% 50%; background: #fff; position: absolute; top: 26px; left: 32px; } /*å³çœ¼éƒ¨åˆ† */ .righteye { width: 46px; height: 70px; background: #fff; border-radius: 50% 50%; position: absolute; top: 30px; left: 130px; z-index: 2; } .righteye_in { width: 19px; height: 23px; background: #000; border-top-left-radius: 17px 30px; border-top-right-radius: 17px 30px; border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border: 1px solid #000; margin-left: 7px; margin-top: 16px; } .eyebai { display: block; width: 12px; height: 19px; border-top-left-radius: 5px 14px; border-top-right-radius: 8px 14px; background: #fff; margin-top: 10px; margin-left: 4px; } /*å³çœ¼éƒ¨åˆ† */ /*å˜´å·´*/ .mouth { width: 158px; height: 56px; background: #ffa600; border-radius: 50%; position: absolute; top: 106px; left: 42px; z-index: 2; } .mouth_bar { width: 126px; height: 30px; background: #000; position: absolute; top: 142px; left: 55px; z-index: 2; border-bottom-left-radius: 76px 96px; border-bottom-right-radius: 76px 96px; } .mouth_bar1 { width: 126px; height: 20px; background: #ffa600; position: absolute; z-index: 3; border-bottom-left-radius: 104px 32px; border-bottom-right-radius: 104px 32px; } /*å˜´å·´*/ /* â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦end ä¼é¹…å¤´éƒ¨â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ */ /* â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦star ä¼é¹…èº«ä½“â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ */ /* ä¼é¹…èº«ä½“é»‘è‰²éƒ¨åˆ† */ .body { width: 276px; height: 260px; background: #000; position: absolute; top: 142px; left: 167px; border-top-left-radius: 160px 140px; border-bottom-left-radius: 160px 140px; border-top-right-radius: 160px 140px; border-bottom-right-radius: 160px 140px; z-index: 2; } /* ä¼é¹…èº«ä½“é»‘è‰²éƒ¨åˆ† */ /* çº¢è‰²å›´è„– */ .body_1 { width: 264px; height: 137px; background: #ff0000; border: 5px solid #000; border-top-left-radius: 195px 100px; border-bottom-left-radius: 237px 146px; border-top-right-radius: 195px 100px; border-bottom-right-radius: 269px 146px; position: absolute; bottom: 159px; left: 0px; } .body_2 { width: 249px; height: 139px; position: absolute; background: #000; top: -33px; left: 7px; border-radius: 50%; border: 1px #000 solid; } .body_3 { width: 241px; height: 145px; position: absolute; background: red; top: 0px; left: 5px; border-radius: 50%; } /* çº¢è‰²å›´è„– */ /* ç™½è‰²ä¼é¹…è‚šå­ */ .tummy { width: 240px; height: 240px; background: #fff; position: absolute; top: 11px; left: 17px; border-radius: 50%; } /* ç™½è‰²ä¼é¹…è‚šå­ */ /* ä¼é¹…å£è¢‹ */ .pocket { width: 58px; height: 78px; position: absolute; top: 72px; left: 19px; border: 3px solid #000; background: red; border-top-left-radius: 20px 52px; border-bottom-left-radius: 40px 40px; border-top-right-radius: 0px 0px; border-bottom-right-radius: 21px 21px; } .pocket .pocket_line1 { width: 11px; height: 43px; border-bottom-left-radius: 29px 57px; border-top-left-radius: 0px 0px; border: 9px solid #000; border-top: none; border-right: none; position: absolute; top: 0px; left: 30px; -webkit-transform: rotateZ(10deg); -moz-transform: rotateZ(10deg); -ms-transform: rotateZ(10deg); -o-transform: rotateZ(10deg); transform: rotateZ(10deg); } .pocket .pocket_line2 { width: 2px; height: 45px; border-bottom-left-radius: 11px 24px; border-top-left-radius: 10px 15px; border: 9px solid red; border-top: none; border-right: none; position: absolute; top: 0px; left: 2px; } /* ä¼é¹…å·¦å³æ‰‹ */ .lefthand, .righthand { width: 49px; height: 160px; background: #000; position: absolute; } .lefthand { top: 20px; left: -29px; border-top-left-radius: 89px 166px; border-top-right-radius: 6px 63px; border-bottom-left-radius: 85px 194px; border-bottom-right-radius: 40px 128px; -webkit-transform: rotateZ(20deg); -moz-transform: rotateZ(20deg); -ms-transform: rotateZ(20deg); -o-transform: rotateZ(20deg); transform: rotateZ(20deg); -webkit-animation: left_rotate 0.5s infinite; -moz-animation: left_rotate 0.5s infinite; -ms-animation: left_rotate 0.5s infinite; -o-animation: left_rotate 0.5s infinite; animation: left_rotate 0.5s infinite; -webkit-animation-direction: alternate; -moz-animation-direction: alternate; -ms-animation-direction: alternate; -o-animation-direction: alternate; animation-direction: alternate; } .righthand { top: 20px; left: 258px; border-top-right-radius: 89px 166px; border-bottom-right-radius: 85px 194px; border-top-left-radius: 6px 63px; border-bottom-left-radius: 40px 128px; -webkit-transform: rotateZ(-20deg); -moz-transform: rotateZ(-20deg); -ms-transform: rotateZ(-20deg); -o-transform: rotateZ(-20deg); transform: rotateZ(-20deg); -webkit-animation: right_rotate 0.5s infinite; -moz-animation: right_rotate 0.5s infinite; -ms-animation: right_rotate 0.5s infinite; -o-animation: right_rotate 0.5s infinite; animation: right_rotate 0.5s infinite; -webkit-animation-direction: alternate; -moz-animation-direction: alternate; -ms-animation-direction: alternate; -o-animation-direction: alternate; animation-direction: alternate; } /* ä¼é¹…å·¦å³æ‰‹ */ /* â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦end ä¼é¹…èº«ä½“â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ */ /* â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦star ä¼é¹…è„šéƒ¨â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ */ .footer .left_footer, .footer .right_footer { width: 134px; height: 74px; position: absolute; background: #ffa600; border: 3px solid #000; border-radius: 50%; z-index: 1; } .footer .left_footer { top: 347px; left: 163px; } .footer .right_footer { top: 347px; left: 320px; } /* â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦end ä¼é¹…è„šéƒ¨â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ */ @keyframes left_rotate { from { -webkit-transform-origin: right 30%; -webkit-transform: rotateZ(60deg); } to { -webkit-transform-origin: right 30%; -webkit-transform: rotateZ(30deg); } } @keyframes right_rotate { from { -webkit-transform-origin: left 30%; -webkit-transform: rotateZ(-60deg); } to { -webkit-transform-origin: left 30%; -webkit-transform: rotateZ(-30deg); } } @-webkit-keyframes left_rotate { from { -webkit-transform-origin: right 30%; -webkit-transform: rotateZ(60deg); } to { -webkit-transform-origin: right 30%; -webkit-transform: rotateZ(30deg); } } @-webkit-keyframes right_rotate { from { -webkit-transform-origin: left 30%; -webkit-transform: rotateZ(-60deg); } to { -webkit-transform-origin: left 30%; -webkit-transform: rotateZ(-30deg); } } @-moz-keyframes left_rotate { from { transform-origin: right 30%; transform: rotateZ(60deg); } to { transform-origin: right 30%; transform: rotateZ(30deg); } } @-moz-keyframes right_rotate { from { transform-origin: left 30%; transform: rotateZ(-60deg); } to { transform-origin: left 30%; transform: rotateZ(-30deg); } } @-ms-keyframes left_rotate { from { transform-origin: right 30%; transform: rotateZ(60deg); } to { transform-origin: right 30%; transform: rotateZ(30deg); } } @-ms-keyframes right_rotate { from { transform-origin: left 30%; transform: rotateZ(-60deg); } to { transform-origin: left 30%; transform: rotateZ(-30deg); } } @-o-keyframes left_rotate { from { transform-origin: right 30%; transform: rotateZ(60deg); } to { transform-origin: right 30%; transform: rotateZ(30deg); } } @-o-keyframes right_rotate { from { transform-origin: left 30%; transform: rotateZ(-60deg); } to { transform-origin: left 30%; transform: rotateZ(-30deg); } } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;wrap&quot;&gt; &lt;!-- ä¼é¹…å¤´éƒ¨ --&gt; &lt;div class=&quot;headtop&quot;&gt; &lt;div class=&quot;headbottom&quot;&gt;&lt;/div&gt; &lt;!-- çœ¼ç›éƒ¨åˆ† --&gt; &lt;h1 class=&quot;lefteye&quot;&gt; &lt;p class=&quot;lefteye_in&quot;&gt; &lt;strong class=&quot;eyeshow&quot;&gt;&lt;/strong&gt; &lt;/p&gt; &lt;/h1&gt; &lt;h1 class=&quot;righteye&quot;&gt; &lt;p class=&quot;righteye_in&quot;&gt; &lt;strong class=&quot;eyebai&quot;&gt;&lt;/strong&gt; &lt;/p&gt; &lt;/h1&gt; &lt;!-- å˜´å·´éƒ¨åˆ† --&gt; &lt;h1 class=&quot;mouth&quot;&gt;&lt;/h1&gt; &lt;p class=&quot;mouth_bar&quot;&gt; &lt;strong class=&quot;mouth_bar1&quot;&gt;&lt;/strong&gt; &lt;/p&gt; &lt;/div&gt; &lt;!-- ä¼é¹…å¤´éƒ¨ --&gt; &lt;!-- ä¼é¹…èº«ä½“ --&gt; &lt;div class=&quot;body&quot;&gt; &lt;div class=&quot;tummy&quot;&gt; &lt;div class=&quot;pocket&quot;&gt; &lt;div class=&quot;pocket_line1&quot;&gt; &lt;div class=&quot;pocket_line2&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;hand&quot;&gt; &lt;div class=&quot;lefthand&quot;&gt;&lt;/div&gt; &lt;div class=&quot;righthand&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;body_1&quot;&gt; &lt;div class=&quot;body_2&quot;&gt; &lt;div class=&quot;body_3&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- ä¼é¹…èº«ä½“ --&gt; &lt;!-- ä¼é¹…è„šä¸« --&gt; &lt;div class=&quot;footer&quot;&gt; &lt;div class=&quot;left_footer&quot;&gt;&lt;/div&gt; &lt;div class=&quot;right_footer&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;!-- ä¼é¹…è„šä¸« --&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"Nodejs","slug":"nodejs","date":"2021-08-12T10:45:51.947Z","updated":"2021-08-13T01:23:02.628Z","comments":true,"path":"2021/08/12/nodejs/","link":"","permalink":"/2021/08/12/nodejs/","excerpt":"","text":"01-Node.jsåŸºç¡€ä¸€ã€Node.jsæ˜¯ä»€ä¹ˆNode.js is a JavaScript runtime built on Chrome&#39;s V8 JavaScript engine. 1ã€ ç‰¹æ€§Node.jså¯ä»¥è§£æJSä»£ç ï¼ˆæ²¡æœ‰æµè§ˆå™¨å®‰å…¨çº§åˆ«çš„é™åˆ¶ï¼‰æä¾›å¾ˆå¤šç³»ç»Ÿçº§åˆ«çš„APIï¼Œå¦‚ï¼š æ–‡ä»¶çš„è¯»å†™ï¼ˆFile Systemï¼‰ è¿›ç¨‹çš„ç®¡ç†ï¼ˆProcessï¼‰ ç½‘ç»œé€šä¿¡ï¼ˆHTTP/HTTPSï¼‰ 2ã€ä¸¾ä¾‹2.1 æµè§ˆå™¨å®‰å…¨çº§åˆ«çš„é™åˆ¶Ajaxé™åˆ¶&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;browser-safe-sandbox&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div&gt;browser-safe-sandbox&lt;/div&gt; &lt;script&gt; const xhr = new XMLHttpRequest() xhr.open(&#39;get&#39;, &#39;https://m.maoyan.com/ajax/moreClassicList?sortId=1&amp;showType=3&amp;limit=10&amp;offset=30&amp;optimus_uuid=A5518FF0AFEC11EAAB158D7AB0D05BBBD74C9789D9F649898982E6542C7DD479&amp;optimus_risk_level=71&amp;optimus_code=10&#39;, false) xhr.send() &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; æµè§ˆå™¨é¢„è§ˆbrowser-sync start --server --files **/* --directory 2.2 æ–‡ä»¶çš„è¯»å†™ï¼ˆFile Systemï¼‰const fs = require(&#39;fs&#39;) fs.readFile(&#39;./ajax.png&#39;, &#39;utf-8&#39;, (err, content) =&gt; { console.log(content) }) 2.3 è¿›ç¨‹çš„ç®¡ç†ï¼ˆProcessï¼‰function main(argv) { console.log(argv) } main(process.argv.slice(2)) è¿è¡Œ node 2.3-process.js argv1 argv2 2.4 ç½‘ç»œé€šä¿¡ï¼ˆHTTP/HTTPSï¼‰const http = require(&quot;http&quot;) http.createServer((req,res) =&gt; { res.writeHead(200, { &quot;content-type&quot;: &quot;text/plain&quot; }) res.write(&quot;hello nodejs&quot;) res.end() }).listen(3000) äºŒã€Nodeç›¸å…³å·¥å…·1ã€NVMï¼šNode Version Manager1.1 Macå®‰è£…nvmhttps://github.com/nvm-sh/nvm/blob/master/README.md 1.2 Windowså®‰è£…nvmnvm-windows nodist 1.3 å¸¸ç”¨çš„nvmå‘½ä»¤ nvm listï¼šæŸ¥çœ‹å½“å‰ç¯å¢ƒå®‰è£…äº†å“ªäº›ç‰ˆæœ¬ nvm use 14.15.0ï¼šåˆ‡æ¢nodeç‰ˆæœ¬ nvm alias default (v)14.15.0ï¼šåˆ‡æ¢nodeé»˜è®¤ç‰ˆæœ¬ 2ã€NPMï¼šNode Package Manager npm view jquery versionsï¼šæŸ¥çœ‹åŒ…çš„æ‰€æœ‰ç‰ˆæœ¬ 2.1 å…¨å±€å®‰è£…package$ npm install forever --global (-g) $ forever $ npm uninstall forever --global $ forever å…¨å±€å®‰è£…åŒ…çš„ç›®å½• Mac /Users/felix/.nvm/versions/node/nvmå„ä¸ªç‰ˆæœ¬/bin/ Windows C:\\Users\\ä½ çš„ç”¨æˆ·å\\AppData\\Roaming\\npm\\node_modules 2.2 æœ¬åœ°å®‰è£…package$ cd ~/desktop $ mkdir gp-project $ cd gp-project $ npm install underscore $ npm list (ls) 2.3 package.jsonåˆå§‹åŒ–$ pwd $ npm init -y $ ls $ cat package.json 2.4 ä½¿ç”¨package.json npm install â€”productionï¼šåªæ‹‰å–ç”Ÿäº§ç¯å¢ƒçš„åŒ… $ npm install underscore --save $ cat package.json $ npm install lodash --save-dev $ cat package.json $ rm -rf node_modules $ ls $ npm install $ npm uninstall underscore --save $ npm list | grep underscore // æŸ¥çœ‹underscoreåŒ…çš„æ ‘(ä¾èµ–å…³ç³») $ cat package.json &quot;dependencies&quot;ï¼šè¿™äº›åŒ…æ˜¯ä½ çš„åº”ç”¨ç¨‹åºåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ‰€éœ€è¦çš„ã€‚ &quot;devDepedencies&quot;ï¼šè¿™äº›åŒ…åªæ˜¯åœ¨å¼€å‘å’Œæµ‹è¯•ä¸­éœ€è¦çš„ã€‚ // package.json { ... &quot;dependencies&quot;: { // --save / -S }, &quot;devDependencies&quot;: { // --save-dev / -D } } 2.5 å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„åŒ… npm install jquery@2.2.4ï¼š å®‰è£…æŒ‡å®šç‰ˆæœ¬ npm install jquery@1 -Sï¼šå®‰è£…1æœ€é«˜çš„ç‰ˆæœ¬ $ pwd $ npm list $ npm info underscore $ npm view underscore versions $ npm install underscore@1.8.0 $ npm list $ npm uninstall underscore $ npm list 2.6 æ›´æ–°æœ¬åœ°å®‰è£…çš„åŒ… -13.4.6 major: 13ï¼ˆä¸»ç‰ˆæœ¬å·ï¼‰,minor: 4ï¼ˆæ¬¡ç‰ˆæœ¬å·ï¼‰ï¼Œpatchï¼š6ï¼ˆè¡¥ä¸ï¼Œå•æ•°ä¸ç¨³å®šï¼ŒåŒæ•°ç¨³å®šï¼‰ npm outdatedï¼šæŸ¥çœ‹å“ªäº›åŒ…è¿‡æœŸ npm updateï¼šæ›´æ–°æ‰€æœ‰çš„åŒ… $ npm info underscore $ npm view underscore versions // æŸ¥çœ‹underscoreåŒ…æ‰€æœ‰çš„ç‰ˆæœ¬ $ npm install underscore@1.4.4 --save-dev // å®‰è£…1.4.4çš„underscoreåˆ°å¼€å‘ç¯å¢ƒ $ npm list | grep gulp // æŸ¥çœ‹gulpåŒ…çš„ä¾èµ–å…³ç³» $ npm outdated //~2.0.0è¡¨ç¤ºpatch, ^2.0.0è¡¨ç¤ºminor * è¡¨ç¤ºxxæœ€æ–°ç‰ˆæœ¬ $ npm list | grep gulp $ npm update { &quot;dependencies&quot;: { &quot;jquery&quot;: &quot;^1.12.4&quot;, // ^é”å®šä¸»ç‰ˆæœ¬å· &quot;jquery&quot;: &quot;~1.12.4&quot;, // ~é”å®šä¸»ç‰ˆæœ¬å·å’Œæ¬¡ç‰ˆæœ¬å· jquery: &quot;1.12.4&quot;, // å…¨éƒ¨é”å®š jquery: &quot;*&quot; // æœ€æ–°ç‰ˆæœ¬ } } 2.7 æ¸…é™¤ç¼“å­˜ npm cache clean --force 2.8 ä¸Šä¼ è‡ªå·±çš„åŒ…2.8.1 ç¼–å†™æ¨¡å—ä¿å­˜ä¸ºindex.js exports.sayHello = function(){ return &#39;Hello World&#39;; } 2.8.2 åˆå§‹åŒ–æè¿°æ–‡ä»¶ npm init package.json { &quot;name&quot;: &quot;gp19-npm&quot;, &quot;version&quot;: &quot;1.0.1&quot;, &quot;description&quot;: &quot;gp19 self module&quot;, &quot;main&quot;: &quot;index.js&quot;, &quot;scripts&quot;: { &quot;test&quot;: &quot;make test&quot; }, &quot;repository&quot;: { &quot;type&quot;: &quot;Git&quot;, &quot;url&quot;: &quot;git+https://github.com/lurongtao/gp19-npm.git&quot; }, &quot;keywords&quot;: [ &quot;demo&quot; ], &quot;author&quot;: &quot;Felixlu&quot;, &quot;license&quot;: &quot;ISC&quot;, &quot;bugs&quot;: { &quot;url&quot;: &quot;https://github.com/lurongtao/gp19-npm/issues&quot; }, &quot;homepage&quot;: &quot;https://github.com/lurongtao/gp19-npm#readme&quot;, } 2.8.3 æ³¨å†Œnpmä»“åº“è´¦å· npm adduser https://www.npmjs.com ä¸Šé¢çš„è´¦å· felix_lurt/qqmko09ijn $ npm adduser 2.8.4 ä¸Šä¼ åŒ… npm publish å‘ï¼š403 Forbidden æŸ¥çœ‹npmæºï¼šnpm config get registry åˆ‡æ¢npmæºæ–¹æ³•ä¸€ï¼šnpm config set registry http://registry.npmjs.org åˆ‡æ¢npmæºæ–¹æ³•äºŒï¼šnrm use npm 2.8.5 å®‰è£…åŒ… npm install gp19-npm 2.8.6 å¸è½½åŒ…æŸ¥çœ‹å½“å‰é¡¹ç›®å¼•ç”¨äº†å“ªäº›åŒ… ï¼š npm ls å¸è½½åŒ…ï¼š npm unpublish --force 2.8.7 ä½¿ç”¨å¼•å…¥åŒ…var hello = require(&#39;gp19-npm&#39;) hello.sayHello() 2.9 npmè„šæœ¬Nodeå¼€å‘ç¦»ä¸å¼€npmï¼Œè€Œè„šæœ¬åŠŸèƒ½æ˜¯npmæœ€å¼ºå¤§ã€æœ€å¸¸ç”¨çš„åŠŸèƒ½ä¹‹ä¸€ã€‚ 2.9.1 ä»€ä¹ˆæ˜¯npmè„šæœ¬ï¼Ÿnpmå…è®¸åœ¨package.jsonæ–‡ä»¶é‡Œé¢ï¼Œä½¿ç”¨scriptså­—æ®µå®šä¹‰è„šæœ¬å‘½ä»¤ã€‚ { // ... &quot;scripts&quot;: { &quot;builds&quot;: &quot;node build.js&quot; } } 2.9.2 æ‰§è¡Œé¡ºåºå¦‚æœnpmè„šæœ¬é‡Œé¢éœ€è¦æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆéœ€è¦æ˜ç¡®å®ƒä»¬çš„æ‰§è¡Œé¡ºåºã€‚ scripts1.js var x = 0 console.log(x) scripts2.js var y = 0 console.log(y) &quot;scripts&quot; : { &quot;script1&quot;: &quot;node script1.js&quot;, &quot;script2&quot;: &quot;ndoe script2.js&quot; } å¦‚æœæ˜¯å¹¶è¡Œæ‰§è¡Œï¼ˆå³åŒæ—¶çš„å¹³è¡Œæ‰§è¡Œï¼‰ï¼Œå¯ä»¥ä½¿ç”¨&amp;ç¬¦å·ã€‚ $ npm run script1 &amp; npm run script2 å¦‚æœæ˜¯ç»§å‘æ‰§è¡Œï¼ˆå³åªæœ‰å‰ä¸€ä¸ªä»»åŠ¡æˆåŠŸï¼Œæ‰æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨&amp;&amp;ç¬¦å·ã€‚ $ npm run script1 &amp;&amp; npm run script2 2.9.3 ç®€å†™å½¢å¼å¸¸ç”¨çš„npmè„šæœ¬ç®€å†™å½¢å¼ npm start æ˜¯ npm run start 2.9.4 å˜é‡npmè„šæœ¬æœ‰ä¸€ä¸ªéå¸¸å¼ºå¤§åŠŸèƒ½ï¼Œå°±æ˜¯å¯ä»¥ä½¿ç”¨npmçš„å†…éƒ¨å˜é‡ã€‚ é¦–å…ˆï¼Œé€šè¿‡npm _package_å‰ç¼€ï¼Œnpmè„šæœ¬å¯ä»¥æ‹¿åˆ°package.jsoné‡Œé¢çš„å­—æ®µã€‚æ¯”å¦‚ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªpackage.jsonã€‚ æ³¨æ„ï¼šä¸€å®šè¦åœ¨npmè„šæœ¬ä¸­è¿è¡Œï¼ˆå¦‚ï¼šnpm run viewï¼‰æ‰å¯ä»¥ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¿è¡ŒJSï¼ˆå¦‚ï¼šnode view.jsï¼‰æ˜¯æ‹¿ä¸åˆ°çš„ { &quot;name&quot;: &quot;foo&quot;, &quot;version&quot;: &quot;1.2.5&quot;, &quot;scripts&quot;: { &quot;view&quot;: &quot;node view.js&quot; } } é‚£ä¹ˆï¼Œå˜é‡npm_package_nameè¿”å›fooï¼Œå˜é‡npm_package_versionè¿”å›1.2.5ã€‚ // view.js console.log(process.env.npm_package_name); // foo console.log(process.env.npm_package_version); // 1.2.5 ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ç¯å¢ƒå˜é‡process.envå¯¹è±¡ï¼Œæ‹¿åˆ°package.jsonçš„å­—æ®µå€¼ã€‚å¦‚æœæ˜¯Bashè„šæœ¬ï¼Œå¯ä»¥ç”¨$npm_package_nameå’Œ $npm_package_versionå–åˆ°è¿™ä¸¤ä¸ªå€¼ã€‚ npmpackageå‰ç¼€ä¹Ÿæ”¯æŒåµŒå¥—çš„package.jsonå­—æ®µã€‚ &quot;repository&quot;: { &quot;type&quot;: &#39;git&#39;, &quot;url&quot;: &quot;xxx&quot; }, &quot;scripts&quot;: { &quot;view&quot;: &quot;echo $npm_package_repository_type&quot; } ä¸Šé¢ä»£ç ä¸­ï¼Œrepositoryå­—æ®µçš„typeå±æ€§ï¼Œå¯ä»¥é€šè¿‡npm_package_repository_typeå–åˆ°ã€‚ ä¸‹é¢æ˜¯å¦å¤–ä¸€ä¸ªä¾‹å­ã€‚ &quot;scripts&quot;: { &quot;install&quot;: &quot;foo.js&quot; } ä¸Šé¢ä»£ç ä¸­ï¼Œnpm_package_scripts_installå˜é‡çš„å€¼ç­‰äºfoo.jsã€‚ ç„¶åï¼Œnpmè„šæœ¬è¿˜å¯ä»¥é€šè¿‡npmconfigå‰ç¼€ï¼Œæ‹¿åˆ°npmçš„é…ç½®å˜é‡ï¼Œå³npm config get xxxå‘½ä»¤è¿”å›çš„å€¼ã€‚æ¯”å¦‚ï¼Œå½“å‰æ¨¡å—çš„å‘å‹æ ‡ç­¾ï¼Œå¯ä»¥é€šè¿‡npm_config_tagå–åˆ°ã€‚ &quot;view&quot;: &quot;echo $npm_config_tag&quot;, æ³¨æ„ï¼Œpackage.jsoné‡Œé¢çš„configå¯¹è±¡ï¼Œå¯ä»¥è¢«ç¯å¢ƒå˜é‡è¦†ç›–ã€‚ { &quot;name&quot;: &quot;foo&quot;, &quot;config&quot;: {&quot;port&quot;: &quot;8080&quot;}, &quot;scripts&quot;: {&quot;start&quot;: &quot;node server.js&quot;} } ä¸Šé¢ä»£ç ä¸­ï¼Œnpm_package_config_portå˜é‡è¿”å›çš„æ˜¯8080ã€‚è¿™ä¸ªå€¼å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•è¦†ç›–ã€‚ $ npm config set foo:port 80 æœ€åï¼Œenvå‘½ä»¤å¯ä»¥åˆ—å‡ºæ‰€æœ‰ç¯å¢ƒå˜é‡ã€‚ &quot;env&quot;:&quot;env&quot; 2.10 npmå®‰è£…gitä¸Šå‘å¸ƒçš„åŒ…# è¿™æ ·é€‚åˆå®‰è£…å…¬å¸å†…éƒ¨çš„gitæœåŠ¡å™¨ä¸Šçš„é¡¹ç›® npm install git+https://git@github.com:lurongtao/gp-project.git # æˆ–è€…ä»¥sshçš„æ–¹å¼ npm install git+ssh://git@github.com:lurongtao/gp-project.git 2.11 cross-envä½¿ç”¨2.11.1 cross-envæ˜¯ä»€ä¹ˆè¿è¡Œè·¨å¹³å°è®¾ç½®å’Œä½¿ç”¨ç¯å¢ƒå˜é‡çš„è„šæœ¬ 2.11.2 å‡ºç°åŸå› å½“æ‚¨ä½¿ç”¨NODE_ENV=productionï¼Œæ¥è®¾ç½®ç¯å¢ƒå˜é‡æ—¶ï¼Œå¤§å¤šæ•°Windowså‘½ä»¤æç¤ºå°†ä¼šé˜»å¡ï¼ˆæŠ¥é”™ï¼‰ã€‚ï¼ˆå¼‚å¸¸æ˜¯Windowsä¸Šçš„Bashï¼Œå®ƒä½¿ç”¨æœ¬æœºBashã€‚ï¼‰æ¢è¨€ä¹‹ï¼ŒWindowsä¸æ”¯æŒNOE_ENV=productionçš„è®¾ç½®æ–¹å¼ã€‚ 2.11.3 è§£å†³cross-envä½¿å¾—æ‚¨å¯ä»¥ä½¿ç”¨å•ä¸ªå‘½ä»¤ï¼Œè€Œä¸å¿…æ‹…å¿ƒä¸ºå¹³å°æ­£ç¡®è®¾ç½®æˆ–ä½¿ç”¨ç¯å¢ƒå˜é‡ã€‚è¿™ä¸ªè¿·ä½ çš„åŒ…ï¼ˆcross-envï¼‰èƒ½å¤Ÿæä¾›ä¸€ä¸ªè®¾ç½®ç¯å¢ƒå˜é‡çš„scriptsï¼Œè®©ä½ èƒ½å¤Ÿä»¥Unixæ–¹å¼è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œç„¶ååœ¨Windowsä¸Šä¹Ÿèƒ½å…¼å®¹è¿è¡Œã€‚ 2.11.4 å®‰è£…npm install --save-dev cross-env 2.11.5 ä½¿ç”¨{ &quot;scripts&quot;: { &quot;build&quot;: &quot;cross-env NODE_ENV=production webpack --config build/webpack.config.js&quot; } } NODE_ENVç¯å¢ƒå˜é‡å°†ç”±cross-envè®¾ç½®ï¼Œæ‰“å°process.env.NODE_ENV === &#39;production&#39; 3ã€NRMï¼šnpm registry manager3.1 æ‰‹å·¥åˆ‡æ¢æº3.1.1 æŸ¥çœ‹å½“å‰æºnpm config get registry 3.1.2 åˆ‡æ¢æ·˜å®æºnpm config set registry https://registry.npm.taobao.org 3.2 NRMç®¡ç†æºNRMæ˜¯npmçš„é•œåƒæºç®¡ç†å·¥å…·ï¼Œæœ‰æ—¶å€™å›½å¤–èµ„æºå¤ªæ…¢ï¼Œä½¿ç”¨è¿™ä¸ªå°±å¯ä»¥å¿«é€Ÿåœ°åœ¨npmæºé—´åˆ‡æ¢ã€‚ 3.2.1 å®‰è£…nrmåœ¨å‘½ä»¤è¡Œæ‰§è¡Œå‘½ä»¤ï¼Œnpm install -g nrmï¼Œå…¨å±€å®‰è£…nrmã€‚ 3.2.2 ä½¿ç”¨nrmæ‰§è¡Œå‘½ä»¤nrm lsæŸ¥çœ‹å¯é€‰çš„æºã€‚å…¶ä¸­ï¼Œå¸¦*çš„æ˜¯å½“å‰ä½¿ç”¨çš„æºï¼Œä¸Šé¢è¾“å‡ºè¡¨æ˜å½“å‰æºæ˜¯å®˜æ–¹æºã€‚ 3.2.3 åˆ‡æ¢nrmå¦‚æœè¦åˆ‡æ¢åˆ°taobaoæºï¼Œæ‰§è¡Œå‘½ä»¤nrm use taobaoã€‚ 3.2.4 æµ‹è¯•é€Ÿåº¦ä½ è¿˜å¯ä»¥é€šè¿‡nrm testæµ‹è¯•ç›¸åº”æºçš„å“åº”æ—¶é—´ã€‚ 4ã€ NPXï¼šnpm package extentionnpmä»5.2ç‰ˆå¼€å§‹ï¼Œå¢åŠ äº†npxå‘½ä»¤ã€‚å®ƒæœ‰å¾ˆå¤šç”¨å¤„ï¼Œæœ¬æ–‡ä»‹ç»è¯¥å‘½ä»¤çš„ä¸»è¦ä½¿ç”¨åœºæ™¯ã€‚ Nodeè‡ªå¸¦npmæ¨¡å—ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨npxå‘½ä»¤ã€‚ä¸‡ä¸€ä¸èƒ½ç”¨ï¼Œå°±è¦æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ã€‚ $ npm install -g npx 4.1 è°ƒç”¨é¡¹ç›®å®‰è£…çš„æ¨¡å—npxæƒ³è¦è§£å†³çš„ä¸»è¦é—®é¢˜ï¼Œå°±æ˜¯è°ƒç”¨é¡¹ç›®å†…éƒ¨å®‰è£…çš„æ¨¡å—ã€‚æ¯”å¦‚ï¼Œé¡¹ç›®å†…éƒ¨å®‰è£…äº†Mochaã€‚ $ npm install -D mocha ä¸€èˆ¬æ¥è¯´ï¼Œè°ƒç”¨Mochaï¼Œåªèƒ½åœ¨é¡¹ç›®è„šæœ¬å’Œpackage.jsonçš„scriptså­—æ®µé‡Œé¢ï¼Œå¦‚æœæƒ³åœ¨å‘½ä»¤è¡Œä¸‹è°ƒç”¨ï¼Œå¿…é¡»åƒä¸‹é¢è¿™æ ·ã€‚ # é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ $ node-modules/.bin/mocha --version npxå°±æ˜¯æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè®©é¡¹ç›®å†…éƒ¨å®‰è£…çš„æ¨¡å—ç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼Œåªè¦åƒä¸‹é¢è¿™æ ·è°ƒç”¨å°±è¡Œäº†ã€‚ $ npx mocha --version npxçš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯è¿è¡Œçš„æ—¶å€™ï¼Œä¼šå€’node_modules/.binè·¯å¾„å’Œç¯å¢ƒå˜é‡$PATHé‡Œé¢ï¼Œæ£€æŸ¥å‘½ä»¤æ˜¯å¦å­˜åœ¨ã€‚ ç”±äºnpxä¼šæ£€æŸ¥ç¯å¢ƒå˜é‡$PATHï¼Œæ‰€ä»¥ç³»ç»Ÿå‘½ä»¤ä¹Ÿå¯ä»¥è°ƒç”¨ã€‚ # ç­‰åŒäº ls $ npx ls æ³¨æ„ï¼ŒBashå†…ç½®çš„å‘½ä»¤ä¸åœ¨$PATHé‡Œé¢ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ã€‚æ¯”å¦‚cd æ˜¯Bashå‘½ä»¤ï¼Œå› æ­¤å°±ä¸èƒ½ç”¨npx cdã€‚ 4.2 é¿å…å…¨å±€å®‰è£…æ¨¡å—é™¤äº†è°ƒç”¨é¡¹ç›®å†…éƒ¨æ¨¡å—ï¼Œnpxè¿˜èƒ½é¿å…å…¨å±€å®‰è£…çš„æ¨¡å—ã€‚æ¯”å¦‚ï¼Œcreate-react-appè¿™ä¸ªæ¨¡å—æ˜¯å…¨å±€å®‰è£…ï¼Œnpxå¯ä»¥è¿è¡Œå®ƒï¼Œè€Œä¸”ä¸è¿›è¡Œå…¨å±€å®‰è£…ã€‚ $ npx create-react-app my-react-app ä¸Šé¢ä»£ç è¿è¡Œæ—¶ï¼Œnpxå°†create-react-appä¸‹è½½åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œä½¿ç”¨ä»¥åå†åˆ é™¤ã€‚æ‰€ä»¥ï¼Œä»¥åå†æ¬¡æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œä¼šé‡æ–°ä¸‹è½½create-react-appã€‚ æ³¨æ„ï¼Œåªè¦npxåé¢çš„æ¨¡å—æ— æ³•åœ¨æœ¬åœ°å‘ç°ï¼Œå°±ä¼šä¸‹è½½åŒåæ¨¡å—ã€‚æ¯”å¦‚ï¼Œæœ¬åœ°æ²¡æœ‰å®‰è£…http-serveræ¨¡å—ï¼Œä¸‹é¢çš„å‘½ä»¤ä¼šè‡ªåŠ¨ä¸‹è½½è¯¥æ¨¡å—ï¼Œåœ¨å½“å‰ç›®å½•å¯åŠ¨ä¸€ä¸ªWebæœåŠ¡ã€‚ $ npx http-server 4.3 --no--installå‚æ•°å’Œ--ignore-existingå‚æ•°å¦‚æœæƒ³è®©npxå¼ºåˆ¶ä½¿ç”¨æœ¬åœ°æ¨¡å—ï¼Œä¸ä¸‹è½½è¿œç¨‹æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨--no-installå‚æ•°ã€‚å¦‚æœæœ¬åœ°ä¸å­˜åœ¨è¯¥æ¨¡å—ï¼Œå°±ä¼šæŠ¥é”™ã€‚ $ npx --no-install http-server åè¿‡æ¥ï¼Œå¦‚æœå¿½ç•¥æœ¬åœ°çš„åŒåæ¨¡å—ï¼Œå¼ºåˆ¶å®‰è£…ä½¿ç”¨è¿œç¨‹æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨--ignore-existingå‚æ•°ã€‚æ¯”å¦‚ï¼Œæœ¬åœ°å·²ç»å®‰è£…äº†http-serverï¼Œä½†è¿˜æ˜¯æƒ³ä½¿ç”¨è¿œç¨‹æ¨¡å—ï¼Œå°±ç”¨è¿™ä¸ªå‚æ•°ã€‚ $ npx --ignore-existing http-server 5ã€nodeçš„æµè§ˆç«¯è°ƒè¯• node --inspect --inspect-brk server.js 6ã€nodeè¿›ç¨‹ç®¡ç†å·¥å…· supervisor nodemon npm install nodemon nodemon server.js forever pm2 ä¸‰ã€æ¨¡å—/åŒ…ä¸CommonJS1ã€æ¨¡å—/åŒ…åˆ†ç±»Node.jsæœ‰ä¸‰ç±»æ¨¡å—ï¼Œå³å†…ç½®çš„æ¨¡å—ã€ç¬¬ä¸‰æ–¹çš„æ¨¡å—ã€è‡ªå®šä¹‰çš„æ¨¡å—ã€‚ 1.1 å†…ç½®çš„æ¨¡å—Node.jså†…ç½®æ¨¡å—åˆå«æ ¸å¿ƒæ¨¡å—ï¼ŒNode.jså®‰è£…å®Œæˆå¯ç›´æ¥ä½¿ç”¨ã€‚å¦‚ï¼š const path = require(&#39;path&#39;) var extname = path.extname(&#39;index.html&#39;) console.log(extname) 1.2 ç¬¬ä¸‰æ–¹çš„Node.jsæ¨¡å—ç¬¬ä¸‰æ–¹çš„Node.jsæ¨¡å—æŒ‡çš„æ˜¯ä¸ºäº†å®ç°æŸäº›åŠŸèƒ½ï¼Œå‘å¸ƒçš„npmjs.orgä¸Šçš„æ¨¡å—ï¼ŒæŒ‰ç…§ä¸€å®šçš„å¼€æºåè®®ä¾›ç¤¾ç¾¤ä½¿ç”¨ã€‚å¦‚ï¼š npm install chalk const chalk = require(&#39;chalk&#39;) console.log(chalk.blue(&#39;Hello world!&#39;)) 1.3 è‡ªå®šä¹‰çš„Node.jsæ¨¡å—è‡ªå®šä¹‰çš„Node.jsæ¨¡å—ï¼Œä¹Ÿå«æ–‡ä»¶æ¨¡å—ï¼Œæ˜¯æˆ‘ä»¬è‡ªå·±å†™çš„ä¾›è‡ªå·±ä½¿ç”¨çš„æ¨¡å—ã€‚åŒæ—¶ï¼Œè¿™ç±»æ¨¡å—å‘å¸ƒåˆ°npmjs.orgä¸Šå°±æˆäº†å¼€æºçš„ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚ è‡ªå®šä¹‰æ¨¡å—æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½ï¼Œéœ€è¦å®Œæ•´çš„è·¯å¾„åˆ†æã€æ–‡ä»¶å®šä½ã€ç¼–è¯‘æ‰§è¡Œè¿‡ç¨‹ã€é€Ÿåº¦ç›¸æ¯”æ ¸å¿ƒæ¨¡å—ç¨å¾®æ…¢ä¸€äº›ï¼Œä½†æ˜¯ç”¨çš„éå¸¸å¤šã€‚ 1.3.1 æ¨¡å—å®šä¹‰ã€æ¥å£æš´éœ²å’Œå¼•ç”¨æ¥å£æˆ‘ä»¬å¯ä»¥æŠŠå…¬å…±çš„åŠŸèƒ½æŠ½ç¦»æˆä¸ºä¸€ä¸ªå•ç‹¬çš„jsæ–‡ä»¶ä½œä¸ºä¸€ä¸ªæ¨¡å—ï¼Œé»˜è®¤æƒ…å†µä¸‹é¢è¿™ä¸ªæ¨¡å—é‡Œé¢çš„æ–¹æ³•æˆ–è€…å±æ€§ï¼Œå¤–é¢æ˜¯æ²¡æ³•è®¿é—®çš„ã€‚å¦‚æœè¦è®©å¤–éƒ¨å¯ä»¥è®¿é—®æ¨¡å—é‡Œé¢çš„æ–¹æ³•æˆ–è€…å±æ€§ï¼Œå°±å¿…é¡»åœ¨æ¨¡å—é‡Œé¢é€šè¿‡exportsæˆ–è€…module.exportsæš´éœ²å±æ€§æˆ–è€…æ–¹æ³•ã€‚ m1.js const name = &#39;gp19&#39; const sayName = () =&gt; { console.log(name) } console.log(&#39;module 1&#39;) // æ¥å£æš´éœ²æ–¹æ³•ä¸€ï¼š module.exports = { say: sayName } // æ¥å£æš´éœ²æ–¹æ³•äºŒï¼š exports.say = sayName // é”™è¯¯ï¼ exports = { say: sayName } main.js const m1 = require(&#39;./m1&#39;) m1.say() 1.3.2 æ¨¡å—çš„å¾ªç¯å¼•ç”¨ç”±äºexportsä½¿ç”¨æ–¹å¼ä¸å¯¹ï¼Œä¼šåœ¨ä¸¤ä¸ªä¸åŒjså¾ªç¯å¼•ç”¨çš„æƒ…å†µä¸‹ï¼Œå¯¼è‡´å…¶ä¸­ä¸€ä¸ªjsæ— æ³•è·å–å¦å¤–ä¸€ä¸ªjsçš„æ–¹æ³•ï¼Œä»è€Œå¯¼è‡´æ‰§è¡ŒæŠ¥é”™ã€‚å¦‚ï¼š a.js exports.done = false const b = require(&#39;./b.js&#39;) console.log(&#39;in a, b.done = %j&#39;, b.done) exports.done = true console.log(&#39;a done&#39;) b.js console.log(&#39;b starting&#39;) exports.done = false const a = require(&#39;./a.js&#39;) console.log(&#39;in b, a.done= %j&#39;, a.done) exports.done = true console.log(&#39;b done&#39;) main.js console.log(&#39;main starting&#39;) const a = require(&#39;./a.js&#39;) const b = require(&#39;./b.js&#39;) console.log(&#39;in main, a.done = %j, b.done = %j&#39;, a.done, b.done) main.jsé¦–å…ˆä¼šload a.jsï¼Œæ­¤æ—¶æ‰§è¡Œåˆ°const b = require(&#39;./b.js&#39;);çš„æ—¶å€™ï¼Œç¨‹åºä¼šè½¬å»loadb.js, åœ¨b.jsä¸­æ‰§è¡Œåˆ°const a = require(&#39;./a.js&#39;); ä¸ºäº†é˜²æ­¢æ— é™å¾ªç¯ï¼Œå°†a.jsexportsçš„æœªå®Œæˆå‰¯æœ¬è¿”å›åˆ°b.jsæ¨¡å—ã€‚ç„¶åb.jså®ŒæˆåŠ è½½ï¼Œå¹¶å°†å…¶å¯¼å‡ºå¯¹è±¡æä¾›ç»™a.jsæ¨¡å—ã€‚ æˆ‘ä»¬çŸ¥é“nodeJsçš„å¯¹æ¯ä¸ªjsæ–‡ä»¶è¿›è¡Œäº†ä¸€å±‚åŒ…è£…ç§°ä¸ºmoduleï¼Œmoduleä¸­æœ‰ä¸€ä¸ªå±æ€§exportsï¼Œå½“è°ƒç”¨require(&#39;a.js&#39;)çš„æ—¶å€™å…¶å®è¿”å›çš„æ˜¯module.exportså¯¹è±¡ï¼Œmodule.exportsåˆå§‹åŒ–ä¸ºä¸€ä¸ª{}ç©ºçš„objectï¼Œæ‰€ä»¥åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ‰§è¡Œåˆ°b.jsä¸­const a = require(&#39;./a.js&#39;);æ—¶ä¸ä¼šloadæ–°çš„a module, è€Œæ˜¯å°†å·²ç»loadä½†æ˜¯è¿˜æœªå®Œæˆçš„a moduleçš„exportså±æ€§è¿”å›ç»™b moduleï¼Œæ‰€ä»¥b.jsæ‹¿åˆ°çš„æ˜¯a moduleçš„exportså¯¹è±¡ï¼Œå³ï¼š{done:false}, è™½ç„¶åœ¨a.jsä¸­exports.doneè¢«ä¿®æ”¹æˆäº†trueï¼Œä½†æ˜¯ç”±äºæ­¤æ—¶a.jsæœªloadå®Œæˆï¼Œæ‰€ä»¥åœ¨b.jsè¾“å‡ºçš„a moduleçš„å±æ€§doneä¸ºfalseï¼Œè€Œåœ¨main.jsä¸­è¾“å‡ºçš„a moduleçš„å±æ€§doneä¸ºtrue. Nodejsé€šè¿‡ä¸Šé¢è¿™ç§è¿”å›æœªå®Œæˆexportså¯¹è±¡æ¥è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚ å››ã€å¸¸ç”¨å†…ç½®æ¨¡å—è¿™é‡Œä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„å†…ç½®æ¨¡å—ï¼šurlï¼Œquerystringï¼Œhttpï¼Œeventsï¼Œfsï¼Œstreamï¼Œreadlineï¼Œcryptoï¼Œzlib 1ã€url1.1 parse è¦è§£æçš„å†…å®¹ï¼Œæ˜¯å¦æŸ¥è¯¢å­—ç¬¦ä¸² url.parse(urlString[,parseQueryString[,slashesDenoteHost]]) const url = require(&#39;url&#39;) const urlString = &#39;https://www.baidu.com:443/ad/index.html?id=8&amp;name=mouse#tag=110&#39; const parsedStr = url.parse(urlString) console.log(parsedStr) =&gt; Url { protocol: &#39;https:&#39;, slashes: true, auth: null, host: &#39;www.baidu.com:443&#39;, port: &#39;443&#39;, hostname: &#39;www.baidu.com&#39;, hash: &#39;#tag=110&#39;, search: &#39;?id=8&amp;name=mouse&#39;, query: [Object: null prototype] { id: &#39;8&#39;, name: &#39;mouse&#39; }, pathname: &#39;/ad/index.html&#39;, path: &#39;/ad/index.html?id=8&amp;name=mouse&#39;, href: &#39;https://www.baidu.com:443/ad/index.html?id=8&amp;name=mouse#tag=110&#39; } 1.2 format å°†ä¸€ä¸ªè§£æåçš„URLå¯¹è±¡ã€è½¬æˆã€ä¸€ä¸ªæ ¼å¼åŒ–çš„URLå­—ç¬¦ä¸²ã€‚ url.format(urlObject) const url = require(&#39;url&#39;) const urlObject = { protocol: &#39;https:&#39;, slashes: true, auth: null, host: &#39;www.baidu.com:443&#39;, port: &#39;443&#39;, hostname: &#39;www.baidu.com&#39;, hash: &#39;#tag=110&#39;, search: &#39;?id=8&amp;name=mouse&#39;, query: { id: &#39;8&#39;, name: &#39;mouse&#39; }, pathname: &#39;/ad/index.html&#39;, path: &#39;/ad/index.html?id=8&amp;name=mouse&#39;, href: &#39;https://www.baidu.com:443/ad/index.html?id=8&amp;name=mouse#tag=110&#39; } const parsedObj = url.format(urlObject) console.log(parsedObj) =&gt; &#39;https://www.baidu.com:443/ad/index.html?id=8&amp;name=mouse#tag=110&#39; 1.3 resolve ç”¨äºæ‹¼æ¥URLï¼ˆæ›¿æ¢ åŸŸååé¢ç¬¬ä¸€ä¸ª/åçš„å†…å®¹,å¦‚æœå‡ºç°.å°±å‘ä¸Šè¿”å›ä¸€çº§ä¹‹åå†æ‹¼æ¥ï¼Œä¸¤ä¸ª..å°±å‘ä¸Šåä¸¤çº§å†æ‹¼æ¥ï¼‰ url.resolve(from, to) const url = require(&#39;url&#39;) var a = url.resolve(&#39;/one/two/three&#39;, &#39;four&#39;) var b = url.resolve(&#39;http://example.com/&#39;, &#39;/one&#39;) var c = url.resolve(&#39;http://example.com/one&#39;, &#39;/two&#39;); var d = url.resolve(&#39;http://example.com/one/ddd/ddd/ddd&#39;, &#39;./two&#39;); var e = url.resolve(&#39;http://example.com/one/ddd/ddd/ddd&#39;, &#39;../two&#39;); var f = url.resolve(&#39;http://example.com/one/ddd/ddd/ddd&#39;, &#39;.../two&#39;); console.log(a +&quot;,&quot;+ b +&quot;,&quot;+ c+&#39;,&#39;+d+&#39;,&#39;+e+&#39;,&#39;+f); =&gt; /one/two/four, http://example.com/one, http://example.com/two, http://example.com/one/ddd/ddd/two, http://example.com/one/ddd/two http://example.com/one/ddd/ddd/.../two 2ã€querystring2.1 parse å°†å­—ç¬¦ä¸²è½¬æˆå¯¹è±¡ã€‚è¯´ç™½äº†å…¶å®å°±æ˜¯æŠŠurlä¸Šå¸¦çš„å‚æ•°ä¸²è½¬æˆæ•°ç»„å¯¹è±¡ã€‚ querystring.parse(str[, sep[, eq[, options]]]) strï¼šæ¬²è½¬æ¢çš„å­—ç¬¦ä¸² sepï¼šè®¾ç½®åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸º&amp; eqï¼šè®¾ç½®èµ‹å€¼ç¬¦ï¼Œé»˜è®¤ä¸º= [options]maxKeysï¼šå¯æ¥å—å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦ï¼Œé»˜è®¤ä¸º1000 const querystring = require(&#39;querystring&#39;) var qs = &#39;foo=bar&amp;baz=qux&amp;baz=quux&amp;corge&#39; var parsed = querystring.parse(qs) console.log(parsed) =&gt; { foo: &#39;bar&#39;, baz: [&#39;qux&#39;, &#39;quux&#39;], corge: &#39;&#39; } 2.2 stringify å°†å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²é‡Œå¤šä¸ªå‚æ•°å°†ç”¨ â€˜&amp;&#39; åˆ†éš”ï¼Œå°†ç”¨ â€˜=&#39; èµ‹å€¼ã€‚ querystring.stringify(obj[, sep[, eq[, options]]]) objï¼šæ¬²è½¬æ¢çš„å¯¹è±¡ sepï¼šè®¾ç½®åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸º&amp; eqï¼šè®¾ç½®èµ‹å€¼ç¬¦ï¼Œé»˜è®¤ä¸º= const querystring = require(&#39;querystring&#39;) var qo = { foo: &#39;bar&#39;, baz: [&#39;qux&#39;, &#39;quux&#39;], corge: &#39;&#39; } var parsed = querystring.stringify(qo) console.log(parsed) ==&gt; &#39;foo=bar&amp;baz=qux&amp;baz=quux&amp;corge=&#39; const querystring = require(&#39;querystring&#39;) var qo = {foo: &#39;bar&#39;, baz: &#39;qux&#39;} var parsed =querystring.stringify(qo, &#39;;&#39;, &#39;:&#39;) console.log(parsed) ==&gt; &#39;foo:bar;baz:qux&#39; 2.3 escape/unescape ä»¥é’ˆå¯¹ç½‘å€æŸ¥è¯¢å­—ç¬¦ä¸²çš„ç‰¹å®šè¦æ±‚ä¼˜åŒ–çš„æ–¹å¼å¯¹ç»™å®šçš„ str æ‰§è¡Œç½‘å€ç™¾åˆ†æ¯”ç¼–ç  querystring.escape() æ–¹æ³•è¢« querystring.stringify() ä½¿ç”¨ï¼Œé€šå¸¸ä¸ä¼šè¢«ç›´æ¥ä½¿ç”¨ã€‚ å¯¼å‡ºå®ƒä¸»è¦æ˜¯ä¸ºäº†å…è®¸åº”ç”¨ç¨‹åºä»£ç åœ¨å¿…è¦æ—¶é€šè¿‡å°† querystring.escape åˆ†é…ç»™æ›¿ä»£å‡½æ•°æ¥æä¾›æ›¿æ¢çš„ç™¾åˆ†æ¯”ç¼–ç å®ç°ã€‚ querystring.escape(str) const querystring = require(&#39;querystring&#39;) var str = &#39;id=3&amp;city=åŒ—äº¬&amp;url=https://www.baidu.com&#39; var escaped = querystring.escape(str) console.log(escaped) ==&gt; &#39;id%3D3%26city%3D%E5%8C%97%E4%BA%AC%26url%3Dhttps%3A%2F%2Fwww.baidu.com&#39; åœ¨ç»™å®šçš„ str ä¸Šæ‰§è¡Œç½‘å€ç™¾åˆ†æ¯”ç¼–ç å­—ç¬¦çš„è§£ç ã€‚ querystring.unescape() æ–¹æ³•è¢« querystring.parse() ä½¿ç”¨ï¼Œé€šå¸¸ä¸ä¼šè¢«ç›´æ¥ä½¿ç”¨ã€‚ å¯¼å‡ºå®ƒä¸»è¦æ˜¯ä¸ºäº†å…è®¸åº”ç”¨ç¨‹åºä»£ç åœ¨å¿…è¦æ—¶é€šè¿‡å°† querystring.unescape åˆ†é…ç»™æ›¿ä»£å‡½æ•°æ¥æä¾›æ›¿ä»£çš„è§£ç å®ç°ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œquerystring.unescape() æ–¹æ³•å°†å°è¯•ä½¿ç”¨ JavaScript å†…ç½®çš„ decodeURIComponent() æ–¹æ³•è¿›è¡Œè§£ç ã€‚ å¦‚æœå¤±è´¥ï¼Œåˆ™å°†ä½¿ç”¨æ›´å®‰å…¨çš„ä¸ä¼šå› æ ¼å¼é”™è¯¯çš„ç½‘å€è€ŒæŠ›å‡ºé”™è¯¯çš„åŒç±»æ–¹æ³•ã€‚ querystring.unescape(str) const querystring = require(&#39;querystring&#39;) var str = &#39;id%3D3%26city%3D%E5%8C%97%E4%BA%AC%26url%3Dhttps%3A%2F%2Fwww.baidu.com&#39; var unescaped = querystring.unescape(str) console.log(unescaped) ==&gt; &#39;id=3&amp;city=åŒ—äº¬&amp;url=https://www.baidu.com&#39; 3ã€http/https3.1 getvar http = require(&#39;http&#39;) var https = require(&#39;https&#39;) // 1ã€æ¥å£ 2ã€è·¨åŸŸ const server = http.createServer((request, response) =&gt; { var url = request.url.substr(1) var data = &#39;&#39; response.writeHeader(200, { &#39;content-type&#39;: &#39;application/json;charset=utf-8&#39;, &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39; }) //response.write(&#39;&lt;div&gt;hello&lt;/div&gt;&#39;) //response.end() // æˆ– //response.end(&#39;&lt;div&gt;hello&lt;/div&gt;&#39;) https.get(`https://m.lagou.com/listmore.json${url}`, (res) =&gt; { res.on(&#39;data&#39;, (chunk) =&gt; { data += chunk }) res.on(&#39;end&#39;, () =&gt; { response.end(JSON.stringify({ ret: true, data })) }) }) }) server.listen(8080, () =&gt; { console.log(&#39;localhost:8080&#39;) }) 3.2 post:æœåŠ¡å™¨æäº¤ï¼ˆæ”»å‡»ï¼‰const https = require(&#39;https&#39;) const querystring = require(&#39;querystring&#39;) const postData = querystring.stringify({ province: &#39;ä¸Šæµ·&#39;, city: &#39;ä¸Šæµ·&#39;, district: &#39;å®å±±åŒº&#39;, address: &#39;åŒæµæ”¯è·¯199å·æ™ºæ…§ä¸ƒç«‹æ–¹3å·æ¥¼2-4å±‚&#39;, latitude: 43.0, longitude: 160.0, message: &#39;æ±‚è´­ä¸€æ¡å°é±¼&#39;, contact: &#39;13666666&#39;, type: &#39;sell&#39;, time: 1571217561 }) const options = { protocol: &#39;http:&#39;, hostname: &#39;localhost&#39;, method: &#39;POST&#39;, port: 3000, path: &#39;/index.php/trade/add_item&#39;, headers: { &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;, &#39;Content-Length&#39;: Buffer.byteLength(postData) } } const server = http.createServer((req, res) =&gt; { const request = http.request(options, result =&gt; { }) req.write(postData) req.end() res.end() }) server.listen(8080, ()=&gt; { console.log(&#39;localhost:8080&#39;) }) //function doPost() { // let data // let req = https.request(options, (res) =&gt; { // res.on(&#39;data&#39;, chunk =&gt; data += chunk) // res.on(&#39;end&#39;, () =&gt; { // console.log(data) // }) // }) // req.write(postData) // req.end() //} // setInterval(() =&gt; { // doPost() // }, 1000) 3.3 è·¨åŸŸï¼šJSONPconst http = require(&#39;http&#39;) const url = require(&#39;url&#39;) const app = http.createServer((req, res) =&gt; { let urlObj = url.parse(req.url, true) switch (urlObj.pathname) { case &#39;/api/user&#39;: res.end(`${urlObj.query.cb}({&quot;name&quot;: &quot;gp145&quot;})`) break default: res.end(&#39;404.&#39;) break } }) app.listen(8080, () =&gt; { console.log(&#39;localhost:8080&#39;) }) 3.4 è·¨åŸŸï¼šCORSconst http = require(&#39;http&#39;) const url = require(&#39;url&#39;) const querystring = require(&#39;querystring&#39;) const app = http.createServer((req, res) =&gt; { let data = &#39;&#39; let urlObj = url.parse(req.url, true) res.writeHead(200, { &#39;content-type&#39;: &#39;application/json;charset=utf-8&#39;, &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39; }) req.on(&#39;data&#39;, (chunk) =&gt; { data += chunk }) req.on(&#39;end&#39;, () =&gt; { responseResult(querystring.parse(data)) }) function responseResult(data) { switch (urlObj.pathname) { case &#39;/api/login&#39;: res.end(JSON.stringify({ message: data })) break default: res.end(&#39;404.&#39;) break } } }) app.listen(8080, () =&gt; { console.log(&#39;localhost:8080&#39;) }) 3.5 è·¨åŸŸï¼šmiddleware(http-proxy-middware)const http = require(&#39;http&#39;) const proxy = require(&#39;http-proxy-middleware&#39;) http.createServer((req, res) =&gt; { let url = req.url res.writeHead(200, { &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39; }) if (/^\\/api/.test(url)) { let apiProxy = proxy(&#39;/api&#39;, { target: &#39;https://m.lagou.com&#39;, changeOrigin: true, pathRewrite: { &#39;^/api&#39;: &#39;&#39; } }) // http-proy-middleware åœ¨Node.jsä¸­ä½¿ç”¨çš„æ–¹æ³• apiProxy(req, res) } else { switch (url) { case &#39;/index.html&#39;: res.end(&#39;index.html&#39;) break case &#39;/search.html&#39;: res.end(&#39;search.html&#39;) break default: res.end(&#39;[404]page not found.&#39;) } } }).listen(8080) 3.6 çˆ¬è™«const https = require(&#39;https&#39;) const http = require(&#39;http&#39;) const cheerio = require(&#39;cheerio&#39;) http.createServer((request, response) =&gt; { response.writeHead(200, { &#39;content-type&#39;: &#39;application/json;charset=utf-8&#39; }) const options = { protocol: &#39;https:&#39;, hostname: &#39;maoyan.com&#39;, port: 443, path: &#39;/&#39;, method: &#39;GET&#39; } const req = https.request(options, (res) =&gt; { let data = &#39;&#39; res.on(&#39;data&#39;, (chunk) =&gt; { data += chunk }) res.on(&#39;end&#39;, () =&gt; { filterData(data) }) }) function filterData(data) { let $ = cheerio.load(data) let $movieList = $(&#39;.movie-item&#39;) let movies = [] $movieList.each((index, value) =&gt; { movies.push({ title: $(value).find(&#39;.movie-title&#39;).attr(&#39;title&#39;), score: $(value).find(&#39;.movie-score i&#39;).text(), }) }) response.end(JSON.stringify(movies)) } req.end() }).listen(9000) 4ã€Eventsconst EventEmitter = require(&#39;events&#39;) class MyEventEmitter extends EventEmitter {} const event = new MyEventEmitter() event.on(&#39;play&#39;, (movie) =&gt; { console.log(movie) }) event.emit(&#39;play&#39;, &#39;æˆ‘å’Œæˆ‘çš„ç¥–å›½&#39;) event.emit(&#39;play&#39;, &#39;ä¸­å›½æœºé•¿&#39;) 5ã€File Systemconst fs = require(&#39;fs&#39;) const fsP = require(&#39;fs&#39;).promises // åˆ›å»ºæ–‡ä»¶å¤¹ fs.mkdir(&#39;./logs&#39;, (err) =&gt; { console.log(&#39;done.&#39;) }) // æ–‡ä»¶å¤¹æ”¹å fs.rename(&#39;./logs&#39;, &#39;./log&#39;, () =&gt; { console.log(&#39;done&#39;) }) // åˆ é™¤æ–‡ä»¶å¤¹ fs.rmdir(&#39;./log&#39;, () =&gt; { console.log(&#39;done.&#39;) }) // å†™å†…å®¹åˆ°æ–‡ä»¶é‡Œ fs.writeFile( &#39;./logs/log1.txt&#39;, &#39;hello&#39;, // é”™è¯¯ä¼˜å…ˆçš„å›è°ƒå‡½æ•° (err) =&gt; { if (err) { console.log(err.message) } else { console.log(&#39;æ–‡ä»¶åˆ›å»ºæˆåŠŸ&#39;) } } ) // ç»™æ–‡ä»¶è¿½åŠ å†…å®¹ fs.appendFile(&#39;./logs/log1.txt&#39;, &#39;\\nworld&#39;, () =&gt; { console.log(&#39;done.&#39;) }) // è¯»å–æ–‡ä»¶å†…å®¹ fs.readFile(&#39;./logs/log1.txt&#39;, &#39;utf-8&#39;, (err, data) =&gt; { console.log(data) }) // åˆ é™¤æ–‡ä»¶ fs.unlink(&#39;./logs/log1.txt&#39;, (err) =&gt; { console.log(&#39;done.&#39;) }) // æ‰¹é‡å†™æ–‡ä»¶ for (var i = 0; i &lt; 10; i++) { fs.writeFile(`./logs/log-${i}.txt`, `log-${i}`, (err) =&gt; { console.log(&#39;done.&#39;) }) } // è¯»å–æ–‡ä»¶/ç›®å½•ä¿¡æ¯ fs.readdir(&#39;./&#39;, (err, data) =&gt; { data.forEach((value, index) =&gt; { fs.stat(`./${value}`, (err, stats) =&gt; { // console.log(value + &#39;:&#39; + stats.size) console.log(value + &#39; is &#39; + (stats.isDirectory() ? &#39;directory&#39; : &#39;file&#39;)) }) }) }) // åŒæ­¥è¯»å–æ–‡ä»¶ try { const content = fs.readFileSync(&#39;./logs/log-1.txt&#39;, &#39;utf-8&#39;) console.log(content) console.log(0) } catch (e) { console.log(e.message) } console.log(1) // å¼‚æ­¥è¯»å–æ–‡ä»¶ï¼šæ–¹æ³•ä¸€ fs.readFile(&#39;./logs/log-0.txt&#39;, &#39;utf-8&#39;, (err, content) =&gt; { console.log(content) console.log(0) }) console.log(1) // å¼‚æ­¥è¯»å–æ–‡ä»¶ï¼šæ–¹æ³•äºŒ fs.readFile(&#39;./logs/log-0.txt&#39;, &#39;utf-8&#39;).then(result =&gt; { console.log(result) }) // å¼‚æ­¥è¯»å–æ–‡ä»¶ï¼šæ–¹æ³•ä¸‰ function getFile() { return new Promise((resolve) =&gt; { fs.readFile(&#39;./logs/log-0.txt&#39;, &#39;utf-8&#39;, (err, data) =&gt; { resolve(data) }) }) } ;(async () =&gt; { console.log(await getFile()) })() // å¼‚æ­¥è¯»å–æ–‡ä»¶ï¼šæ–¹æ³•å›› const fsp = fsP.readFile(&#39;./logs/log-1.txt&#39;, &#39;utf-8&#39;).then((result) =&gt; { console.log(result) }) console.log(fsP) // watch ç›‘æµ‹æ–‡ä»¶å˜åŒ– fs.watch(&#39;./logs/log-0.txt&#39;, () =&gt; { console.log(0) }) 6ã€Streamconst fs = require(&#39;fs&#39;) const readstream = fs.createReadStream(&#39;./note.txt&#39;) const writestream = fs.createWriteStream(&#39;./note2.txt&#39;) writestream.write(readstream) 7ã€Zlibconst fs = require(&#39;fs&#39;) const zlib = require(&#39;zlib&#39;) const gzip = zlib.createGzip() const readstream = fs.createReadStream(&#39;./note.txt&#39;) const writestream = fs.createWriteStream(&#39;./note2.txt&#39;) readstream .pipe(gzip) .pipe(writestream) writestream.write(readstream) 8ã€ReadLineconst readline = require(&#39;readline&#39;) const rl = readline.createInterface({ input: process.stdin, output: process.stdout }) rl.question(&#39;What do you think of Node.js? &#39;, (answer) =&gt; { // TODO: Log the answer in a database console.log(`Thank you for your valuable feedback: ${answer}`) rl.close() }) 9ã€Cryptoconst crypto = require(&#39;crypto&#39;) const secret = &#39;abcdefg&#39; const hash = crypto.createHmac(&#39;sha256&#39;, secret) .update(&#39;I love you&#39;) .digest(&#39;hex&#39;) console.log(hash) äº”ã€è·¯ç”±var http = require(&#39;http&#39;) var fs = require(&#39;fs&#39;) http.createServer( function ( req, res ) { switch ( req.url ) { case &#39;/home&#39;: res.write(&#39;home&#39;) res.end() break case &#39;/mine&#39;: res.write(&#39;mine&#39;) res.end() break case &#39;/login&#39;: fs.readFile( &#39;./static/login.html&#39;,function ( error , data ) { if ( error ) throw error res.write( data ) res.end() }) break case &#39;/fulian.jpg&#39;: fs.readFile( &#39;./static/fulian.jpg&#39;, &#39;binary&#39;, function( error , data ) { if( error ) throw error res.write( data, &#39;binary&#39; ) res.end() }) break default: break } }).listen( 8000, &#39;localhost&#39;, function () { console.log( &#39;æœåŠ¡å™¨è¿è¡Œåœ¨ï¼š http://localhost:8000&#39; ) }) å…­ã€é™æ€èµ„æºæœåŠ¡6.1 readStaticFile/modules/readStaticFile.js // å¼•å…¥ä¾èµ–çš„æ¨¡å— var path = require(&#39;path&#39;) var fs = require(&#39;fs&#39;) var mime = require(&#39;mime&#39;) function readStaticFile(res, filePathname) { var ext = path.parse(filePathname).ext var mimeType = mime.getType(ext) // åˆ¤æ–­è·¯å¾„æ˜¯å¦æœ‰åç¼€, æœ‰çš„è¯åˆ™è¯´æ˜å®¢æˆ·ç«¯è¦è¯·æ±‚çš„æ˜¯ä¸€ä¸ªæ–‡ä»¶ if (ext) { // æ ¹æ®ä¼ å…¥çš„ç›®æ ‡æ–‡ä»¶è·¯å¾„æ¥è¯»å–å¯¹åº”æ–‡ä»¶ fs.readFile(filePathname, (err, data) =&gt; { // é”™è¯¯å¤„ç† if (err) { res.writeHead(404, { &quot;Content-Type&quot;: &quot;text/plain&quot; }) res.write(&quot;404 - NOT FOUND&quot;) res.end() } else { res.writeHead(200, { &quot;Content-Type&quot;: mimeType }) res.write(data) res.end() } }); // è¿”å› true è¡¨ç¤º, å®¢æˆ·ç«¯æƒ³è¦çš„ æ˜¯ é™æ€æ–‡ä»¶ return true } else { // è¿”å› false è¡¨ç¤º, å®¢æˆ·ç«¯æƒ³è¦çš„ ä¸æ˜¯ é™æ€æ–‡ä»¶ return false } } // å¯¼å‡ºå‡½æ•° module.exports = readStaticFile 6.2 server/server.js // å¼•å…¥ç›¸å…³æ¨¡å— var http = require(&#39;http&#39;); var url = require(&#39;url&#39;); var path = require(&#39;path&#39;); var readStaticFile = require(&#39;./modules/readStaticFile&#39;); // æ­å»º HTTP æœåŠ¡å™¨ var server = http.createServer(function(req, res) { var urlObj = url.parse(req.url); var urlPathname = urlObj.pathname; var filePathname = path.join(__dirname, &quot;/public&quot;, urlPathname); // è¯»å–é™æ€æ–‡ä»¶ readStaticFile(res, filePathname); }); // åœ¨ 3000 ç«¯å£ç›‘å¬è¯·æ±‚ server.listen(3000, function() { console.log(&quot;æœåŠ¡å™¨è¿è¡Œä¸­.&quot;); console.log(&quot;æ­£åœ¨ç›‘å¬ 3000 ç«¯å£:&quot;) }) 6.3 æœ€ç»ˆç›®å½•ç»“æ„ 02-ExpressåŸºäºNode.jså¹³å°ï¼Œå¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„webå¼€å‘æ¡†æ¶ã€‚ $ npm install express --save ä¸€ã€ç‰¹è‰²1ã€Webåº”ç”¨Expressæ˜¯ä¸€ä¸ªåŸºäºNode.jså¹³å°çš„æç®€ã€çµæ´»çš„webåº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›ä¸€ç³»åˆ—å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¸®åŠ©ä½ åˆ›å»ºå„ç§Webå’Œç§»åŠ¨è®¾å¤‡åº”ç”¨ã€‚ 2ã€APIä¸°å¯Œçš„HTTPå¿«æ·æ–¹æ³•å’Œä»»æ„æ’åˆ—ç»„åˆçš„Connectä¸­é—´ä»¶ï¼Œè®©ä½ åˆ›å»ºå¥å£®ã€å‹å¥½çš„APIå˜å¾—æ—¢å¿«é€Ÿåˆç®€å•ã€‚ 3ã€æ€§èƒ½Expressä¸å¯¹Node.jså·²æœ‰çš„ç‰¹æ€§è¿›è¡ŒäºŒæ¬¡æŠ½è±¡ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨å®ƒä¹‹ä¸Šæ‰©å±•äº†Webåº”ç”¨æ‰€éœ€çš„åŸºæœ¬æ€§èƒ½ã€‚ äºŒã€å®‰è£…é¦–å…ˆå‡å®šä½ å·²ç»å®‰è£…äº†Node.jsï¼Œæ¥ä¸‹æ¥ä¸ºä½ çš„åº”ç”¨åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œç„¶åè¿›å…¥æ­¤ç›®å½•å¹¶å°†å…¶ä½œä¸ºå½“å‰å·¥ä½œç›®å½•ã€‚ $ mkdir myapp $ cd myapp é€šè¿‡npm initå‘½ä»¤ä¸ºä½ çš„åº”ç”¨åˆ›å»ºä¸€ä¸ªpackage.jsonæ–‡ä»¶ã€‚æ¬²äº†è§£ package.json æ˜¯å¦‚ä½•èµ·ä½œç”¨çš„ï¼Œè¯·å‚è€ƒ Specifics of npmâ€™s package.json handlingã€‚ $ npm init æ­¤å‘½ä»¤å°†è¦æ±‚ä½ è¾“å…¥å‡ ä¸ªå‚æ•°ï¼Œä¾‹å¦‚æ­¤åº”ç”¨çš„åç§°å’Œç‰ˆæœ¬ã€‚ä½ å¯ä»¥ç›´æ¥æŒ‰â€œå›è½¦â€é”®æ¥å—é»˜è®¤è®¾ç½®å³å¯ï¼Œä¸‹é¢è¿™ä¸ªé™¤å¤–ï¼š entry point: (index.js) é”®å…¥app.jsæˆ–è€…ä½ æ‰€å¸Œæœ›çš„åç§°ï¼Œè¿™æ˜¯å½“å‰åº”ç”¨çš„å…¥å£æ–‡ä»¶ã€‚å¦‚æœä½ å¸Œæœ›é‡‡ç”¨é»˜è®¤çš„index.jsæ–‡ä»¶åï¼Œåªéœ€æŒ‰â€œå›è½¦â€é”®å³å¯ã€‚ æ¥ä¸‹æ¥å®‰è£…Expresså¹¶å°†å…¶ä¿å­˜åˆ°ä¾èµ–åˆ—è¡¨ä¸­ï¼š $ npm install express --save å¦‚æœåªæ˜¯ä¸´æ—¶å®‰è£…Expressï¼Œä¸æƒ³å°†å®ƒæ·»åŠ åˆ°ä¾èµ–åˆ—è¡¨ä¸­ï¼Œåªéœ€ç•¥å»--saveå‚æ•°å³å¯ï¼š $ npm install express å®‰è£…Nodeæ¨¡å—æ—¶ï¼Œå¦‚æœæŒ‡å®šäº†--save å‚æ•°ï¼Œé‚£ä¹ˆæ­¤æ¨¡å—å°†è¢«æ·»åŠ åˆ°package.jsonæ–‡ä»¶ä¸­dependenciesä¾èµ–åˆ—è¡¨ä¸­ã€‚ç„¶åé€šè¿‡npm install å‘½ä»¤å³å¯ ä¸‰ã€Hello Worldå®ä¾‹æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„Expressåº”ç”¨ã€‚ æ³¨æ„ï¼šè¿™é‡Œæ‰€åˆ›å»ºçš„æ˜¯ä¸€ä¸ªæœ€æœ€ç®€å•çš„Expressåº”ç”¨ï¼Œå¹¶ä¸”ä»…ä»…åªæœ‰ä¸€ä¸ªæ–‡ä»¶ - å’Œé€šè¿‡Expressåº”ç”¨ç”Ÿæˆå™¨æ‰€åˆ›å»ºçš„åº”ç”¨å®Œå…¨ä¸ä¸€æ ·ï¼ŒExpressåº”ç”¨ç”Ÿæˆå™¨æ‰€åˆ›å»ºçš„åº”ç”¨æ¡†æ¶åŒ…å«å¤šJavaScriptæ–‡ä»¶ã€Jadeæ¨¡æ¿å’Œé’ˆå¯¹ä¸åŒç”¨é€”çš„å­ç›®å½•ã€‚ è¿›å…¥myappç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºapp.jsçš„æ–‡ä»¶ï¼Œç„¶åå°†ä¸‹åˆ—ä»£ç å¤åˆ¶è¿›å»ï¼š var express = require(&#39;express&#39;); var app = express(); app.get(&#39;/&#39;, function (req, res) { res.send(&#39;Hello World!&#39;); }); var server = app.listen(3000, function () { var host = server.address().address; var port = server.address().port; console.log(&#39;Example app listening at http://%s:%s&#39;, host, port); }); ä¸Šé¢çš„ä»£ç å¯åŠ¨ä¸€ä¸ªæœåŠ¡å¹¶ç›‘å¬ä»3000ç«¯å£è¿›å…¥çš„æ‰€æœ‰è¿æ¥è¯·æ±‚ã€‚ä»–å°†å¯¹æ‰€æœ‰(/)URLæˆ– è·¯ç”±è¿”å›â€œHello Worldï¼â€å­—ç¬¦ä¸²ã€‚å¯¹äºå…¶ä»–æ‰€æœ‰è·¯å¾„å…¨éƒ¨è¿”å› 404 Not Foundã€‚ req (è¯·æ±‚) å’Œ res (å“åº”) ä¸ Node æä¾›çš„å¯¹è±¡å®Œå…¨ä¸€è‡´ï¼Œå› æ­¤ï¼Œä½ å¯ä»¥è°ƒç”¨ req.pipe()ã€req.on(&#39;data&#39;, callback) ä»¥åŠä»»ä½• Node æä¾›çš„æ–¹æ³•ã€‚ é€šè¿‡å¦‚ä¸‹å‘½ä»¤å¯åŠ¨æ­¤åº”ç”¨ï¼š $ node app.js ç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://localhost:3000/ å¹¶æŸ¥çœ‹è¾“å‡ºç»“æœã€‚ å››ã€è·¯ç”±è·¯ç”±æ˜¯æŒ‡å¦‚ä½•å®šä¹‰åº”ç”¨çš„ç«¯ç‚¹ï¼ˆURlsï¼‰ä»¥åŠå¦‚ä½•å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚ è·¯ç”±æ˜¯ç”±ä¸€ä¸ªURIã€HTTPè¯·æ±‚ï¼ˆGETã€POSTç­‰ï¼‰å’Œè‹¥å¹²ä¸ªå¥æŸ„ç»„æˆï¼Œå®ƒçš„ç»“æ„å¦‚ä¸‹ï¼šapp.METHOD(path, [callback..], callback)ï¼Œ app æ˜¯ express å¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹ï¼ŒMETHODæ˜¯ä¸€ä¸ª HTTP è¯·æ±‚æ–¹æ³•ï¼Œpath æ˜¯æœåŠ¡å™¨ä¸Šçš„è·¯å¾„ï¼Œ callback æ˜¯å½“è·¯ç”±åŒ¹é…æ—¶è¦æ‰§è¡Œçš„å‡½æ•°ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºæœ¬çš„è·¯ç”±ç¤ºä¾‹ï¼š var express = require(&#39;express&#39;); var app = express(); // respond with &quot;hello world&quot; when a GET request is made to the homepage app.get(&#39;/&#39;, function(req, res) { res.send(&#39;hello world&#39;); }); 1ã€è·¯ç”±æ–¹æ³•è·¯ç”±æ–¹æ³•æºäº HTTP è¯·æ±‚æ–¹æ³•ï¼Œå’Œ express å®ä¾‹ç›¸å…³è”ã€‚ ä¸‹é¢è¿™ä¸ªä¾‹å­å±•ç¤ºäº†ä¸ºåº”ç”¨è·Ÿè·¯å¾„å®šä¹‰çš„ GET å’Œ POST è¯·æ±‚ï¼š // GET method route // å¯¹ç½‘ç«™é¦–é¡µçš„è®¿é—®è¿”å› &quot;Hello World!&quot; å­—æ · app.get(&#39;/&#39;, function (req, res) { res.send(&#39;Hello World!&#39;) }) // ç½‘ç«™é¦–é¡µæ¥å— POST è¯·æ±‚ app.post(&#39;/&#39;, function (req, res) { res.send(&#39;Got a POST request&#39;) }) // /user èŠ‚ç‚¹æ¥å— PUT è¯·æ±‚ app.put(&#39;/user&#39;, function (req, res) { res.send(&#39;Got a PUT request at /user&#39;) }) // /user èŠ‚ç‚¹æ¥å— DELETE è¯·æ±‚ app.delete(&#39;/user&#39;, function (req, res) { res.send(&#39;Got a DELETE request at /user&#39;) }) Express å®šä¹‰äº†å¦‚ä¸‹å’Œ HTTP è¯·æ±‚å¯¹åº”çš„è·¯ç”±æ–¹æ³•ï¼š get, post, put, head, delete, options, trace, copy, lock, mkcol, move, purge, propfind, proppatch, unlock, report, mkactivity, checkout, merge, m-search, notify, subscribe, unsubscribe, patch, search, å’Œ connectã€‚ æœ‰äº›è·¯ç”±æ–¹æ³•åä¸æ˜¯åˆè§„çš„ JavaScript å˜é‡åï¼Œæ­¤æ—¶ä½¿ç”¨æ‹¬å·è®°æ³•ï¼Œæ¯”å¦‚ï¼šapp[&#39;m-search&#39;](&#39;/&#39;, function ...) app.all()æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è·¯ç”±æ–¹æ³•ï¼Œæ²¡æœ‰ä»»ä½•HTTPæ–¹æ³•ä¸å…¶å¯¹åº”ï¼Œå®ƒçš„ä½œç”¨æ˜¯å¯¹äºä¸€ä¸ªè·¯å¾„ä¸Šçš„æ‰€æœ‰è¯·æ±‚åŠ è½½ä¸­é—´ä»¶ã€‚ åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæ¥è‡ª&quot;/secret&quot;çš„è¯·æ±‚ï¼Œä¸ç®¡ä½¿ç”¨ GETã€POSTã€PUTã€DELETEæˆ–å…¶ä»–ä»»ä½•httpæ¨¡å—æ”¯æŒçš„HTTPè¯·æ±‚ï¼Œå¥æŸ„éƒ½ä¼šå¾—åˆ°æ‰§è¡Œã€‚ app.all(&#39;/secret&#39;, function (req, res, next) { console.log(&#39;Accessing the secret section ...&#39;) next(); // pass control to the next handler }) 2ã€è·¯ç”±è·¯å¾„è·¯ç”±è·¯å¾„å’Œè¯·æ±‚æ–¹æ³•ä¸€èµ·å®šä¹‰äº†è¯·æ±‚çš„ç«¯ç‚¹ï¼Œå®ƒå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²æ¨¡å¼æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼ã€‚ Expressä½¿ç”¨path-to-regexpåŒ¹é…è·¯ç”±è·¯å¾„ï¼Œè¯·å‚è€ƒæ–‡æ¡£æŸ¥é˜…æ‰€æœ‰å®šä¹‰è·¯ç”±è·¯å¾„çš„æ–¹æ³•ã€‚Express Route Testeræ˜¯æµ‹è¯•åŸºæœ¬Expressè·¯å¾„çš„å¥½å·¥å…·ï¼Œä½†ä¸æ”¯æŒæ¨¡å¼åŒ¹é…ã€‚ æŸ¥è¯¢å­—ç¬¦ä¸²ä¸æ˜¯è·¯ç”±è·¯å¾„çš„ä¸€éƒ¨åˆ†ã€‚ ä½¿ç”¨å­—ç¬¦ä¸²çš„è·¯ç”±è·¯å¾„ç¤ºä¾‹ï¼š // åŒ¹é…æ ¹è·¯å¾„çš„è¯·æ±‚ app.get(&#39;/&#39;, function (req, res) { res.send(&#39;root&#39;); }); // åŒ¹é… /about è·¯å¾„çš„è¯·æ±‚ app.get(&#39;/about&#39;, function (req, res) { res.send(&#39;about&#39;); }); // åŒ¹é… /random.text è·¯å¾„çš„è¯·æ±‚ app.get(&#39;/random.text&#39;, function (req, res) { res.send(&#39;random.text&#39;); }); ä½¿ç”¨å­—ç¬¦ä¸²æ¨¡å¼çš„è·¯ç”±è·¯å¾„ç¤ºä¾‹ï¼š // åŒ¹é… acd å’Œ abcd app.get(&#39;/ab?cd&#39;, function(req, res) { res.send(&#39;ab?cd&#39;); }); // åŒ¹é… abcdã€abbcdã€abbbcdç­‰ app.get(&#39;/ab+cd&#39;, function(req, res) { res.send(&#39;ab+cd&#39;); }); // åŒ¹é… abcdã€abxcdã€abRABDOMcdã€ab123cdç­‰ app.get(&#39;/ab*cd&#39;, function(req, res) { res.send(&#39;ab*cd&#39;); }); // åŒ¹é… /abe å’Œ /abcde app.get(&#39;/ab(cd)?e&#39;, function(req, res) { res.send(&#39;ab(cd)?e&#39;); }); å­—ç¬¦ ?ã€+ã€* å’Œ () æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„å­é›†ï¼Œ- å’Œ . åœ¨åŸºäºå­—ç¬¦ä¸²çš„è·¯å¾„ä¸­æŒ‰ç…§å­—é¢å€¼è§£é‡Šã€‚ ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„è·¯ç”±è·¯å¾„ç¤ºä¾‹ï¼š // åŒ¹é…ä»»ä½•è·¯å¾„ä¸­å«æœ‰ a çš„è·¯å¾„ï¼š app.get(/a/, function(req, res) { res.send(&#39;/a/&#39;); }); // åŒ¹é… butterflyã€dragonflyï¼Œä¸åŒ¹é… butterflymanã€dragonfly manç­‰ app.get(/.*fly$/, function(req, res) { res.send(&#39;/.*fly$/&#39;); }); 3ã€è·¯ç”±å¥æŸ„å¯ä»¥ä¸ºè¯·æ±‚å¤„ç†æä¾›å¤šä¸ªå›è°ƒå‡½æ•°ï¼Œå…¶è¡Œä¸ºç±»ä¼¼ä¸­é—´ä»¶ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯è¿™äº›å›è°ƒå‡½æ•°æœ‰å¯èƒ½è°ƒç”¨next(&#39;route&#39;)æ–¹æ³•è€Œç•¥è¿‡å…¶ä»–è·¯ç”±å›è°ƒå‡½æ•°ã€‚å¯ä»¥åˆ©ç”¨è¯¥æœºåˆ¶ä¸ºè·¯ç”±å®šä¹‰å‰ææ¡ä»¶ï¼Œå¦‚æœåœ¨ç°æœ‰è·¯å¾„ä¸Šç»§ç»­æ‰§è¡Œæ²¡æœ‰æ„ä¹‰ï¼Œåˆ™å¯å°†æ§åˆ¶æƒäº¤ç»™å‰©ä¸‹çš„è·¯å¾„ã€‚ è·¯ç”±å¥æŸ„æœ‰å¤šç§å½¢å¼ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€ä¸€ä¸ªå‡½æ•°æ•°ç»„ã€æˆ–è€…æ˜¯ä¸¤è€…æ··åˆï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ ä½¿ç”¨ä¸€ä¸ªå›è°ƒå‡½æ•°å¤„ç†è·¯ç”±ï¼š app.get(&#39;/example/a&#39;, function(req, res) { res.send(&#39;Hello from A!&#39;) }) ä½¿ç”¨å¤šä¸ªå›è°ƒå‡½æ•°å¤„ç†è·¯ç”±ï¼ˆè®°å¾—æŒ‡å®šnextå¯¹è±¡ï¼‰ï¼š app.get(&#39;/example/b&#39;, function (req, res, next) { console.log(&#39;response will be sent by the next function ...&#39;); next(); }, function (req, res) { res.send(&#39;Hello from B!&#39;); }); ä½¿ç”¨å›è°ƒå‡½æ•°æ•°ç»„å¤„ç†è·¯ç”±ï¼š var cb0 = function (req, res, next) { console.log(&#39;CB0&#39;) next() } var cb1 = function (req, res, next) { console.log(&#39;CB1&#39;) next() } var cb2 = function (req, res) { res.send(&#39;Hello from C!&#39;) } app.get(&#39;/example/c&#39;, [cb0, cb1, cb2]) æ··åˆä½¿ç”¨å‡½æ•°å’Œå‡½æ•°æ•°ç»„å¤„ç†è·¯ç”±ï¼š var cb0 = function (req, res, next) { console.log(&#39;CB0&#39;) next() } var cb1 = function (req, res, next) { console.log(&#39;CB1&#39;) next() } app.get(&#39;/example/d&#39;, [cb0, cb1], function (req, res, next) { console.log(&#39;response will be sent by the next function ...&#39;) next() }, function (req, res) { res.send(&#39;Hello from D!&#39;) }) 4ã€å“åº”æ–¹æ³•ä¸‹è¡¨ä¸­å“åº”å¯¹è±¡(res)çš„æ–¹æ³•å‘å®¢æˆ·ç«¯è¿”å›å“åº”ï¼Œç»ˆç»“è¯·æ±‚å“åº”çš„å¾ªç¯ã€‚å¦‚æœåœ¨è·¯ç”±å¥æŸ„ä¸­ä¸€ä¸ªæ–¹æ³•ä¹Ÿä¸è°ƒç”¨ï¼Œæ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ä¼šä¸€ç›´æŒ‚èµ·ã€‚ æ–¹æ³• æè¿° res.download() æç¤ºä¸‹è½½æ–‡ä»¶ res.end() ç»ˆç»“å“åº”å¤„ç†æµç¨‹ res.json() å‘é€ä¸€ä¸ªJSONæ ¼å¼çš„å“åº” res.jsonp() å‘é€ä¸€ä¸ªæ”¯æŒJSONPçš„JSONæ ¼å¼çš„å“åº” res.direct() é‡å®šå‘è¯·æ±‚ res.render() æ¸²æŸ“è§†å›¾æ¨¡æ¿ res.send() å‘é€å„ç§ç±»å‹çš„å“åº” res.sendFile() ä»¥å…«ä½å­—èŠ‚æµçš„å½¢å¼å‘é€æ–‡ä»¶ res.sendStatus() è®¾ç½®å“åº”çŠ¶æ€ä»£ç ï¼Œå¹¶å°†å…¶ä»¥å­—ç¬¦ä¸²å½¢å¼ä½œä¸ºå“åº”ä½“çš„ä¸€éƒ¨åˆ†å‘é€ 5ã€app.route()å¯ä½¿ç”¨app.route()åˆ›å»ºè·¯ç”±è·¯å¾„çš„é“¾å¼è·¯ç”±å¥æŸ„ã€‚ç”±äºè·¯å¾„åœ¨ä¸€ä¸ªåœ°æ–¹æŒ‡å®šï¼Œè¿™æ ·åšæœ‰åŠ©äºåˆ›å»ºæ¨¡å—åŒ–çš„è·¯ç”±ï¼Œè€Œä¸”å‡å°‘äº†ä»£ç å†—ä½™å’Œæ‹¼å†™é”™è¯¯ã€‚ ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ç¨‹åºä½¿ç”¨app.route()å®šä¹‰äº†é“¾å¼è·¯ç”±å¥æŸ„ã€‚ app.route(&#39;/book&#39;) .get(function(req, res) { res.send(&#39;Get a random book&#39;); }) .post(function(req, res) { res.send(&#39;Add a book&#39;); }) .put(function(req, res) { res.send(&#39;Update the book&#39;); }); 6ã€express.Routerå¯ä½¿ç”¨express.Routerç±»åˆ›å»ºæ¨¡å—åŒ–ã€å¯æŒ‚è½½çš„è·¯ç”±å¥æŸ„ã€‚Routerå®ä¾‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸­é—´ä»¶å’Œè·¯ç”±ç³»ç»Ÿï¼Œå› æ­¤å¸¸ç§°å…¶ä¸ºä¸€ä¸ª&#39;mini-app&#39;ã€‚ ä¸‹é¢çš„å®ä¾‹ç¨‹åºåˆ›å»ºäº†ä¸€ä¸ªè·¯ç”±æ¨¡å—ï¼Œå¹¶åŠ è½½ äº†ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå®šä¹‰äº†ä¸€äº›è·¯ç”±ï¼Œå¹¶ä¸”å°†å®ƒä»¬æŒ‚è½½è‡³åº”ç”¨çš„è·¯å¾„ä¸Šã€‚ åœ¨appç›®å½•ä¸‹åˆ›å»ºåä¸ºbird.jsçš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š var express = require(&#39;express&#39;); var router = express.Router(); // è¯¥è·¯ç”±ä½¿ç”¨çš„ä¸­é—´ä»¶ router.use(function timeLog(req, res, next) { console.log(&#39;Time: &#39;, Date.now()); next(); }); // å®šä¹‰ç½‘ç«™ä¸»é¡µçš„è·¯ç”± router.get(&#39;/&#39;, function(req, res) { res.send(&#39;Birds home page&#39;); }); // å®šä¹‰ about é¡µé¢çš„è·¯ç”± router.get(&#39;/about&#39;, function(req, res) { res.send(&#39;About birds&#39;); }); module.exports = router; ç„¶ååœ¨åº”ç”¨ä¸­åŠ è½½è·¯ç”±æ¨¡å—ï¼š var birds = require(&#39;./birds&#39;) ... app.use(&#39;/birds&#39;, birds) åº”ç”¨å³å¯å¤„ç†å‘è‡ª /birds å’Œ /birds/about çš„è¯·æ±‚ï¼Œå¹¶ä¸”è°ƒç”¨ä¸ºè¯¥è·¯ç”±æŒ‡å®šçš„ timeLog ä¸­é—´ä»¶ã€‚ äº”ã€åˆ©ç”¨Expressæ‰˜ç®¡é™æ€æ–‡ä»¶é€šè¿‡Expresså†…ç½®çš„express.staticå¯ä»¥æ–¹ä¾¿åœ°æ‰˜ç®¡é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚å›¾ç‰‡ã€CSSã€JavaScriptæ–‡ä»¶ç­‰ã€‚ å°†é™æ€èµ„æºæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä½œä¸ºå‚æ•°ä¼ é€’ç»™express.staticä¸­é—´ä»¶å°±å¯ä»¥æä¾›é™æ€èµ„æºæ–‡ä»¶çš„è®¿é—®äº†ã€‚ä¾‹å¦‚ï¼Œå‡è®¾åœ¨publicç›®å½•æ”¾ç½®äº†å›¾ç‰‡ã€CSSå’ŒJavaScriptæ–‡ä»¶ï¼Œä½ å°±å¯ä»¥ï¼š app.use(express.static(&#39;public&#39;)) ç°åœ¨ï¼Œpublicç›®å½•ä¸‹é¢çš„æ–‡ä»¶å°±å¯ä»¥è®¿é—®äº†ã€‚ http://localhost:3000/images/kitten.jpg http://localhost:3000/css/style.css http://localhost:3000/js/app.js http://localhost:3000/images/bg.png http://localhost:3000/hello.html æ‰€æœ‰æ–‡ä»¶çš„è·¯å¾„éƒ½æ˜¯ç›¸å¯¹äºå­˜æ”¾ç›®å½•çš„ï¼Œå› æ­¤ï¼Œå­˜æ”¾é™æ€æ–‡ä»¶çš„ç›®å½•åä¸ä¼šå‡ºç°åœ¨URLä¸­ã€‚ å¦‚æœä½ çš„é™æ€èµ„æºå­˜æ”¾åœ¨å¤šä¸ªç›®å½•ä¸‹é¢ï¼Œä½ å¯ä»¥å¤šæ¬¡è°ƒç”¨express.staticä¸­é—´ä»¶ï¼š app.use(express.static(&#39;public&#39;)) app.use(express.static(&#39;files&#39;)) è®¿é—®é™æ€èµ„æºæ–‡ä»¶æ—¶ï¼Œexpress.staticä¸­é—´ä»¶ä¼šæ ¹æ®ç›®å½•æ·»åŠ çš„é¡ºåºæŸ¥æ‰¾æ‰€éœ€çš„æ–‡ä»¶ã€‚ å¦‚æœä½ å¸Œæœ›æ‰€æœ‰é€šè¿‡express.staticè®¿é—®çš„æ–‡ä»¶éƒ½å­˜æ”¾åœ¨ä¸€ä¸ªâ€è™šæ‹Ÿ(virtual)â€œç›®å½•ï¼ˆå³ç›®å½•æ ¹æœ¬ä¸å­˜åœ¨ï¼‰ä¸‹é¢ï¼Œå¯ä»¥é€šè¿‡ä¸ºé™æ€èµ„æºç›®å½•æŒ‡å®šä¸€ä¸ªæŒ‚è½½è·¯å¾„çš„æ–¹å¼æ¥å®ç°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š app.use(&#39;/static&#39;, express.static(&#39;public&#39;)) ç°åœ¨ï¼Œä½ å°±å¯ä»¥é€šè¿‡å¸¦æœ‰â€/staticâ€œå‰ç¼€çš„åœ°å€æ¥è®¿é—®publicç›®å½•ä¸‹é¢çš„æ–‡ä»¶äº†ã€‚ http://localhost:3000/static/images/kitten.jpg http://localhost:3000/static/css/style.css http://localhost:3000/static/js/app.js http://localhost:3000/static/images/bg.png http://localhost:3000/static/hello.html å…­ã€ä½¿ç”¨ä¸­é—´ä»¶Expressæ˜¯ä¸€ä¸ªè‡ªèº«åŠŸèƒ½æç®€ï¼Œå®Œå…¨æ˜¯ç”±è·¯ç”±å’Œä¸­é—´ä»¶æ„æˆä¸€ä¸ªçš„webå¼€å‘æ¡†æ¶ï¼šä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œä¸€ä¸ªExpressåº”ç”¨å°±æ˜¯åœ¨è°ƒç”¨å„ç§ä¸­é—´ä»¶ã€‚ ä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥è®¿é—®è¯·æ±‚å¯¹è±¡ï¼ˆrequest object(req)ï¼‰ï¼Œå“åº”å¯¹è±¡(response object(res))ï¼Œå’Œwebåº”ç”¨ä¸­å¤„äºè¯·æ±‚-å“åº”å¾ªç¯æµç¨‹ä¸­çš„ä¸­é—´ä»¶ï¼Œä¸€èˆ¬è¢«å‘½åä¸ºnextçš„å˜é‡ã€‚ ä¸­é—´ä»¶çš„åŠŸèƒ½åŒ…æ‹¬ï¼š æ‰§è¡Œä»»ä½•ä»£ç  ä¿®æ”¹è¯·æ±‚å’Œå“åº”å¯¹è±¡ ç»ˆç»“è¯·æ±‚-å“åº”å¾ªç¯ è°ƒç”¨å †æ ˆä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ å¦‚æœå½“å‰ä¸­é—´ä»¶æ²¡æœ‰ç»ˆç»“è¯·æ±‚-å“åº”å¾ªç¯ï¼Œåˆ™å¿…é¡»è°ƒç”¨next()æ–¹æ³•å°†æ§åˆ¶æƒäº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå¦åˆ™è¯·æ±‚å°±ä¼šæŒ‚èµ·ã€‚ Expressåº”ç”¨å¯ä½¿ç”¨å¦‚ä¸‹å‡ ç§ä¸­é—´ä»¶ï¼š åº”ç”¨çº§ä¸­é—´ä»¶ è·¯ç”±çº§ä¸­é—´ä»¶ é”™è¯¯å¤„ç†ä¸­é—´ä»¶ å†…ç½®ä¸­é—´ä»¶ ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ ä½¿ç”¨å¯é€‰åˆ™æŒ‚è½½è·¯å¾„ï¼Œå¯åœ¨åº”ç”¨çº§åˆ«æˆ–è·¯ç”±çº§åˆ«è£…è½½ä¸­é—´ä»¶ã€‚å¦å¤–ï¼Œä½ è¿˜å¯ä»¥åŒæ—¶è£…åœ¨ä¸€ç³»åˆ—ä¸­é—´ä»¶å‡½æ•°ï¼Œä»è€Œåœ¨ä¸€ä¸ªæŒ‚è½½ç‚¹ä¸Šåˆ›å»ºä¸€ä¸ªå­ä¸­é—´ä»¶æ ˆã€‚ 1ã€åº”ç”¨çº§ä¸­é—´ä»¶åº”ç”¨çº§ä¸­é—´ä»¶ç»‘å®šåˆ°appå¯¹è±¡ï¼Œä½¿ç”¨app.use()å’Œapp.METHOD()ï¼Œå…¶ä¸­ï¼ŒMETHODæ˜¯éœ€è¦å¤„ç†çš„HTTPè¯·æ±‚çš„æ–¹æ³•ï¼Œä¾‹å¦‚GET,PUT,POSTç­‰ç­‰ï¼Œå…¨éƒ¨å°å†™ã€‚ä¾‹å¦‚ï¼š var app = express() // æ²¡æœ‰æŒ‚è½½è·¯å¾„çš„ä¸­é—´ä»¶ï¼Œåº”ç”¨çš„æ¯ä¸ªè¯·æ±‚éƒ½ä¼šæ‰§è¡Œè¯¥ä¸­é—´ä»¶ app.use(function (req, res, next) { console.log(&#39;Time:&#39;, Date.now()) next() }) // æŒ‚è½½è‡³ /user/:id çš„ä¸­é—´ä»¶ï¼Œä»»ä½•æŒ‡å‘ /user/:id çš„è¯·æ±‚éƒ½ä¼šæ‰§è¡Œå®ƒ app.use(&#39;/user/:id&#39;, function(req, res, next) { console.log(&#39;Request Type:&#39;, req.method) next() }) // è·¯ç”±å’Œå¥æŸ„å‡½æ•°(ä¸­é—´ä»¶ç³»ç»Ÿ)ï¼Œå¤„ç†æŒ‡å‘ /user/:id çš„ GET è¯·æ±‚ app.get(&#39;/user/:id&#39;, function(req, res, next) { res.send(&#39;USER&#39;) }) ä¸‹é¢è¿™ä¸ªä¾‹å­å±•ç¤ºäº†åœ¨ä¸€ä¸ªæŒ‚è½½ç‚¹è£…è½½ä¸€ç»„ä¸­é—´ä»¶ã€‚ // ä¸€ä¸ªä¸­é—´ä»¶æ ˆï¼Œå¯¹ä»»ä½•æŒ‡å‘ /user/:id çš„ HTTP è¯·æ±‚æ‰“å°å‡ºç›¸å…³ä¿¡æ¯ app.use(&#39;/user/:id&#39;, function(req, res, next) { console.log(&#39;Request URL:&#39;, req.originalUrl) next() }, function(req, res, next) { console.log(&#39;Request Type:&#39;, req.method) next() }) ä½œä¸ºä¸­é—´ä»¶ç³»ç»Ÿçš„è·¯ç”±å¥æŸ„ï¼Œä½¿å¾—ä¸ºè·¯å¾„å®šä¹‰å¤šä¸ªè·¯ç”±æˆä¸ºå¯èƒ½ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œä¸ºæŒ‡å‘ /user/:id çš„ GET è¯·æ±‚å®šä¹‰äº†ä¸¤ä¸ªè·¯ç”±ã€‚ ç¬¬äºŒä¸ªè·¯ç”±è™½ç„¶ä¸ä¼šå¸¦æ¥ä»»ä½•é—®é¢˜ï¼Œä½†å´æ°¸è¿œä¸ä¼šè¢«è°ƒç”¨ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªè·¯ç”±å·²ç»ç»ˆæ­¢äº†è¯·æ±‚-å“åº”å¾ªç¯ã€‚ // ä¸€ä¸ªä¸­é—´ä»¶æ ˆï¼Œå¤„ç†æŒ‡å‘ /user/:id çš„ GETè¯·æ±‚ app.get(&#39;/user/:id&#39;, function(req, res, next) { console.log(&#39;ID:&#39;, req.params.id) next() }, function(req, res, next) { res.send(&#39;User Info&#39;) }) // å¤„ç† /user/:id, æ‰“å°å‡ºç”¨æˆ·id app.get(&#39;/user/:id&#39;, function(req, res, next) { res.end(req.params.id) }) å¦‚æœéœ€è¦åœ¨ä¸­é—´ä»¶æ ˆä¸­è·³è¿‡å‰©ä½™ä¸­é—´ä»¶ï¼Œè°ƒç”¨ next(&#39;route&#39;)æ–¹æ³•å°†æ§åˆ¶æƒäº¤ç»™ä¸‹ä¸€ä¸ªè·¯ç”±ã€‚æ³¨æ„ï¼šnext(&#39;route&#39;)åªå¯¹ä½¿ç”¨ app.VERB() æˆ– router.VERB()åŠ è½½çš„ä¸­é—´ä»¶æœ‰æ•ˆã€‚ // ä¸€ä¸ªä¸­é—´ä»¶æ ˆï¼Œå¤„ç†æŒ‡å‘ /user/:id çš„ GET è¯·æ±‚ app.get(&#39;/user/:id&#39;, function(req, res, next) { // å¦‚æœ user id ä¸º0ï¼Œè·³åˆ°ä¸‹ä¸€ä¸ªè·¯ç”± if (req.params.id === 0) next(&#39;route&#39;) // å¦åˆ™å°†æ§åˆ¶æƒäº¤ç»™æ ˆä¸­ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ else next() }, function(req, res, next) { // æ¸²æŸ“å¸¸è§„é¡µé¢ res.render(&#39;regular&#39;) }) // å¤„ç† /user/:id, æ¸²æŸ“ä¸€ä¸ªç‰¹æ®Šé¡µé¢ app.get(&#39;/user/:id&#39;, function(req, res, next) { res.render(&#39;special&#39;) }) 2ã€è·¯ç”±çº§ä¸­é—´ä»¶è·¯ç”±çº§ä¸­é—´ä»¶å’Œåº”ç”¨çº§ä¸­é—´ä»¶ä¸€æ ·ï¼Œåªæ˜¯å®ƒç»‘å®šçš„å¯¹è±¡ä¸º express.Router()ã€‚ var router = express.Router() è·¯ç”±çº§ä½¿ç”¨router.use()æˆ–router.VERB()åŠ è½½ã€‚ ä¸Šè¿°åœ¨åº”ç”¨çº§åˆ›å»ºçš„ä¸­é—´ä»¶ç³»ç»Ÿï¼Œå¯é€šè¿‡å¦‚ä¸‹ä»£ç æ”¹å†™ä¸ºè·¯ç”±çº§ã€‚ var app = express() var router = express.Router() // æ²¡æœ‰æŒ‚è½½è·¯å¾„çš„ä¸­é—´ä»¶ï¼Œé€šè¿‡è¯¥è·¯ç”±çš„æ¯ä¸ªè¯·æ±‚éƒ½ä¼šæ‰§è¡Œè¯¥ä¸­é—´ä»¶ router.use(function (req, res, next) { console.log(&#39;Time:&#39;, Date.now()) next() }) // ä¸€ä¸ªä¸­é—´ä»¶æ ˆï¼Œæ˜¾ç¤ºä»»ä½•æŒ‡å‘ /user/:id çš„ HTTP è¯·æ±‚çš„ä¿¡æ¯ router.use(&#39;/user/:id&#39;, function(req, res, next) { console.log(&#39;Request URL:&#39;, req.originalUrl) next() }, function (req, res, next) { console.log(&#39;Request Type:&#39;, req.method) next() }) // ä¸€ä¸ªä¸­é—´ä»¶æ ˆï¼Œå¤„ç†æŒ‡å‘ /user/:id çš„ GET è¯·æ±‚ router.get(&#39;/user/:id&#39;, function (req, res, next) { // å¦‚æœ user id ä¸º 0, è·³åˆ°ä¸‹ä¸€ä¸ªè·¯ç”± if (req.params.id == 0) next(&#39;route&#39;) // è´Ÿè´£å°†æ§åˆ¶æƒäº¤ç»™æ ˆä¸­ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ else next() // }, function (req, res, next) { // æ¸²æŸ“å¸¸è§„é¡µé¢ res.render(&#39;regular&#39;) }) // å¤„ç† /user/:idï¼Œ æ¸²æŸ“ä¸€ä¸ªç‰¹æ®Šé¡µé¢ router.get(&#39;/user/:id&#39;, function (req, res, next) { console.log(req.params.id) res.render(&#39;special&#39;) }) // å°†è·¯ç”±æŒ‚è½½è‡³åº”ç”¨ app.use(&#39;/&#39;, router) 3ã€é”™è¯¯å¤„ç†ä¸­é—´ä»¶ é”™è¯¯å¤„ç†ä¸­é—´ä»¶æœ‰4ä¸ªå‚æ•°ï¼Œå®šä¹‰é”™è¯¯å¤„ç†ä¸­é—´ä»¶æ—¶å¿…é¡»ä½¿ç”¨è¿™4ä¸ªå‚æ•°ã€‚å³ä½¿ä¸éœ€è¦nextå¯¹è±¡ï¼Œä¹Ÿå¿…é¡»åœ¨ç­¾åä¸­å£°æ˜å®ƒï¼Œå¦åˆ™ä¸­é—´ä»¶ä¼šè¢«è¯†åˆ«ä¸ºä¸€ä¸ªå¸¸è§„ä¸­é—´ä»¶ï¼Œä¸èƒ½å¤„ç†é”™è¯¯ã€‚ é”™è¯¯å¤„ç†ä¸­é—´ä»¶å’Œå…¶ä»–ä¸­é—´ä»¶å®šä¹‰ç±»ä¼¼ï¼Œåªæ˜¯è¦ä½¿ç”¨4ä¸ªå‚æ•°ï¼Œè€Œä¸æ˜¯3ä¸ªï¼Œå…¶ç­¾åå¦‚ä¸‹ï¼š(err,req,res,next)ã€‚ app.use(function(err, req, res, next) { console.error(err.stack) res.status(500).send(&#39;Something broke!&#39;) }) 4ã€å†…ç½®ä¸­é—´ä»¶ä»4.xç‰ˆæœ¬å¼€å§‹ï¼ŒExpresså·²ç»ä¸å†ä¾èµ–Connectäº†ã€‚é™¤äº†express.staticï¼ŒExpressä»¥å‰å†…ç½®çš„ä¸­é—´ä»¶ç°åœ¨å·²ç»å…¨éƒ¨å•ç‹¬ä½œä¸ºæ¨¡å—å®‰è£…ä½¿ç”¨äº†ã€‚è¯·å‚è€ƒ ä¸­é—´ä»¶åˆ—è¡¨ã€‚ express.static(root, [options]) express.static æ˜¯ Express å”¯ä¸€å†…ç½®çš„ä¸­é—´ä»¶ã€‚å®ƒåŸºäº serve-staticï¼Œè´Ÿè´£åœ¨Expressåº”ç”¨ä¸­ææ‰˜ç®¡é™æ€èµ„æºã€‚ å‚æ•° root æŒ‡æä¾›é™æ€èµ„æºçš„æ ¹ç›®å½•ã€‚ å¯é€‰çš„ options å‚æ•°æ‹¥æœ‰å¦‚ä¸‹å±æ€§ã€‚ å±æ€§ æè¿° ç±»å‹ ç¼ºçœå€¼ dotfiles æ˜¯å¦å¯¹å¤–è¾“å‡ºæ–‡ä»¶åä»¥ç‚¹ï¼ˆ.ï¼‰å¼€å¤´çš„æ–‡ä»¶ã€‚å¯é€‰å€¼ä¸ºâ€allowâ€œï¼Œâ€denyâ€œå’Œâ€ignoreâ€œã€‚ String â€ignoreâ€œ etag æ˜¯å¦å¯ç”¨etagç”Ÿæˆ Boolean true extensions è®¾ç½®æ–‡ä»¶æ‰©å±•åå¤‡ä»½é€‰é¡¹ Array [] index å‘é€ç›®å½•ç´¢å¼•æ–‡ä»¶ï¼Œè®¾ç½®ä¸ºfalseç¦ç”¨ç›®å½•ç´¢å¼• Mixed &quot;index.html&quot; lastModified è®¾ç½®Last-Modifiedå¤´ä¸ºæ–‡ä»¶åœ¨æ“ä½œç³»ç»Ÿä¸Šçš„æœ€åä¿®æ”¹æ—¥æœŸã€‚å¯èƒ½å€¼ä¸ºtrueæˆ–false Boolean true maxAge ä»¥æ¯«ç§’æˆ–è€…å…¶å­—ç¬¦ä¸²æ ¼å¼è®¾ç½®Cache-Controlå¤´çš„max-ageå±æ€§ã€‚ Number 0 redirect å½“è·¯å¾„ä¸ºç›®å½•æ—¶ï¼Œé‡å®šå‘è‡³â€/â€œ Boolean true setHeaders è®¾ç½®HTTPå¤´ä»¥æä¾›æ–‡ä»¶çš„å‡½æ•° Function ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨äº† express.static ä¸­é—´ä»¶ï¼Œå…¶ä¸­çš„ options å¯¹è±¡ç»è¿‡äº†ç²¾å¿ƒçš„è®¾è®¡ã€‚ var options = { dotfiles: &#39;ignore&#39;, etag: false, extensions: [&#39;htm&#39;, &#39;html&#39;], index: false, maxAge: &#39;1d&#39;, redirect: false, setHeaders: function (res, path, stat) { res.set(&#39;x-timestamp&#39;, Date.now()) } } app.use(express.static(&#39;public&#39;, options)) æ¯ä¸ªåº”ç”¨å¯æœ‰å¤šä¸ªé™æ€ç›®å½•ã€‚ app.use(express.static(&#39;public&#39;)) app.use(express.static(&#39;uploads&#39;)) app.use(express.static(&#39;files&#39;)) 5ã€ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶é€šè¿‡ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ä»è€Œä¸º Express åº”ç”¨å¢åŠ æ›´å¤šåŠŸèƒ½ã€‚ å®‰è£…æ‰€éœ€åŠŸèƒ½çš„ node æ¨¡å—ï¼Œå¹¶åœ¨åº”ç”¨ä¸­åŠ è½½ï¼Œå¯ä»¥åœ¨åº”ç”¨çº§åŠ è½½ï¼Œä¹Ÿå¯ä»¥åœ¨è·¯ç”±çº§åŠ è½½ã€‚ ä¸‹é¢çš„ä¾‹å­å®‰è£…å¹¶åŠ è½½äº†ä¸€ä¸ªè§£æ cookie çš„ä¸­é—´ä»¶ï¼š cookie-parser $ npm install cookie-parser var express = require(&#39;express&#39;) var app = express() var cookieParser = require(&#39;cookie-parser&#39;) // åŠ è½½ç”¨äºè§£æ cookie çš„ä¸­é—´ä»¶ app.use(cookieParser()) ä¸ƒã€åœ¨Expressä¸­ä½¿ç”¨æ¨¡æ¿å¼•æ“éœ€è¦åœ¨åº”ç”¨ä¸­è¿›è¡Œå¦‚ä¸‹è®¾ç½®æ‰èƒ½è®©Expressæ¸²æŸ“æ¨¡æ¿æ–‡ä»¶ï¼š viewsï¼Œæ”¾æ¨¡æ¿æ–‡ä»¶çš„ç›®å½•ï¼Œæ¯”å¦‚ï¼šapp.set(&#39;views&#39;, &#39;./views&#39;) view engineï¼Œæ¨¡æ¿å¼•æ“ï¼Œæ¯”å¦‚ï¼šapp.set(&#39;view engine&#39;, &#39;ejs&#39;) art-template art-template for express 4.x. 1ã€Install npm install --save art-template npm install --save express-art-template 2ã€Example var express = require(&#39;express&#39;) var app = express() // view engine setup app.engine(&#39;art&#39;, require(&#39;express-art-template&#39;)) app.set(&#39;view&#39;, { debug: process.env.NODE_ENV !== &#39;production&#39; }) app.set(&#39;views&#39;, path.join(__dirname, &#39;views&#39;)) app.set(&#39;view engine&#39;, &#39;art&#39;) // routes app.get(&#39;/&#39;, function (req, res) { res.render(&#39;index.art&#39;, { user: { name: &#39;aui&#39;, tags: [&#39;art&#39;, &#39;template&#39;, &#39;nodejs&#39;] } }) }) 03-Koa2ä¸€ã€koa2å¿«é€Ÿå¼€å§‹å› ä¸ºnode.js v7.6.0å¼€å§‹å®Œå…¨æ”¯æŒasync/awaitï¼Œä¸éœ€è¦åŠ flagï¼Œæ‰€ä»¥node.jsç¯å¢ƒéƒ½è¦7.6.0ä»¥ä¸Šnode.jsç¯å¢ƒ ç‰ˆæœ¬v7.6ä»¥ä¸Š npm ç‰ˆæœ¬3.xä»¥ä¸Š","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"åç«¯","slug":"åç«¯","permalink":"/tags/åç«¯/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]},{"title":"Hexo-Theme-Sakura","slug":"Hexo-Theme-Sakura","date":"2018-12-12T14:16:01.000Z","updated":"2021-08-12T10:44:10.293Z","comments":true,"path":"2018/12/12/Hexo-Theme-Sakura/","link":"","permalink":"/2018/12/12/Hexo-Theme-Sakura/","excerpt":"","text":"hexo-theme-sakuraä¸»é¢˜ English document åŸºäºWordPressä¸»é¢˜Sakuraä¿®æ”¹æˆHexoçš„ä¸»é¢˜ã€‚ demoé¢„è§ˆ æ­£åœ¨å¼€å‘ä¸­...... äº¤æµç¾¤è‹¥ä½ æ˜¯ä½¿ç”¨è€…ï¼ŒåŠ ç¾¤QQ: 801511924 è‹¥ä½ æ˜¯åˆ›ä½œè€…ï¼ŒåŠ ç¾¤QQ: 194472590 ä¸»é¢˜ç‰¹æ€§ é¦–é¡µå¤§å±è§†é¢‘ é¦–é¡µéšæœºå°é¢ å›¾ç‰‡æ‡’åŠ è½½ valineè¯„è®º fancy-boxç›¸å†Œ pjaxæ”¯æŒï¼ŒéŸ³ä¹ä¸é—´æ–­ aplayeréŸ³ä¹æ’­æ”¾å™¨ å¤šçº§å¯¼èˆªèœå•ï¼ˆæŒ‰ç°åœ¨å¤§éƒ¨åˆ†hexoä¸»é¢˜æ¥è¯´ï¼Œè¿™ä¹Ÿç®—æ˜¯ä¸ªç‰¹æ€§äº†ï¼‰ èµèµä½œè€…å¦‚æœå–œæ¬¢hexo-theme-sakuraä¸»é¢˜ï¼Œå¯ä»¥è€ƒè™‘èµ„åŠ©ä¸€ä¸‹å“¦~éå¸¸æ„Ÿæ¿€ï¼ paypal | Alipay æ”¯ä»˜å® | WeChat Pay å¾®ä¿¡æ”¯ä»˜ æœªå®Œå–„çš„ä½¿ç”¨æ•™ç¨‹é‚£å•¥ï¼Ÿè€å®è¯´æˆ‘ç›®å‰ä¹Ÿä¸æ˜¯å¾ˆæœ‰æ¡ç†233333333~ 1ã€ä¸»é¢˜ä¸‹è½½å®‰è£…hexo-theme-sakuraå»ºè®®ä¸‹è½½å‹ç¼©åŒ…æ ¼å¼ï¼Œå› ä¸ºé™¤äº†ä¸»é¢˜å†…å®¹è¿˜æœ‰äº›sourceçš„é…ç½®å¯¹æ–°æ‰‹æ¥è¯´æ¯”è¾ƒå¤ªéº»çƒ¦ï¼Œç›´æ¥ä¸‹è½½è§£å‹å°±çœå»è¿™äº›éº»çƒ¦å’¯ã€‚ ä¸‹è½½å¥½åè§£å‹åˆ°åšå®¢æ ¹ç›®å½•ï¼ˆä¸æ˜¯ä¸»é¢˜ç›®å½•å“¦ï¼Œé‡å¤çš„é€‰æ‹©æ›¿æ¢ï¼‰ã€‚æ¥ç€åœ¨å‘½ä»¤è¡Œï¼ˆcmdã€bashï¼‰è¿è¡Œnpm iå®‰è£…ä¾èµ–ã€‚ 2ã€ä¸»é¢˜é…ç½®åšå®¢æ ¹ç›®å½•ä¸‹çš„_configé…ç½®ç«™ç‚¹ # Site title: ä½ çš„ç«™ç‚¹å subtitle: description: ç«™ç‚¹ç®€ä»‹ keywords: author: ä½œè€…å language: zh-cn timezone: éƒ¨ç½² deploy: type: git repo: github: ä½ çš„githubä»“åº“åœ°å€ # coding: ä½ çš„codingä»“åº“åœ°å€ branch: master å¤‡ä»½ ï¼ˆä½¿ç”¨hexo bå‘å¸ƒå¤‡ä»½åˆ°è¿œç¨‹ä»“åº“ï¼‰ backup: type: git message: backup my blog of https://honjun.github.io/ repository: # ä½ çš„githubä»“åº“åœ°å€,å¤‡ä»½åˆ†æ”¯å ï¼ˆå»ºè®®æ–°å»ºbackupåˆ†æ”¯ï¼‰ github: https://github.com/honjun/honjun.github.io.git,backup # coding: https://git.coding.net/hojun/hojun.git,backup ä¸»é¢˜ç›®å½•ä¸‹çš„_configé…ç½®å…¶ä¸­æ ‡æ˜ã€æ”¹ã€‘çš„æ˜¯éœ€è¦ä¿®æ”¹éƒ¨é—¨ï¼Œæ ‡æ˜ã€é€‰ã€‘æ˜¯å¯æ”¹å¯ä¸æ”¹ï¼Œæ ‡æ˜ã€éã€‘æ˜¯ä¸ç”¨æ”¹çš„éƒ¨åˆ† # site name # ç«™ç‚¹å ã€æ”¹ã€‘ prefixName: ã•ãã‚‰è˜ãã® siteName: hojun # favicon and site master avatar # ç«™ç‚¹çš„faviconå’Œå¤´åƒ è¾“å…¥å›¾ç‰‡è·¯å¾„ï¼ˆä¸‹é¢çš„é…ç½®æ˜¯éƒ½æ˜¯cdnçš„ç›¸å¯¹è·¯å¾„ï¼Œæ²¡æœ‰cdnè¯·å¡«å†™å®Œæ•´è·¯å¾„ï¼Œå»ºè®®ä½¿ç”¨jsdeliveræ­å»ºä¸€ä¸ªcdnå•¦ï¼Œå…ˆå»ä¸‹è½½æˆ‘çš„cdnæ›¿æ¢ä¸‹å›¾ç‰‡å°±è¡Œäº†ï¼Œç®€å•æ–¹ä¾¿~ï¼‰ã€æ”¹ã€‘ favicon: /images/favicon.ico avatar: /img/custom/avatar.jpg # ç«™ç‚¹url ã€æ”¹ã€‘ url: https://sakura.hojun.cn # ç«™ç‚¹ä»‹ç»ï¼ˆæˆ–è€…è¯´æ˜¯ä¸ªäººç­¾åï¼‰ã€æ”¹ã€‘ description: Live your life with passion! With some drive! # ç«™ç‚¹cdnï¼Œæ²¡æœ‰å°±ä¸ºç©º ã€æ”¹ã€‘ è‹¥æ˜¯cdnä¸ºç©ºï¼Œä¸€äº›å›¾ç‰‡åœ°å€å°±è¦å¡«å®Œæ•´åœ°å€äº†ï¼Œæ¯”å¦‚ä¹‹å‰avatarå°±è¦å¡«https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/custom/avatar.jpg cdn: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6 # å¼€å¯pjax ã€é€‰ã€‘ pjax: 1 # ç«™ç‚¹é¦–é¡µçš„å…¬å‘Šä¿¡æ¯ ã€æ”¹ã€‘ notice: hexo-Sakuraä¸»é¢˜å·²ç»å¼€æºï¼Œç›®å‰æ­£åœ¨å¼€å‘ä¸­... # æ‡’åŠ è½½çš„åŠ è½½ä¸­å›¾ç‰‡ ã€é€‰ã€‘ lazyloadImg: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg # ç«™ç‚¹èœå•é…ç½® ã€é€‰ã€‘ menus: é¦–é¡µ: { path: /, fa: fa-fort-awesome faa-shake } å½’æ¡£: { path: /archives, fa: fa-archive faa-shake, submenus: { æŠ€æœ¯: {path: /categories/æŠ€æœ¯/, fa: fa-code }, ç”Ÿæ´»: {path: /categories/ç”Ÿæ´»/, fa: fa-file-text-o }, èµ„æº: {path: /categories/èµ„æº/, fa: fa-cloud-download }, éšæƒ³: {path: /categories/éšæƒ³/, fa: fa-commenting-o }, è½¬è½½: {path: /categories/è½¬è½½/, fa: fa-book } } } æ¸…å•: { path: javascript:;, fa: fa-list-ul faa-vertical, submenus: { ä¹¦å•: {path: /tags/æ‚¦è¯»/, fa: fa-th-list faa-bounce }, ç•ªç»„: {path: /bangumi/, fa: fa-film faa-vertical }, æ­Œå•: {path: /music/, fa: fa-headphones }, å›¾é›†: {path: /tags/å›¾é›†/, fa: fa-photo } } } ç•™è¨€æ¿: { path: /comment/, fa: fa-pencil-square-o faa-tada } å‹äººå¸: { path: /links/, fa: fa-link faa-shake } èµèµ: { path: /donate/, fa: fa-heart faa-pulse } å…³äº: { path: /, fa: fa-leaf faa-wrench , submenus: { æˆ‘ï¼Ÿ: {path: /about/, fa: fa-meetup}, ä¸»é¢˜: {path: /theme-sakura/, fa: iconfont icon-sakura }, Lab: {path: /lab/, fa: fa-cogs }, } } å®¢æˆ·ç«¯: { path: /client/, fa: fa-android faa-vertical } RSS: { path: /atom.xml, fa: fa-rss faa-pulse } # Home page sort type: -1: newer firstï¼Œ1: older first. ã€éã€‘ homePageSortType: -1 # Home page article shown number) ã€éã€‘ homeArticleShown: 10 # èƒŒæ™¯å›¾ç‰‡ ã€é€‰ã€‘ bgn: 8 # startdashé¢æ¿ url, title, desc img ã€æ”¹ã€‘ startdash: - {url: /theme-sakura/, title: Sakura, desc: æœ¬ç«™ hexo ä¸»é¢˜, img: /img/startdash/sakura.md.png} - {url: http://space.bilibili.com/271849279, title: Bilibili, desc: åšä¸»çš„bç«™è§†é¢‘, img: /img/startdash/bilibili.jpg} - {url: /, title: hojunçš„ä¸‡äº‹å±‹, desc: æŠ€æœ¯æœåŠ¡, img: /img/startdash/wangshiwu.jpg} # your site build time or founded date # ä½ çš„ç«™ç‚¹å»ºç«‹æ—¥æœŸ ã€æ”¹ã€‘ siteBuildingTime: 07/17/2018 # ç¤¾äº¤æŒ‰é’®(social) url, img PCç«¯é…ç½® ã€æ”¹ã€‘ social: github: {url: http://github.com/honjun, img: /img/social/github.png} sina: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/sina.png} wangyiyun: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/wangyiyun.png} zhihu: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/zhihu.png} email: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/email.svg} wechat: {url: /#, qrcode: /img/custom/wechat.jpg, img: /img/social/wechat.png} # ç¤¾äº¤æŒ‰é’®(msocial) url, img ç§»åŠ¨ç«¯é…ç½® ã€æ”¹ã€‘ msocial: github: {url: http://github.com/honjun, fa: fa-github, color: 333} weibo: {url: http://weibo.com/mashirozx?is_all=1, fa: fa-weibo, color: dd4b39} qq: {url: https://wpa.qq.com/msgrd?v=3&amp;uin=954655431&amp;site=qq&amp;menu=yes, fa: fa-qq, color: 25c6fe} # èµèµäºŒç»´ç ï¼ˆå…¶ä¸­wechatSQæ˜¯èµèµå•é¡µé¢çš„èµèµç å›¾ç‰‡ï¼‰ã€æ”¹ã€‘ donate: alipay: /img/custom/donate/AliPayQR.jpg wechat: /img/custom/donate/WeChanQR.jpg wechatSQ: /img/custom/donate/WeChanSQ.jpg # é¦–é¡µè§†é¢‘åœ°å€ä¸ºhttps://cdn.jsdelivr.net/gh/honjun/hojun@1.2/Unbroken.mp4ï¼Œé…ç½®å¦‚ä¸‹ ã€æ”¹ã€‘ movies: url: https://cdn.jsdelivr.net/gh/honjun/hojun@1.2 # å¤šä¸ªè§†é¢‘ç”¨é€—å·éš”å¼€ï¼Œéšæœºè·å–ã€‚æ”¯æŒçš„æ ¼å¼ç›®å‰å·²çŸ¥MP4,Flvã€‚å…¶ä»–çš„å¯ä»¥è¯•ä¸‹ï¼Œä¸ä¿è¯æœ‰ç”¨ name: Unbroken.mp4 # å·¦ä¸‹è§’aplayeræ’­æ”¾å™¨é…ç½® ä¸»è¦æ”¹idå’Œserverè¿™ä¸¤é¡¹ï¼Œä¿®æ”¹è¯¦è§[aplayeræ–‡æ¡£] ã€æ”¹ã€‘ aplayer: id: 2660651585 server: netease type: playlist fixed: true mini: false autoplay: false loop: all order: random preload: auto volume: 0.7 mutex: true # Valineè¯„è®ºé…ç½®ã€æ”¹ã€‘ valine: true v_appId: GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz v_appKey: mgOpfzbkHYqU92CV4IDlAUHQ åˆ†ç±»é¡µå’Œæ ‡ç­¾é¡µé…ç½®åˆ†ç±»é¡µ æ ‡ç­¾é¡µ é…ç½®é¡¹åœ¨\\themes\\Sakura\\languages\\zh-cn.ymlé‡Œã€‚æ–°å¢ä¸€ä¸ªåˆ†ç±»æˆ–æ ‡ç­¾æœ€å¥½åŠ ä¸‹å“¦ï¼Œå½“ç„¶å«Œéº»çƒ¦å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸€å¼ é»˜è®¤å›¾ç‰‡ï¼ˆå¯ä»¥æ”¹ä¸»é¢˜æˆ–è€…ç›´æ¥æŠŠ404å›¾ç‰‡æ›¿æ¢ä¸‹ï¼Œå¾æ±‚ä¸‹æ„è§è¦ä¸è¦ç»™è¿™ä¸ªåœ¨é…ç½®æ–‡ä»¶ä¸­åŠ ä¸ªå¼€å…³ï¼Œå¯ä»¥issueæˆ–ç¾¤é‡Œæå‡ºæ¥ï¼‰ï¼Œç°åœ¨æ˜¯æ²¡è®¾ç½®çš„è¯ä¼šä½¿ç”¨é‚£ç§å€’ç«‹å°ç‹—404å“¦ã€‚ #category # æŒ‰åˆ†ç±»ååˆ›å»º æŠ€æœ¯: #ä¸­æ–‡æ ‡é¢˜ zh: é‡ç”ŸæŠ€æœ¯åä¼š # è‹±æ–‡æ ‡é¢˜ en: Geek â€“ Only for Love # å°é¢å›¾ç‰‡ img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/coding.jpg ç”Ÿæ´»: zh: ç”Ÿæ´» en: live img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/writing.jpg #tag # æ ‡ç­¾åå³æ˜¯æ ‡é¢˜ æ‚¦è¯»: # å°é¢å›¾ç‰‡ img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/reading.jpg å•é¡µé¢å°é¢é…ç½®å¦‚ç•™è¨€æ¿é¡µé¢é¡µé¢ï¼Œä½äºsourceä¸‹çš„commentä¸‹ï¼Œæ‰“å¼€index.mdå¦‚ä¸‹ï¼š --- title: comment date: 2018-12-20 23:13:48 keywords: ç•™è¨€æ¿ description: comments: true # åœ¨è¿™é‡Œé…ç½®å•é¡µé¢å¤´éƒ¨å›¾ç‰‡ï¼Œè‡ªå®šä¹‰æ›¿æ¢å“¦~ photos: https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/comment.jpg --- å•é¡µé¢é…ç½®ç•ªç»„è®¡åˆ’é¡µ ï¼ˆè¯·ç›´æ¥åœ¨ä¸‹è½½åçš„æ–‡ä»¶ä¸­æ”¹ï¼Œä¸‹é¢çš„æ·»åŠ äº†æ³¨é‡Šå¯èƒ½ä¼šæœ‰äº›å½±å“ï¼‰ --- layout: bangumi title: bangumi comments: false date: 2019-02-10 21:32:48 keywords: description: bangumis: # ç•ªç»„å›¾ç‰‡ - img: https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg # ç•ªç»„å title: æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ± # è¿½ç•ªçŠ¶æ€ ï¼ˆè¿½ç•ªing/å·²è¿½å®Œï¼‰ status: å·²è¿½å®Œ # è¿½ç•ªè¿›åº¦ progress: 100 # ç•ªå‰§æ—¥æ–‡åç§° jp: ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã† # æ”¾é€æ—¶é—´ time: æ”¾é€æ—¶é—´: 2018-02-24 SUN. # ç•ªå‰§ä»‹ç» desc: ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚ - img: https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg title: æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ± status: å·²è¿½å®Œ progress: 50 jp: ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã† time: æ”¾é€æ—¶é—´: 2018-02-24 SUN. desc: ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚ --- å‹é“¾é¡µ ï¼ˆè¯·ç›´æ¥åœ¨ä¸‹è½½åçš„æ–‡ä»¶ä¸­æ”¹ï¼Œä¸‹é¢çš„æ·»åŠ äº†æ³¨é‡Šå¯èƒ½ä¼šæœ‰äº›å½±å“ï¼‰ --- layout: links title: links # åˆ›å»ºæ—¥æœŸï¼Œå¯ä»¥æ”¹ä¸‹ date: 2018-12-19 23:11:06 # å›¾ç‰‡ä¸Šçš„æ ‡é¢˜ï¼Œè‡ªå®šä¹‰ä¿®æ”¹ keywords: å‹äººå¸ description: # true/false å¼€å¯/å…³é—­è¯„è®º comments: true # é¡µé¢å¤´éƒ¨å›¾ç‰‡ï¼Œè‡ªå®šä¹‰ä¿®æ”¹ photos: https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/links.jpg # å‹é“¾é…ç½® links: # ç±»å‹åˆ†ç»„ - group: ä¸ªäººé¡¹ç›® # ç±»å‹ç®€ä»‹ desc: å……åˆ†è¯´æ˜è¿™å®¶ä¼™æ˜¯æ¡å’¸é±¼ &lt; (ï¿£ï¸¶ï¿£)&gt; items: # å‹é“¾é“¾æ¥ - url: https://shino.cc/fgvf # å‹é“¾å¤´åƒ img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg # å‹é“¾ç«™ç‚¹å name: Google # å‹é“¾ä»‹ç» ä¸‹é¢é›·åŒ desc: Google é•œåƒ - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google é•œåƒ # ç±»å‹åˆ†ç»„... - group: å°ä¼™ä¼´ä»¬ desc: æ¬¢è¿äº¤æ¢å‹é“¾ ê‰‚(ËŠá—œË‹) items: - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google é•œåƒ - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google é•œåƒ --- å†™æ–‡ç« é…ç½®ä¸»é¢˜é›†æˆäº†ä¸ªäººæ’ä»¶hexo-tag-biliå’Œhexo-tag-fancybox_imgã€‚å…¶ä¸­hexo-tag-biliç”¨æ¥åœ¨æ–‡ç« æˆ–å•é¡µé¢ä¸­æ’å…¥Bç«™å¤–é“¾è§†é¢‘ï¼Œä½¿ç”¨è¯­æ³•å¦‚ä¸‹ï¼š {% bili video_id [page] %} è¯¦ç»†ä½¿ç”¨æ•™ç¨‹è¯¦è§hexo-tag-biliã€‚ hexo-tag-fancybox_imgç”¨æ¥åœ¨æ–‡ç« æˆ–å•é¡µé¢ä¸­å›¾ç‰‡ï¼Œä½¿ç”¨è¯­æ³•å¦‚ä¸‹ï¼š {% fb_img src [caption] %} è¯¦ç»†ä½¿ç”¨æ•™ç¨‹è¯¦è§hexo-tag-fancybox_img è¿˜æœ‰å•¥ï¼Œä¸€æ—¶æƒ³ä¸èµ·æ¥......To be continued...","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"æ‚¦è¯»","slug":"æ‚¦è¯»","permalink":"/tags/æ‚¦è¯»/"}],"keywords":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"/categories/æŠ€æœ¯/"}]}]}