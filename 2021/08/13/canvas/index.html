<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">canvas | DarkStrand</title>
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
   * 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "FLのBlog";
  mashiro_option.author_name = "Blog";
  mashiro_option.site_url = "";
  mashiro_option.v_appId = "zMhFPcMIscDyGbtxHjYFffkx-gzGzoHsz";
  mashiro_option.v_appKey = "c4XBymCm0OmYWLklOAKbUlhE";
  mashiro_option.mathjax = "0";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/pexels-designecologist-1779487.jpg,https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/pexels-serpstat-572056.jpg".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('朋友，IE浏览器未适配哦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
  
  <!--自定义看板娘-->
  <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
  <script src="/live2d-widget/autoload.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">

</head>
</html>
<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dot">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="">
          <img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/touxiang.JPG">
        </a>
      </div>
      <div class="header-info">
        <p>Live your life with passion! With some drive!</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="https://gitee.com/darkstranded" target="_blank" class="social-github" title="github">
                    <img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/github.jpeg">
                  </a>
                </li>
              
            
              
                <li class="wechat">
                  <a href="/#">
                    <img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/wechat.jpeg">
                  </a>
                  <div class="wechatInner">
                    <img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/qrwechat.png">
                  </div>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">FLの</span>
            <span class="shironeko">Blog</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    归档
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/技术/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          技术
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/资源/">
                          <i class="fa fa-cloud-download" aria-hidden="true"></i>
                          资源
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/comment/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
                    留言板
                  </span>
                </a>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

  <div class="pattern-center single-center">
    <!-- 有配图默认渲染第一张 -->
    <div class="pattern-attachment-img lazyload" style="background-image: url(https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/3.jpeg);" src="/images/bg1.jpg" data-src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/3.jpeg">
    </div>
    <header class="pattern-header single-header">
      <h1 class="entry-title">
      canvas</h1>
      <p class="entry-census">
        <span>
          <a href="darkstranded.cn">
            <img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/avatar.jpg">
          </a>
        </span>
        <span>
          <a href="darkstranded.cn">DarkStrand</a>
        </span>
        <span class="bull">
        ·</span>
        2021-8-13<span class="bull">
        ·</span>
      <span id="busuanzi_value_page_pv"></span>次阅读</p>
    </header>
  </div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
        <div class="entry-content">
          <h2 id="一、canvas简介"><a href="#一、canvas简介" class="headerlink" title="一、canvas简介"></a>一、canvas简介</h2><p><kbd>canvas</kbd>是HTML5新增的，一个可以使用脚本（通常为JavaScript）在其中绘制图像的HTML元素。它可以用来制作照片或者制作简单（也不是那么简单）的动画，甚至可以进行实时视频处理和渲染。</p>
<p>它最初由苹果内部使用自己MacOS X Webkit推出，供应用程序使用像仪表盘的构件和Safari浏览器使用。后来，有人通过Gecko内核的浏览器（尤其是Mozilla和Firefox），Opera和Chrome和超文本网络应用技术工作组建议为下一代的网络技术使用该元素。</p>
<p>Canvas是由HTML代码配合高度和宽度属性而定义出的可绘制区域。JavaScript代码可以访问该区域，类似于其他通用的二维API，通过一套完整的绘图函数来动态生成图形。</p>
<p>Mozilla程序从Geko1.8（Firefox1.5）开始支持<kbd>canvas</kbd>，Internet Explorer从IE9开始<kbd>canvas</kbd>。Chrome和Opera9+也支持<kbd>canvas</kbd>。</p>
<h2 id="二、Canvas基本使用"><a href="#二、Canvas基本使用" class="headerlink" title="二、Canvas基本使用"></a>二、Canvas基本使用</h2><h3 id="2-1canvas元素"><a href="#2-1canvas元素" class="headerlink" title="2.1canvas元素"></a>2.1canvas元素</h3><p><kbd>canvas</kbd>看起来和<kbd><code>&lt;img&gt;</code></kbd>标签一样，只是<kbd>canvas</kbd>只有两个可选的属性width、height属性，而没有src、alt属性。</p>
<p>如果不给<kbd>canvas</kbd>设置width、height属性时，则默认width为300、height为150，单位都是px。也可以使用css属性来设置宽高，但是如宽高属性和初始比例不一致，他会出现扭曲。所以，建议永远不要使用css属性来设置<kbd>canvas</kbd>的宽高。</p>
<p><strong><em>替换内容</em></strong></p>
<p>由于某些较老的浏览器（尤其是IE9之前的IE浏览器）或者浏览器不支持HTML元素<kbd>canvas</kbd>，在这些浏览器上你应该总是能展示替代内容。</p>
<p>支持<kbd>canvas</kbd>的浏览器会只渲染<kbd>canvas</kbd>标签，而忽略其中的替代内容。不支持<kbd></kbd>canvas的浏览器会直接渲染替代内容。</p>
<p>用文本替换：</p>
<pre><code class="html">&lt;canvas&gt;
    你的浏览器不支持canvas，请升级你的浏览器。
&lt;/canvas&gt;
</code></pre>
<p>用<kbd><code>&lt;img&gt;</code></kbd>替换：</p>
<pre><code class="html">&lt;canvas&gt;
    &lt;img src=&quot;./美女.jgp&quot; alt=&quot;&quot;&gt;
&lt;/canvas&gt;
</code></pre>
<p><strong><em>结束标签不可省略</em></strong></p>
<p>与<kbd><code>&lt;img&gt;</code></kbd>元素不同，<kbd>canvas</kbd>元素需要结束标签（）。如果结束标签不存在，则文档的其余部分会被认为是替代内容，将不会显示出来。</p>
<p>##2.2渲染上下文（Thre Rending Context）</p>
<p><kbd>canvas</kbd>会创建一个固定大小的画布，会公开一个或多个<strong>渲染上下文</strong>(画笔)，使用<strong>渲染上下文</strong>来绘制和处理要展示的内容。</p>
<p>我们重点研究2D渲染上下文。其他的上下文我们暂不研究，比如，WebGL使用了基于OpenGLES的3D上下文。</p>
<pre><code class="javascript">var canvas = document.getElementById(&#39;tutorial&#39;);
//获得2d上下文对象
var ctx = canvas.getContext(&#39;2d&#39;)
</code></pre>
<h3 id="2-3检测支持性"><a href="#2-3检测支持性" class="headerlink" title="2.3检测支持性"></a>2.3检测支持性</h3><pre><code class="javascript">var canvas = document.getElementById(&#39;tutorial&#39;);
if(canvas.getContext) {
    var ctx = canvas.getContext(&#39;2d&#39;)
    // drawing code here
} else {
    // canvas-unsupported code here
}
</code></pre>
<h3 id="2-4代码模板"><a href="#2-4代码模板" class="headerlink" title="2.4代码模板"></a>2.4代码模板</h3><pre><code class="html">&lt;canvas id=&quot;tutorial&quot; width=&quot;300&quot; height=&quot;300&quot;&gt;&lt;/canvas&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    function draw() {
        var canvas = document.getElementById(&#39;tutorial&#39;);
        if(!canvas.getContext) return
        var ctx = canvas.getContext(&#39;2d&#39;)
        //开始写代码
    }
&lt;/script&gt;
</code></pre>
<h3 id="2-5一个简单的例子"><a href="#2-5一个简单的例子" class="headerlink" title="2.5一个简单的例子"></a>2.5一个简单的例子</h3><p>以下实例绘制两个长方形</p>
<pre><code class="html">&lt;canvas id=&quot;tutorial&quot; width=&quot;300&quot; height=&quot;300&quot;&gt;&lt;/canvas&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    function draw() {
        var canvas = document.getElementById(&#39;tutorial&#39;);
        if(!canvas.getContext) return
        var ctx = canvas.getContext(&#39;2d&#39;)
        ctx.fillStyle = &quot;rgb(200,0,0)&quot;
        //绘制矩形
        ctx.fillRect (10,10,55,50)
        ctx.fillStyle = &quot;rgb(0,0,200,0.5)&quot;
        ctx.fillRect (30,30,55,50)
    }
    draw()
&lt;/script&gt;
</code></pre>
<h2 id="三、绘制形状"><a href="#三、绘制形状" class="headerlink" title="三、绘制形状"></a>三、绘制形状</h2><h3 id="3-1栅格-grid-和坐标空间"><a href="#3-1栅格-grid-和坐标空间" class="headerlink" title="3.1栅格(grid)和坐标空间"></a>3.1栅格(grid)和坐标空间</h3><p>如下图所示，canvas元素默认被网格所覆盖。通常来说网格中的一个单元 相当于canvas元素中的一像素。栅格的起点为左上角，坐标为(0,0)。所有元素的位置都相对于原点来定位。所以图中蓝色方形左上角的坐标为距离左边（X轴）x像素，距离上边（Y轴）y像素，坐标为(x,y)。</p>
<p>后面我们会涉及到坐标原点的平移、网格的旋转以及缩放等。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/Canvas_default_grid.png" alt="img"></p>
<h3 id="3-2绘制矩形"><a href="#3-2绘制矩形" class="headerlink" title="3.2绘制矩形"></a>3.2绘制矩形</h3><p><kbd>canvas</kbd>只支持一种原生的图形绘制：<strong><em>矩形</em></strong>。所有其他图形都至少需要生成一种路径(path)。不过，我们拥有众多路径生成的方法让复杂图形的绘制成为了可能。</p>
<p>canvas提供了三种方法绘制矩形：</p>
<ul>
<li>fillRect(x, y, width, height)：绘制一个填充的矩形。</li>
<li>strokeRect(x, y, width, height)：绘制一个矩形的边框。</li>
<li>clearRect(x, y, width, height)：清除指定的矩形区域，然后这块区域会变的完全透明。</li>
</ul>
<blockquote>
<p>说明：这3个方法具有相同的参数。</p>
<ul>
<li>x,y：指的是矩形的左上角的坐标。(相对于canvas的坐标原点)</li>
<li>width,height：指的是绘制的矩形的宽和高。</li>
</ul>
</blockquote>
<pre><code class="javascript">function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    ctx.fillRect(10,10,100,50) //绘制矩形，填充的默认颜色为黑色
    ctx.strokeRect(10, 70, 100 ,50) //绘制矩形边框
}
draw()
</code></pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/2400420933-5b74dd8f80306_articlex.png" alt="img"></p>
<pre><code class="javascript">ctx.clearRect(15, 15, 50, 25)
</code></pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/2347163070-5b74dd8f813a6_articlex.png" alt="img"></p>
<h2 id="四、绘制路径-path"><a href="#四、绘制路径-path" class="headerlink" title="四、绘制路径(path)"></a>四、绘制路径(path)</h2><p>图形的基本元素是路径。</p>
<p>路径是通过不同颜色和宽度的线段或曲线相连形成的不同形状的点的集合。</p>
<p>一个路径，甚至一个子路径，都是闭合的。</p>
<p><strong><em>使用路径绘制图形需要一些额外的步骤：</em></strong></p>
<blockquote>
<ol>
<li>创建路径起始点</li>
<li>调用绘制方法去绘制出路径</li>
<li>把路径封闭</li>
<li>一旦路径生成，通过描边或填充路径区域来渲染图形</li>
</ol>
</blockquote>
<p><strong><em>下面是需要用到的方法：</em></strong></p>
<blockquote>
<ol>
<li>beginPath()</li>
</ol>
<p>​       新建一条路径，路径一旦创建成功，图形绘制命令被指向到路径上生成路径</p>
<ol start="2">
<li><p>moveTo(x, y)</p>
<p>把画笔移动到指定的坐标(x, y)。相当于设置路径的起始点坐标。</p>
</li>
<li><p>closePath()</p>
<p>闭合路径之后，图形绘制命令又重新指向到上下文中</p>
</li>
<li><p>stroke()</p>
<p>通过线条来绘制图形轮廓</p>
</li>
<li><p>fill()</p>
<p>通过填充路径的内容区域生成实心的图形</p>
</li>
</ol>
</blockquote>
<h2 id="4-1绘制线段"><a href="#4-1绘制线段" class="headerlink" title="4.1绘制线段"></a>4.1绘制线段</h2><pre><code class="javascript">function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    ctx.beginPath() //新建一条path
    ctx.moveTo(50,50) // 把画笔移动到指定的坐标
    ctx.lineTo(200,50) //绘制一条从当前位置到指定坐标(200,50)的直线
    ctx.closePath() //闭合路径。会拉一条从当前点到path起始点的直线。如果当前点与起始点重合，则什么都不做
    ctx.stroke() //绘制路径
}
draw()
</code></pre>
<h2 id="4-2绘制三角形边框"><a href="#4-2绘制三角形边框" class="headerlink" title="4.2绘制三角形边框"></a>4.2绘制三角形边框</h2><pre><code class="javascript">function draw() {
    var canvas = document.getElmentById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    ctx.beginPath()
    ctx.moveTo(50,50)
    ctx.lineTo(200,50)
    ctx.lineTo(200,200)
    ctx.closePath() //虽然我们只绘制了两条线段，但是closePath会closePath，仍然是一个三角形
    ctx.stroke() //描边。stroke不会自动closePath()
}
draw()
</code></pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/2106846415-5b74dd8f67000_articlex.png" alt="img"></p>
<h2 id="4-3填充三角形"><a href="#4-3填充三角形" class="headerlink" title="4.3填充三角形"></a>4.3填充三角形</h2><pre><code class="javascript">function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    ctx.beginPath()
    ctx.moveTo(50,50)
    ctx.lineTo(200,50)
    ctx.lineTo(200,200)
    ctx.fill() //填充闭合区域。如果path没有闭合，则fill()会自动闭合路径
}
</code></pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/3457015746-5b74dd8f72860_articlex.png" alt="img"></p>
<h2 id="4-4绘制圆弧"><a href="#4-4绘制圆弧" class="headerlink" title="4.4绘制圆弧"></a>4.4绘制圆弧</h2><p>有两个方法可以绘制圆弧：</p>
<ol>
<li><p>arc(x, y, r, startAngle, endAngle, anticlockwise): </p>
<p>以(x,y) 为圆心，以r为半径，从startAngle弧度开始到endAngle弧度结束。anticlosewise是布尔值，true表示逆时针，false表示顺时针(默认是顺时针)。</p>
<blockquote>
<ol>
<li><p>这里的度数都是弧度。</p>
</li>
<li><p>0弧度是指的x轴正方向。</p>
<blockquote>
<p>radians = (Math.PI/180)*degrees //角度转换成弧度</p>
</blockquote>
</li>
</ol>
</blockquote>
</li>
<li><p>arcTo(x1,y1,x2,y2,radius):</p>
<p>根据给定的控制点和半径画一段圆弧，最后再以直线连接两个控制点。</p>
</li>
</ol>
<pre><code class="javascript">//圆弧案例1
function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    ctx.beginPath()
    ctx.arc(50,50,40,0,Math.PI /2, false)
    ctx.stroke()
}
draw()
</code></pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/3832141455-5b74dd8f658df_articlex.png" alt="img"></p>
<pre><code class="javascript">//圆弧案例2
funcion draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    ctx.beginPath()
    ctx.arc(50,50,50,0,Math.PI/2,false)
    ctx.stroke()

    ctx.beginPath()
    ctx.arc(150,50,40,0,-Math.PI/2,true)
    ctx.closePath()
    ctx.stroke()

    ctx.beginPath()
    ctx.arc(50,150,40,-Math.PI/2,Math.PI/2,false)
    ctx.fill()

    ctx.beginPath()
    ctx.arc(150,150,40,0,Math.PI,false)
    ctx.fill()
}
draw()
</code></pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/2218794221-5b74dd8f43f98_articlex.png" alt="img"></p>
<pre><code class="javascript">//圆弧案例3
function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    ctx.beginPath()
    ctx.moveTo(50,50)
    //参数1、2：控制点1坐标
    //参数3、4：控制点2坐标
    //参数5：圆弧半径
    ctx.arcTo(200,50,200,200,100)
    ctx.lineTo(200,200)
    ctx.stroke()

    ctx.beginPath()
    ctx.rect(50,50,10,10)
    ctx.rect(200,50,10,10)
    ctx.rect(200,200,10,10)
    ctx.fill()
}
</code></pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/3556678928-5b74dd8f1bd2a_articlex.png" alt="img"></p>
<blockquote>
<p>arcTo方法的说明：</p>
<p>这个方法可以这样理解。绘制的弧形是由两条切线所决定。</p>
<p>第1条切线：起始点和控制点1决定的直线。</p>
<p>第2条切线：控制点1和控制点2决定的直线。</p>
<p>其实绘制的圆弧就是与这两条直线相切的圆弧。</p>
</blockquote>
<h2 id="4-5绘制贝塞尔曲线"><a href="#4-5绘制贝塞尔曲线" class="headerlink" title="4.5绘制贝塞尔曲线"></a>4.5绘制贝塞尔曲线</h2><h3 id="4-5-1什么是贝塞尔曲线"><a href="#4-5-1什么是贝塞尔曲线" class="headerlink" title="4.5.1什么是贝塞尔曲线"></a>4.5.1什么是贝塞尔曲线</h3><p>贝塞尔曲线(Bézier curve)，又称贝兹曲线或贝济埃曲线，是应用于二维图形应用程序的数学曲线。</p>
<p>一般的矢量图形软件通过它来精确画出曲线，贝兹曲线是由线段与节点组成，节点是可拖动的支点，线段像可伸缩的皮筋，我们在绘图工具上看到的钢笔工具就是来做这种矢量曲线的。</p>
<p>贝塞尔曲线是计算机图形学中相当重要的参数曲线，在一些比较成熟的位图软件中也有贝塞尔曲线工具入PhotoShop等。在Flash4中还没有完整的曲线工具，而在Flash5里面已经提供出贝塞尔曲线工具。</p>
<p>贝塞尔曲线于1962，由法国工程师皮埃尔·贝塞尔（Pierre Bézier）所广泛发表，他运用贝塞尔曲线来为汽车的主体进行设计。贝塞尔曲线最初由Paul de Casteljau 于 1959 年运用 de Casteljau 演算法开发，以稳定数值的方法求出贝兹曲线。</p>
<p><strong><em>一次贝塞尔曲线其实是一条直线</em></strong></p>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/240px-b_1_big.gif" alt="img"></p>
<p><strong><em>二次贝塞尔曲线</em></strong></p>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/b_2_big.gif" alt="img"></p>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/1544764428-5713-240px-BC3A9zier-2-big.svg-.png" alt="img"></p>
<p>三次贝塞尔曲线</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/b_3_big.gif" alt="img"></p>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/1544764428-2467-240px-BC3A9zier-3-big.svg-.png" alt="img"></p>
<h3 id="4-5-2绘制贝塞尔曲线"><a href="#4-5-2绘制贝塞尔曲线" class="headerlink" title="4.5.2绘制贝塞尔曲线"></a>4.5.2绘制贝塞尔曲线</h3><ol>
<li>绘制二次贝塞尔曲线：/kwɒ&#39;drætɪk/</li>
</ol>
<pre><code class="javascript">quadraticCurveTo(cp1x,cp1y,x,y)
</code></pre>
<blockquote>
<p>说明：</p>
<ul>
<li>参数1和2：控制点坐标</li>
<li>参数3和4：结束点坐标</li>
</ul>
</blockquote>
<pre><code class="javascript">function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    ctx.beginPath()
    ctx.moveTo(10,200) //起始点
    var cp1x = 40, cp1y = 100 //控制点
    var x = 200, y = 200 //结束点
    //绘制二次贝塞尔曲线
    ctx.quadraticCurveTo(cp1x, cp1y, x, y)
    ctx.stroke()

    ctx.beginPath()
    ctx.rect(10,200,10,10)
    ctx.rect(cp1x,cp1y,10,10)
    ctx.rect(x,y,10,10)
    ctx.fill()
}
draw()
</code></pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/274915666-5b74dd8ecb2e2_articlex.png" alt="img"></p>
<ol start="2">
<li><p>绘制三次贝塞尔曲线:</p>
<pre><code class="javascript">bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)
</code></pre>
<blockquote>
<p>说明：</p>
<ul>
<li>参数1和2：控制点1的坐标</li>
<li>参数3和4：控制点2的坐标</li>
<li>参数5和6：结束点的坐标</li>
</ul>
</blockquote>
</li>
</ol>
<pre><code class="javascript">   function draw() {
       var canvas = document.getElementById(&#39;tutorial&#39;)
       if(!canvas.getContext) return
       var ctx = canvas.getContext(&#39;2d&#39;)
       ctx.beginPath()
       ctx.moveTo(40,200) //起始点
       var cp1x = 20, cp1y = 100 //控制点1
       var cp2x = 100, cp2y = 120 //控制点2
       var x = 200, y = 200 //结束点
       //绘制三次贝塞尔曲线
       ctx.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y)
       ctx.stroke()

       ctx.beginPath();
       ctx.rect(40, 200, 10, 10);
       ctx.rect(cp1x, cp1y, 10, 10);
       ctx.rect(cp2x, cp2y, 10, 10);
       ctx.rect(x, y, 10, 10);
       ctx.fill();
   }
   draw()
</code></pre>
<p>   <img src="https://www.runoob.com/wp-content/uploads/2018/12/3947786617-5b74dd8ec8678_articlex.png" alt="img"></p>
<h1 id="五、添加样式和颜色"><a href="#五、添加样式和颜色" class="headerlink" title="五、添加样式和颜色"></a>五、添加样式和颜色</h1><p>在前面的绘制矩形章节中，只用到了默认的线条和颜色。</p>
<p>如果想要给图形上色，有两个重要的属性可以做到。</p>
<ol>
<li>fillStyle = color 设置图形的填充颜色</li>
<li>strokeStyle = color 设置图形轮廓的颜色</li>
</ol>
<blockquote>
<p>备注：</p>
<ol>
<li>color可以是表达css颜色值的字符串、渐变对象或者图案对象</li>
<li>默认情况下，线条和填充颜色都是黑色</li>
<li>一旦您设置了strokeStyle或者fillStyle的值，那么这个新值就会成为新绘制的图形的默认值。如果你要给每个图形上不同的颜色，你需要重新设置fillStyle或strokeStyle的值</li>
</ol>
</blockquote>
<h2 id="fillStyle"><a href="#fillStyle" class="headerlink" title="fillStyle"></a>fillStyle</h2><pre><code class="javascript">function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    for(var i = 0; i &lt; 6; i++) {
        for(var j = 0; j &lt; 6; j++) {
            ctx.fillStyle = &#39;rgb(&#39; + Math.floor(255 - 42.5 * i) + &#39;,&#39; + Math.floor(255 - 42.5 * j) + &#39;,0)&#39;
            ctx.fillRect(j * 50, i * 50, 50, 50)
        }
    }
}
draw()
</code></pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/2505008676-5b74dd8ebad41_articlex.png" alt="img"></p>
<h2 id="strokeStyle"><a href="#strokeStyle" class="headerlink" title="strokeStyle"></a>strokeStyle</h2><pre><code class="javascript">function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    for(var i = 0; i &lt; 6; i++) {
        for(var j = 0;j &lt; 6;j++) {
            ctx.strokeStyle = `rgb(${randomInt(0,255)}, ${randomInt(0,255)}, ${randomInt(0,255)})`
            ctx.strokeRect(j*50,i*50,40,40)
        }
    }
}
draw()

//返回随机的[from,to]之间的整数(包括from，也包括to)
function randomInt(from,to) {
    return parseInt(Math.random() * (to-from +1) + from)
}
</code></pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/3288535670-5b74dd8ea12d9_articlex.png" alt="img"></p>
<h2 id="Transparency-透明度"><a href="#Transparency-透明度" class="headerlink" title="Transparency(透明度)"></a>Transparency(透明度)</h2><p>globalAlpha = transparencyValue:这个属性影响到canvas里所有图形的透明度，有效的值范围是0.0（完全透明）到1.0（完全不透明），默认是1.0</p>
<p><strong>globalAlpha</strong>属性在需要绘制大量拥有相同透明度的图形时候相当高效。不过，我认为使用rgba()设置透明度更好一些。</p>
<p><strong>1. line style</strong></p>
<p>线宽。只能是正值。默认是1.0</p>
<p>起始点和终点的连线为中心，上下各占线宽的一半。</p>
<pre><code class="javascript">ctx.beginPath()
ctx.moveTo(10,10)
ctx.lineTo(100,10)
ctx.lineWidth = 10
ctx.stroke()

ctx.beginPath()
ctx.moveTo(110,10)
ctx.lineTo(160,10)
ctx.lineWidth = 20
ctx.stroke()
</code></pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/3410060825-5b74dd8ea12d9_articlex.png" alt="img"></p>
<p><strong>2. lineCap = type</strong></p>
<p>线条末端样式。</p>
<blockquote>
<p>共有三个值：</p>
<ol>
<li>butt： 线段末端以方形结束</li>
<li>round：线段末端以圆形结束</li>
<li>square：线段末端以方形结束，但是增加了一个宽度和线段相同，高度是线段厚度一般的矩形区域</li>
</ol>
</blockquote>
<pre><code class="javascript">var lineCaps = [&#39;butt&#39;, &#39;round&#39;, &#39;square&#39;]
for(var i = 0;i&lt;3;i++) {
    ctx.beginPath()
    ctx.moveTo(20+30*i,30)
    ctx.lineTo(20+30*i,100)
    ctx.lineWidth = 20
    ctx.lineCap = lineCaps[i]
    ctx.stroke()
}

ctx.beginPath()
ctx.moveTo(0,30)
ctx.lineTo(300,30)

ctx.moveTo(0,100)
ctx.lineTo(300,100)

ctx.strokeStyle = &#39;red&#39;
ctx.lineWidth = 1
ctx.stroke()
</code></pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2018/12/3380216230-5b74dd8e97e85_articlex.png" alt="img"></p>
<p><strong>3. lineJoin = type</strong></p>
<p>同一个path内，设定线条与线条间接合处的样式。</p>
<p>共有三个值round,bevel和miter：</p>
<ol>
<li>round通过填充一个额外的，圆心在相连部分末端的扇形，绘制拐角的形状。圆角的半径是线段的宽度。</li>
<li>bevel在相连部分的末端填充一个额外的以三角形为底的区域，每个部分都有各自独立的矩形拐角。</li>
<li>miter(默认)通过延伸相连部分的外边缘，使其相交于一点，形成一个额外的菱形区域。</li>
</ol>
<pre><code class="javascript">function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)

    var lineJoin = [&#39;round&#39;,&#39;bevel&#39;, &#39;miter&#39;]
    ctx.lineWidth = 20
    for(var i =0; i&lt; lineJoin.length;i++) {
        ctx.lineJoin = lineJoin[i]
        ctx.beginPath()
        ctx.moveTo(50,50+i*50)
        ctx.lineTo(100,100+i*50)
        ctx.lineTo(150,50+i*50)
        ctx.lineTo(200,100+i*50)
        ctx.lineTo(250,50+i*50)
        ctx.stroke()
    }
}
draw()
</code></pre>
<ol>
<li><img src="https://www.runoob.com/wp-content/uploads/2018/12/1584506777-5b74dd8e82768_articlex.png" alt="img"></li>
</ol>
<p><strong>4. 虚线</strong></p>
<p>用setLineDash方法和lineDashOffset属性来指定虚线样式。</p>
<p>setLineDash方法接收一个数组，来指定线段与间隙的交替；</p>
<p>lineDashOffset属性设置起始偏移量。</p>
<pre><code class="javascript">function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    ctx.setLineDash([20,5]) //[实线长度，间隙长度]
    ctx.lineDashOffset = -0
    ctx.strokeRect(50,50,210,210)
}
draw()
</code></pre>
<ol>
<li><img src="https://www.runoob.com/wp-content/uploads/2018/12/2805401035-5b74dd8e6833c_articlex.png" alt="img"></li>
</ol>
<blockquote>
<p>备注：getLineDash()返回一个包含当前虚线样式，长度为非偶数的数组。</p>
</blockquote>
<h1 id="六、绘制文本"><a href="#六、绘制文本" class="headerlink" title="六、绘制文本"></a>六、绘制文本</h1><p><strong><em>绘制文本的两个方法</em></strong></p>
<p>canvas提供了两种方法来渲染文本：</p>
<ol>
<li><p>fillText(text, x, y, [, maxWidth])在指定的(x,y)位置填充指定的文本，绘制的最大宽度是可选的。</p>
</li>
<li><p>strokeText(text, x, y, [, maxWidth])在指定的(x,y)位置绘制文本边框，绘制的最大宽度是可选的。</p>
<pre><code class="javascript">var ctx;
function draw() {
    var canvas = document.getELementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    ctx = canvas.getContext(&#39;2d&#39;)
    ctx.font = &#39;100px sans-serif&#39;
    ctx.fillText(&#39;天若有情&#39;,10,100)
    ctx.strokeText(&#39;天若有情&#39;,10,200)
}
draw()
</code></pre>
<ol>
<li><img src="https://www.runoob.com/wp-content/uploads/2018/12/404304980-5b74dd8e7499e_articlex.png" alt="img"></li>
</ol>
</li>
</ol>
<p><strong><em>给文本添加样式</em></strong></p>
<ol>
<li>font = value 当前我们用来绘制文本的样式。这个字符串使用和css font属性相同的语法。<strong>默认的字体是10px sans-serif。</strong></li>
<li>textAlign = value 文本对齐选项。可选的值包括：start，end，left，right，center。<strong>默认是start。</strong></li>
<li>textBaseline = value 基线对齐选项，可选的值包括：top，hanging，middle，alphabetic，ideographic，bottom。<strong>默认值是alphabetic。</strong></li>
<li>direction = value 文本方向。可能的值包括：ltr，rtl，inherit。<strong>默认值是inherit。</strong></li>
</ol>
<h1 id="七、绘制图片"><a href="#七、绘制图片" class="headerlink" title="七、绘制图片"></a>七、绘制图片</h1><p>我们也可以在canvas上直接绘制图片。</p>
<h2 id="7-1由零开始创建图片"><a href="#7-1由零开始创建图片" class="headerlink" title="7.1由零开始创建图片"></a>7.1由零开始创建图片</h2><pre><code class="javascript">var img = new Image() //创建一个&lt;img&gt;元素
img.src = &#39;myImage.png&#39; //设置图片原地址
</code></pre>
<p><strong>绘制img</strong></p>
<pre><code class="javascript">//参数1：要绘制的img
//参数2、3：绘制的img在canvas中的坐标
ctx.drawImage(img,0,0)
</code></pre>
<blockquote>
<p>注意：考虑到图片是从网络加载，如果drawImage的时候图片还没有完全加载完成，则什么都不做，个别浏览器会抛异常。所以我们应该保证在img绘制完成之后再drawImage。</p>
</blockquote>
<pre><code class="javascript">var img = new Image() //创建img元素
img.onload = function() {
    ctx.drawImage(img, 0, 0)
}
img.src = &#39;myImage.png&#39; //设置图片c地址
</code></pre>
<h2 id="7-2-绘制img标签元素中的图片"><a href="#7-2-绘制img标签元素中的图片" class="headerlink" title="7.2 绘制img标签元素中的图片"></a>7.2 绘制img标签元素中的图片</h2><p>img可以new，也可以来源于我们页面中的<img>标签。</p>
<pre><code class="html">&lt;img src=&quot;./美女.jpg&quot; alt=&quot;&quot; width=&quot;300&quot;&gt;&lt;br&gt;
&lt;canvas id=&quot;tutorial&quot; width=&quot;600&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;
function draw() {
    var canvas = document.getElementById(&#39;tutorial)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    var img = document.querySelector(&#39;img&#39;)
    ctx.drawImg(img,0,0)
}
document.querySelector(&#39;img&#39;).onclick = function() {
    draw()
}
</code></pre>
<ol>
<li><ol>
<li>第一张图片就是页面中的 <code>&lt;img&gt;</code> 标签：</li>
</ol>
</li>
<li><p><img src="https://www.runoob.com/wp-content/uploads/2018/12/2255709523-5b74dd8eb033e_articlex.png" alt="img"></p>
</li>
</ol>
<h2 id="7-3-缩放图片"><a href="#7-3-缩放图片" class="headerlink" title="7.3 缩放图片"></a>7.3 缩放图片</h2><p>drawImage()可以再添加两个参数：</p>
<pre><code class="javascript">drawImage(image,x,y,width,height)
</code></pre>
<p>这个方法多了两个参数：width和height，这两个参数用来控制 当像canvas画入时应该缩放的大小。</p>
<pre><code class="javascript">ctx.drawImage(img,0,0,400,200)
</code></pre>
<p>##7.4 切片(slice)</p>
<pre><code class="javascript">drawImage(image,sx,sy,sWidth,sHeight,dx,dy,dWidth,dHeight)
</code></pre>
<p>第一个参数和其他的是相同的，都是一个图像或者另一个canvas的引用。</p>
<p>其他8个参数：前4个事定义图像源的切片位置和大小，后四个则是定义切片的目标显示位置和大小。</p>
<ol>
<li><img src="https://www.runoob.com/wp-content/uploads/2018/12/2106688680-54566fa3d81dc_articlex.jpeg" alt="img"></li>
</ol>
<h1 id="八、状态的保存和恢复"><a href="#八、状态的保存和恢复" class="headerlink" title="八、状态的保存和恢复"></a>八、状态的保存和恢复</h1><p>Saving and restoring state是绘制复杂图形时必不可少的操作。</p>
<p>save()和restore()</p>
<p>save和restore方法是用来保存和恢复canvas状态的，都没有参数。</p>
<p>Canvas的状态就是当前画面应用的所有样式和变形的一个快照。</p>
<h2 id="8-1-关于save"><a href="#8-1-关于save" class="headerlink" title="8.1 关于save()"></a>8.1 关于save()</h2><blockquote>
<p>Canvas状态存储在栈中，每当save()方法被调用后，当前的状态就被推送到栈中保存。</p>
</blockquote>
<p>一个绘画状态包括:</p>
<ul>
<li><p>当前应用的变形（即移动，旋转和缩放）</p>
</li>
<li><p>strokeStyle,fillStyle,globalAlpha,lineWidth,lineCap,lineJoin,miterLimit,shadowOffsetX,shadowOffsetY,shadowBlur,shadowColor,globalCompositeOperation的值</p>
</li>
<li><p>当前的裁切路径（clipping path)</p>
</li>
</ul>
<p>  <strong><em>可以调用任意多次save方法（类似数组的push()）</em></strong></p>
<h2 id="8-2关于resotre"><a href="#8-2关于resotre" class="headerlink" title="8.2关于resotre()"></a>8.2关于resotre()</h2><blockquote>
<p>每一次调用restore方法，上一个保存的状态就从栈中弹出，所有设定都恢复（类似数组pop()）</p>
</blockquote>
<pre><code class="javascript">var ctx;
function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)

    ctx.fillRect(0,0,150,150) //使用默认设置绘制一个矩形
    ctx.save() //保存默认状态

    ctx.fillStyle = &#39;red&#39; //在原有配置基础上对颜色做改变
    ctx.fillRect(15,15,120,120) //使用心得设置绘制一个矩形

    ctx.save() //保存当前状态
    ctx.fillStyle = &#39;#FFF&#39; //再次改变颜色状态
    ctx.fillRect(30,30,90,90) //使用心得配置绘制一个矩形

    ctx.restore() //重新加载之前的颜色状态
    ctx.fillRect(45,45,60,60) //使用上一次的配置绘制一个矩形

    ctx.restore() //加载默认颜色配置
    ctx.fillRect(60,60,30,30) //使用加载的配置绘制一个矩形
}
draw()
</code></pre>
<h1 id="九、变形"><a href="#九、变形" class="headerlink" title="九、变形"></a>九、变形</h1><h2 id="9-1translate"><a href="#9-1translate" class="headerlink" title="9.1translate"></a>9.1translate</h2><p>translate(x,y)</p>
<p>用来移动canvas的原点到指定的位置</p>
<p>translate方法接收两个参数。x是左右偏移量，y是上下偏移量，如图所示。</p>
<p>在做变形之前先保存状态是一个良好的习惯。大多数情况下，调用restore方法比手动恢复原形的状态要简单得多。又如果你是在一个循环中做位移但没有保存和恢复canvas的状态，很可能到最后会发现怎么有些东西不见了，那是因为它很可能已经超出canvas范围以外了。注意：translate移动的是canvas的坐标原点(坐标变换)。</p>
<ol>
<li><img src="https://www.runoob.com/wp-content/uploads/2018/12/829832336-5b74dd8e3ad9a_articlex.png" alt="img"></li>
</ol>
<pre><code class="javascript">var ctx;
function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    ctx.save() //保存坐标原点平移之前的状态
    ctx.translate(100,100)
    ctx.strokeRect(0,0,100,100)
    ctx.restore()
    ctx.translate(220,200)
    ctx.fillRect(0,0,100,100)
}
draw()
</code></pre>
<ol>
<li><img src="https://www.runoob.com/wp-content/uploads/2018/12/1230266743-5b74dd8e3b0ce_articlex.png" alt="img"></li>
</ol>
<h2 id="9-2-rotate"><a href="#9-2-rotate" class="headerlink" title="9.2 rotate"></a>9.2 rotate</h2><p>rotate(angle)</p>
<p>旋转坐标轴。</p>
<p>这个方法只接受一个参数：旋转的角度（angle），它是顺时针方向的，以弧度为单位的值。旋转的中心是坐标原点。</p>
<ol>
<li><img src="https://www.runoob.com/wp-content/uploads/2018/12/3322150878-5b74dd8e2b6a4_articlex.png" alt="img"></li>
</ol>
<pre><code class="javascript">function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvs.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)

    ctx.fillStyle = &#39;red&#39;
    ctx.save()

    ctx.translate(100,100)
    ctx.rotate(Math.PI/180*45)
    ctx.fillStyle = &#39;blue&#39;
    ctx.fillRect(0,0,100,100)
    ctx.restore()

    ctx.save()
    ctx.translate(0,0)
    ctx.fillRect(0,0,50,50)
    ctx.restore()
}
draw()
</code></pre>
<ol>
<li><img src="https://www.runoob.com/wp-content/uploads/2018/12/1819968878-5b74dd8e1e770_articlex.png" alt="img"></li>
</ol>
<h2 id="9-3-scale"><a href="#9-3-scale" class="headerlink" title="9.3 scale"></a>9.3 scale</h2><p>scale(x,y)</p>
<p>我们用它来增减图形在canvas中的像素数目，对形状、位图进行缩小或者放大。</p>
<p>scale方法接受两个参数。x,y分别是横轴和纵轴的缩放因子，它们都必须是正值。值比1.0小表示缩小，比1.0大表示放大，值为1.0时什么效果都没有。</p>
<p>默认情况下，canvas的1单位就是1个像素。举例说，如果我们设置缩放因子是0.5，1个单位就变成对应0.5个像素，这样绘制出来的形状就会是原先的一半。同理，设置为2.0时，1个单位就对应变成了2像素，绘制的结果就是图形放大了2倍。</p>
<h2 id="9-4-transform-变形矩阵"><a href="#9-4-transform-变形矩阵" class="headerlink" title="9.4 transform(变形矩阵)"></a>9.4 transform(变形矩阵)</h2><p>transform(a,b,c,d,e,f)</p>
<ol>
<li><img src="https://www.runoob.com/wp-content/uploads/2018/12/2958376259-5b74dd8e15192_articlex.png" alt="img"></li>
</ol>
<ul>
<li>a (m11): Horizontal scaling.</li>
<li>b (m12): Horizontal skewing.</li>
<li>c (m21): Vertical skewing.</li>
<li>d (m22): Vertical scaling.</li>
<li>e (dx): Horizontal moving.</li>
<li>f (dy): Vertical moving.</li>
</ul>
<pre><code class="javascript">function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;)
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    ctx.transform(1,1,0,1,0,0)
    ctx.fillRect(0,0,100,100)
}
draw()
</code></pre>
<ol>
<li><img src="https://www.runoob.com/wp-content/uploads/2018/12/489430190-5b74dd8e17ad2_articlex.png" alt="img"></li>
</ol>
<h2 id="十、合成"><a href="#十、合成" class="headerlink" title="十、合成"></a>十、合成</h2><p>在前面的所有例子中，我们总是将一个图形画在另一个之上，对于其他更多的情况，仅仅这样是远远不够的。比如，对合成的图形来说，绘制顺序会有限制。不过，我们可以利用globalCompositeOperation属性来改变这种情况。</p>
<pre><code class="javascript">globalCompositeOperation = type
</code></pre>
<pre><code class="javascript">var ctx;
function draw() {
    var canvas = document.getElementById(&#39;tutorial&#39;);
    if(!canvas.getContext) return
    var ctx = canvas.getContext(&#39;2d&#39;)
    ctx.fillStyle = &#39;blue&#39;
    ctx.fillRect(0,0,200,200)

    ctx.globalCompositeOperation = &#39;source-over&#39; //全局合成操作
    ctx.fillStyle = &#39;red&#39;
    ctx.fillRect(100,100,200,200)
}
</code></pre>
<blockquote>
<p>注：下面的展示中，蓝色是原有的，红色是新的。</p>
<p>type是下面13中字符串值之一:</p>
</blockquote>
<ol>
<li><p>这是默认设置，新图像会覆盖在原有图像。</p>
</li>
<li><p><img src="https://www.runoob.com/wp-content/uploads/2018/12/1858023544-5b74dd8e0813d.png" alt="img"></p>
</li>
</ol>

        </div>
        <!-- .entry-content -->
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
          
            <div class="post-nepre half previous">
          
            <a href="/2021/08/18/javascript/" rel="prev">
              <div class="background">
                <img class="lazyload" src="/images/bg1.jpg" data-src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/4.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/4.jpg">
              </div>
              <span class="label">
              Previous Post</span>
              <div class="info">
                <h3>
                JavaScript</h3>
                <hr>
              </div>
            </a>
          </div>
        
        
          
            <div class="post-nepre half next">
          
            <a href="/2021/08/13/amazing/" rel="next">
              <div class="background">
                <img class="lazyload" src="/images/bg1.jpg" data-src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/4.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/4.jpg">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                新鲜玩意</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
<div id="vcomments"></div>
<script>
  window.onload = function(){
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "zMhFPcMIscDyGbtxHjYFffkx-gzGzoHsz",
        appKey: "c4XBymCm0OmYWLklOAKbUlhE",
        path: window.location.pathname,
        placeholder: "你是我一生只会遇见一次的惊喜 ..."
      })
  }
</script>

      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
          <a href="darkstranded.cn" class="profile gravatar"><img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/avatar.jpg" itemprop="image" alt="DarkStrand" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="darkstranded.cn" itemprop="url" rel="author">DarkStrand</a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i>一个神奇的小伙</p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            // PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 DarkStrand<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
      <p style="color: #666666;">&copy 2021</p>
    </div>
    <div class="footer-device">
    <p style="font-family: 'Ubuntu', sans-serif;">
        <span style="color: #b9b9b9;">Theme <a href="https://github.com/honjun/hexo-theme-sakura" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Sakura</a> <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> by &<a href="https://www.hojun.cn/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">DarkStrand</a>, Powered by Hexo, Hosted by Coding Pages</a>
        </span>
      </p>
    </div>
  </div><!-- .site-info -->
</footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine@1.3.4/dist/Valine.min.js'></script>
<script src="/js/botui.js"></script>
<!-- 不蒜子 网页计数器 -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2/Bazinga.mp4","name":"Unbroken.mp4","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2/Bazinga.mp4","name":"Unbroken.mp4","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //有图的情况
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/touxiang.JPG">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">FLのBlog</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="https://gitee.com/darkstranded" class="fa fa-github" target="_blank" style="color: #333; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            归档
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/技术/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  技术
                </a>
              </li>
            
              <li>
                <a href="/categories/资源/">
                  <i class="fa fa-cloud-download" aria-hidden="true"></i>
                  资源
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/comment/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
            留言板
          </span>
        </a>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<meting-js

    id="2660651585"

    server="netease"

    type="playlist"

    fixed="true"

    autoplay="false"

    loop="all"

    order="random"

    preload="auto"

    volume="0.7"

    mutex="true"

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
</body>
</html>