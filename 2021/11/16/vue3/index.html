<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">vue3 | DarkStrand</title>
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
   * 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "FLのBlog";
  mashiro_option.author_name = "Blog";
  mashiro_option.site_url = "";
  mashiro_option.v_appId = "zMhFPcMIscDyGbtxHjYFffkx-gzGzoHsz";
  mashiro_option.v_appKey = "c4XBymCm0OmYWLklOAKbUlhE";
  mashiro_option.mathjax = "0";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/pexels-designecologist-1779487.jpg,https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/pexels-serpstat-572056.jpg".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('朋友，IE浏览器未适配哦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
  
  <!--自定义看板娘-->
  <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
  <script src="/live2d-widget/autoload.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">

</head>
</html>
<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dot">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="">
          <img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/touxiang.JPG">
        </a>
      </div>
      <div class="header-info">
        <p>Live your life with passion! With some drive!</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="https://gitee.com/darkstranded" target="_blank" class="social-github" title="github">
                    <img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/github.jpeg">
                  </a>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">FLの</span>
            <span class="shironeko">Blog</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    归档
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/技术/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          技术
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/资源/">
                          <i class="fa fa-cloud-download" aria-hidden="true"></i>
                          资源
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="/comment/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
                    留言板
                  </span>
                </a>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

  <div class="pattern-center single-center">
    <!-- 有配图默认渲染第一张 -->
    <div class="pattern-attachment-img lazyload" style="background-image: url(https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/4.jpg);" src="/images/bg1.jpg" data-src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/4.jpg">
    </div>
    <header class="pattern-header single-header">
      <h1 class="entry-title">
      vue3</h1>
      <p class="entry-census">
        <span>
          <a href="DarkStrand.cn">
            <img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/avatar.jpg">
          </a>
        </span>
        <span>
          <a href="DarkStrand.cn">DarkStrand</a>
        </span>
        <span class="bull">
        ·</span>
        2021-11-16<span class="bull">
        ·</span>
      <span id="busuanzi_value_page_pv"></span>次阅读</p>
    </header>
  </div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
        <div class="entry-content">
          <h1 id="1-安装"><a href="#1-安装" class="headerlink" title="1. 安装"></a>1. 安装</h1><h2 id="1-1-CDN"><a href="#1-1-CDN" class="headerlink" title="1.1 CDN"></a>1.1 CDN</h2><p>对于制作原型或学习，你可以这样使用最新版本：</p>
<pre><code class="html">&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
</code></pre>
<p>对于生产环境，我们推荐链接到一个明确的版本号和构建文件，以避免新版本造成的不可预期的破坏。</p>
<pre><code class="HTML">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;Document&lt;/title&gt;
  &lt;script src=&quot;js/vue3.js&quot;&gt;&lt;/script&gt;
  &lt;!-- &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt; --&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;counter&quot;&gt;
    &lt;h1&gt;counter: {{ num }}&lt;/h1&gt;
  &lt;/div&gt;

  &lt;script&gt;
    const Counter = {
      data() {
        return {
          num: 0
        }
      }
    }
    // 创建一个应用，将配置的对象counter的内容渲染到选择器是#counter的元素上
    let app = Vue.createApp(Counter).mount(&#39;#counter&#39;)
    console.log(app)
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2 id="1-2-命令行工具（CLI）"><a href="#1-2-命令行工具（CLI）" class="headerlink" title="1.2 命令行工具（CLI）"></a>1.2 命令行工具（CLI）</h2><p>Vue提供了<a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener">官方的CLI</a>，为单页面应用（SPA）快速搭建繁杂的脚手架。它为现代前端工作流提供了功能齐备的构建设置。只需要几分钟的时间就可以运行起来并带有热重载、保存时 lint 校验，以及生产环境可用的构建版本。更多详情可查阅<a href="https://cli.vuejs.org/" target="_blank" rel="noopener">Vue CLI的文档</a>。</p>
<p>对于 Vue3，你应该使用<code>npm</code>上可用的 Vue CLI v4.5 作为 <code>@vue/cli</code>。要升级，你应该需要全局重新安装最新版本的 <code>@vue/cli</code>：</p>
<pre><code class="sh">yarn global add @vue/cli
# 或
npm install -g @vue/cli
</code></pre>
<p>然后在 Vue 项目中运行：</p>
<pre><code class="sh">vue upgrade --next
</code></pre>
<h2 id="1-3-Vite"><a href="#1-3-Vite" class="headerlink" title="1.3 Vite"></a>1.3 Vite</h2><p><a href="https://github.com/vitejs/vite" target="_blank" rel="noopener">Vite</a>是一个 web 开发构建工具，由于其原生 ES 模块导入方式，可以实现闪电般的冷服务启动。</p>
<p>通过在终端中运行以下命令，可以使用 Vite 快速构建 Vue 项目。</p>
<p>使用 npm：</p>
<pre><code class="sh"># npm 6.x
$ npm init vite@latest &lt;project-name&gt; --template vue

# npm 7+，需要加上额外的双短横线
$ npm init vite@latest &lt;project-name&gt; -- --template vue

$ cd &lt;project-name&gt;
$ npm install
$ npm run dev
</code></pre>
<p>或者 yarn：</p>
<pre><code class="sh">$ yarn create vite &lt;project-name&gt; --template vue
$ cd &lt;project-name&gt;
$ yarn
$ yarn dev
</code></pre>
<h1 id="2-介绍"><a href="#2-介绍" class="headerlink" title="2. 介绍"></a>2. 介绍</h1><h2 id="2-1-声明式渲染"><a href="#2-1-声明式渲染" class="headerlink" title="2.1 声明式渲染"></a>2.1 声明式渲染</h2><p>Vue.js的核心是一个允许采用简洁的模板语法来声明式地将数据渲染进 DOM 的系统：</p>
<pre><code class="html">&lt;div id=&quot;counter&quot;&gt;
  Counter: {{ counter }}
&lt;/div&gt;
</code></pre>
<pre><code class="js">const Counter = {
    data() {
        return {
            counter: 0
    }
  }
}
Vue.createApp(Counter).mount(&#39;#counter&#39;)
</code></pre>
<p>我们已经成功创建了第一个 Vue 应用！看起来这跟渲染一个字符串模板非常类似，但是 Vue 在背后做了大量工作。现在数据和DOM已经被建立了关联，所有东西都是<strong>响应式</strong>的。我们要怎么确认呢？请看下面的示例，其中<code>counter</code>property每秒递增，你将看到渲染的DOM是如何变化的：</p>
<pre><code class="js">const Counter = {
  data() {
    return {
      counter: 0
    }
  },
  mounted() {
    setInterval(() =&gt; {
      this.counter++
    }, 1000)
  }
}
</code></pre>
<p>除了文本插值，我们还可以像这样绑定元素的 attribute：</p>
<pre><code class="html">&lt;div id=&quot;bind-attribute&quot;&gt;
  &lt;span v-bind:title=&quot;message&quot;&gt;
    鼠标悬停几秒钟查看此处动态绑定的提示信息！
  &lt;/span&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="js">const AttributeBinding = {
  data() {
    return {
      message: &#39;You loaded this page on &#39; + new Date().toLocaleString()
    }
  }
}

Vue.createApp(AttributeBinding).mount(&#39;#bind-attribute&#39;)
</code></pre>
<p>这里我们遇到了一点新东西。你看到的<code>v-bind</code>attribute被称为<strong>指令</strong>。指令带有前缀<code>v-</code>，以表示它们是Vue提供的特殊 attribute。可能你也猜到了，它们会在渲染的 DOM 上应用特殊的响应式行为。</p>
<p>在这里，该指令的意思是：<em>“将这个元素节点的<code>title</code>attribute和当前活跃实例的<code>message</code>property保持一致”</em>。</p>
<h2 id="2-2-处理用户输入"><a href="#2-2-处理用户输入" class="headerlink" title="2.2 处理用户输入"></a>2.2 处理用户输入</h2><p>为了让用户和应用进行交互，我们可以用<code>v-on</code>指令添加一个事件监听器，通过它调用在实例中定义的方法：</p>
<pre><code class="html">&lt;div id=&quot;event-handling&quot;&gt;
  &lt;p&gt;{{ message }}&lt;/p&gt;
  &lt;button v-on:click=&quot;reverseMessage&quot;&gt;反转 Message&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="js">const EventHandling = {
  data() {
    return {
      message: &#39;Hello Vue.js!&#39;
    }
  },
  methods: {
    reverseMessage() {
      this.message = this.message
        .split(&#39;&#39;)
        .reverse()
        .join(&#39;&#39;)
    }
  }
}

Vue.createApp(EventHandling).mount(&#39;#event-handling&#39;)
</code></pre>
<p>注意在这个方法中，我们更新了应用的状态，但没有触碰DOM——所有的DOM操作都是由Vue来处理，你编写的代码只需关注逻辑底层即可。</p>
<p>Vue还提供了<code>v-model</code>指令，它能轻松实现表单输入和应用状态之间的双向绑定。</p>
<pre><code class="html">&lt;div id=&quot;two-way-binding&quot;&gt;
  &lt;p&gt;{{ message }}&lt;/p&gt;
  &lt;input v-model=&quot;message&quot; /&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="js">const TwoWayBinding = {
  data() {
    return {
      message: &#39;Hello Vue!&#39;
    }
  }
}

Vue.createApp(TwoWayBinding).mount(&#39;#two-way-binding&#39;)
</code></pre>
<h2 id="2-3-条件与循环"><a href="#2-3-条件与循环" class="headerlink" title="2.3 条件与循环"></a>2.3 条件与循环</h2><p>控制切换一个元素是否显示也相当简单：</p>
<pre><code class="html">&lt;div id=&quot;conditional-rendering&quot;&gt;
  &lt;span v-if=&quot;seen&quot;&gt;现在你看到我了&lt;/span&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="js">const ConditionalRendering = {
  data() {
    return {
      seen: true
    }
  }
}

Vue.createApp(ConditionalRendering).mount(&#39;#conditional-rendering&#39;)
</code></pre>
<p>这个例子演示了我们不仅可以把数据绑定到DOM文本或 attribute，还可以绑定到 DOM 的结构。此外，Vue 也提供了一个强大的过渡效果系统，可以在 Vue 插入/更新/移除元素时自动应用过渡效果。</p>
<p>还有其它很多指令，每个都有特殊的功能。例如，<code>v-for</code>指令可以绑定数组的数据来渲染一个项目列表：</p>
<pre><code class="html">&lt;div id=&quot;list-rendering&quot;&gt;
  &lt;ol&gt;
    &lt;li v-for=&quot;todo in todos&quot;&gt;
      {{ todo.text }}
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="js">const ListRendering = {
  data() {
    return {
      todos: [
        { text: &#39;Learn JavaScript&#39; },
        { text: &#39;Learn Vue&#39; },
        { text: &#39;Build something awesome&#39; }
      ]
    }
  }
}

Vue.createApp(ListRendering).mount(&#39;#list-rendering&#39;)
</code></pre>
<h2 id="2-4-组件化应用构建"><a href="#2-4-组件化应用构建" class="headerlink" title="2.4 组件化应用构建"></a>2.4 组件化应用构建</h2><p>组件系统是 Vue 的另一个重要概念，因为它是一种抽象，允许我们使用小型、独立和通常可复用的组件构建大型应用。仔细想想，几乎任意类型的应用界面都可以抽象成一个组件树：</p>
<p><img src="https://v3.cn.vuejs.org/images/components.png" alt></p>
<p>在 Vue 中，组件本质上是一个具有预定义选项的实例。在 Vue 中注册组件很简单：如对<code>App</code>对象所做的那样创建一个组件对象，并将其定义在父级组件的<code>components</code>选项中：</p>
<pre><code class="js">const TodoItem = {
  template: `&lt;li&gt;This is a todo&lt;/li&gt;`
}

// 创建 Vue 应用
const app = Vue.createApp({
  components: {
    TodoItem // 注册一个新组件
  },
  ... // 组件的其它 property
})

// 挂载 Vue 应用
app.mount(...)
</code></pre>
<p>现在，你可以将其放到另一个组件的模板中：</p>
<pre><code class="html">&lt;ol&gt;
  &lt;!-- 创建一个 todo-item 组件实例 --&gt;
  &lt;todo-item&gt;&lt;/todo-item&gt;
&lt;/ol&gt;
</code></pre>
<p>但是这样会为每个待办项渲染同样的文本，这看起来并不酷炫。我们应该能将数据从父组件传入子组件才对。让我们来修改一下组件的定义，使之能够接受一个<code>prop</code>：</p>
<pre><code class="js">app.component(&#39;todo-item&#39;, {
  props: [&#39;todo&#39;],
  template: `&lt;li&gt;{{ todo.text }}&lt;/li&gt;`
})
</code></pre>
<p>现在，我们可以使用<code>v-bind</code>指令将待办项传到循环输出的每个组件中：</p>
<pre><code class="html">&lt;div id=&quot;todo-list-app&quot;&gt;
  &lt;ol&gt;
     &lt;!--
      现在我们为每个 todo-item 提供 todo 对象
      todo 对象是变量，即其内容可以是动态的。
      我们也需要为每个组件提供一个“key”，稍后再
      作详细解释。
    --&gt;
    &lt;todo-item
      v-for=&quot;item in groceryList&quot;
      v-bind:todo=&quot;item&quot;
      v-bind:key=&quot;item.id&quot;
    &gt;&lt;/todo-item&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="js">const TodoList = {
  data() {
    return {
      groceryList: [
        { id: 0, text: &#39;Vegetables&#39; },
        { id: 1, text: &#39;Cheese&#39; },
        { id: 2, text: &#39;Whatever else humans are supposed to eat&#39; }
      ]
    }
  }
}

const app = Vue.createApp(TodoList)

app.component(&#39;todo-item&#39;, {
  props: [&#39;todo&#39;],
  template: `&lt;li&gt;{{ todo.text }}&lt;/li&gt;`
})

app.mount(&#39;#todo-list-app&#39;)
</code></pre>
<p>尽管这是一个刻意设计的例子，但是我们已经设法将应用分割成了两个更小的单元。子单元通过prop接口与父单元进行了良好的解耦。我们现在可以进一步改进<code>&lt;todo-item&gt;</code>组件，提供更为复杂的模板和逻辑，而不会影响到父应用。</p>
<p>在一个大型应用中，有必要将整个应用程序划分为多个组件，以使开发更易管理。在后面将详述组件，不过这里有一个（假象的）例子，以展示使用了组件的应用模板是什么样的：</p>
<pre><code class="html">&lt;div id=&quot;app&quot;&gt;
  &lt;app-nav&gt;&lt;/app-nav&gt;
  &lt;app-view&gt;
    &lt;app-sidebar&gt;&lt;/app-sidebar&gt;
    &lt;app-content&gt;&lt;/app-content&gt;
  &lt;/app-view&gt;
&lt;/div&gt;
</code></pre>
<h3 id="2-4-1-与自定义元素的关系"><a href="#2-4-1-与自定义元素的关系" class="headerlink" title="2.4.1 与自定义元素的关系"></a>2.4.1 与自定义元素的关系</h3><p>你可能已经注意到 Vue 组件与自定义元素非常类似——它是<a href="https://www.w3.org/wiki/WebComponents/" target="_blank" rel="noopener">Web Components规范</a>的一部分。确实，Vue的组件设计（如插槽API）在浏览器原生支持该规范前就部分受到了它的影响。</p>
<p>它们之间主要的不同在于，Vue组件的数据模型是作为框架的一部分而设计的，而该框架为构建复杂应用提供了很多必要的附加功能。例如响应式模板和状态管理——这两者都没有被该规范所覆盖。</p>
<p>Vue也为创建和使用自定义元素提供了很好的支持。更多请浏览<a href="https://v3.cn.vuejs.org/guide/web-components.html" target="_blank" rel="noopener">Vue和Web Components</a>章节。</p>
<h1 id="3-应用-amp-组件实例"><a href="#3-应用-amp-组件实例" class="headerlink" title="3. 应用&amp;组件实例"></a>3. 应用&amp;组件实例</h1><h2 id="3-1-创建一个应用实例"><a href="#3-1-创建一个应用实例" class="headerlink" title="3.1 创建一个应用实例"></a>3.1 创建一个应用实例</h2><p>每个 Vue 应用都是通过用<code>createApp</code> 创建一个新的<strong>应用实例</strong>开始的：</p>
<pre><code class="js">const app = Vue.createApp({
  /* 选项 */
})
</code></pre>
<p>该应用实例是用来在应用中注册”全局“组件的。我们会在后面详细讨论，简单的例子：</p>
<pre><code class="js">const app = Vue.createApp({})
app.component(&#39;SearchInput&#39;, SearchInputComponent)
app.directive(&#39;focus&#39;, FocusDirective)
app.use(LocalePlugin)
</code></pre>
<p>可以在<a href="https://v3.cn.vuejs.org/api/application-api.html" target="_blank" rel="noopener">API参考</a>中浏览完整的应用API。</p>
<h2 id="3-2-根组件"><a href="#3-2-根组件" class="headerlink" title="3.2 根组件"></a>3.2 根组件</h2><p>传递给<code>createApp</code>的选项用于配置<strong>根组件</strong>。当我们<strong>挂载</strong>应用时，该组件被用作渲染的起点。</p>
<p>一个应用需要被挂载到一个DOM元素中。例如，如果你想把一个Vue应用挂载到<code>&lt;div id=&quot;app&quot;&gt;</code> ，应传入<code>#app</code>：</p>
<pre><code class="js">const RootComponent = { 
  /* 选项 */ 
}
const app = Vue.createApp(RootComponent)
const vm = app.mount(&#39;#app&#39;)
</code></pre>
<p>与大多数应用方法不同的是，<code>mount</code>不返回应用本身。相反，它返回的是根组件实例。</p>
<p>虽然没有完全遵循<a href="https://en.wikipedia.org/wiki/Model_View_ViewModel" target="_blank" rel="noopener">MVVM模型</a>，但是Vue的设计也受到了它的启发。因此在文档中经常会使用<code>vm</code>（ViewModel的缩写）这个变量名表示组件实例。</p>
<p>尽管本页面上的所有实例都只需要一个单一的组件就可以，但是大多数的真实应用都是被组织成一个嵌套的、可重用的组件树。举个例子，一个todo应用组件树可能是这样的：</p>
<pre><code>Root Component
└─ TodoList
   ├─ TodoItem
   │  ├─ DeleteTodoButton
   │  └─ EditTodoButton
   └─ TodoListFooter
      ├─ ClearTodosButton
      └─ TodoListStatistics
</code></pre><p>每个组件将有自己的组件实例<code>vm</code>。对于一些组件，如<code>TodoItem</code>，在任何时候都可能有多个实例渲染。这个应用中的所有组件实例将共享同一个应用实例。</p>
<p>我们会在稍后的<a href="https://v3.cn.vuejs.org/guide/component-basics.html" target="_blank" rel="noopener">组建基础</a>章节具体展开。不过现在，你只需要明白根组件和其他组件没什么不同，配置选项是一样的，所对应的组件实例行为也是一样的。</p>
<h2 id="3-3-组件实例property"><a href="#3-3-组件实例property" class="headerlink" title="3.3 组件实例property"></a>3.3 组件实例property</h2><p>在前面的指南中，我们认识了<code>data</code>property。在<code>data</code>中定义的property是通过组件实例暴露的：</p>
<pre><code class="js">const app = Vue.createApp({
  data() {
    return { count: 4 }
  }
})

const vm = app.mount(&#39;#app&#39;)

console.log(vm.count) // =&gt; 4
</code></pre>
<p>还有各种其他的组件选项，可以将用户定义的property添加到组件实例中，例如<code>methods</code>，<code>props</code>，<code>computed</code>，<code>inject</code>和<code>setup</code>。我们将在后面的指南中深入讨论它们。组件实例的所有property，无论如何定义，都可以在组件的模板中访问。</p>
<p>Vue还通过组件实例暴露了一些内置property，如<code>$attrs</code>和<code>$emit</code>。这些property都有一个<code>$</code>前缀，以避免与用户自定义的property名冲突。</p>
<h2 id="3-4-生命周期钩子"><a href="#3-4-生命周期钩子" class="headerlink" title="3.4 生命周期钩子"></a>3.4 生命周期钩子</h2><p>每个组件在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到DOM并在数据变化时更新DOM等。同时在这个过程中也会运行一些叫做<strong>生命周期钩子</strong>的函数，这给了用户在不同阶段添加自己代码的机会。</p>
<p>比如<code>created</code>钩子可以用来在一个实例被创建之后执行代码：</p>
<pre><code class="js">Vue.createApp({
  data() {
    return { count: 1}
  },
  created() {
    // `this` 指向 vm 实例
    console.log(&#39;count is: &#39; + this.count) // =&gt; &quot;count is: 1&quot;
  }
})
</code></pre>
<p>也有一些其它的钩子，在实例生命周期的不同阶段被调用，如<code>mounted</code>、<code>updated</code>和<code>unmounted</code>。生命周期钩子的<code>this</code>上下文指向调用它的当前活动实例。</p>
<blockquote>
<p>TIP</p>
<p>不要在选项property或回调上使用<em>箭头函数</em>，比如<code>created:()=&gt;console.log(this.a)</code>或<code>vm.$watch(&#39;a&#39;, newValue=&gt;this.myMethod())</code>。因为箭头函数没有<code>this</code>，<code>this</code>会作为变量一直向上级词法作用域查找，直至找到为止，经常导致<code>Uncaught TypeError: Cannot read property of undefined</code>或<code>Uncaught TypeError: this.myMethod is not a function</code>之类的错误。</p>
</blockquote>
<h2 id="3-5-生命周期图示"><a href="#3-5-生命周期图示" class="headerlink" title="3.5 生命周期图示"></a>3.5 生命周期图示</h2><p>下图展示了实例的生命周期。</p>
<p><img src="https://v3.cn.vuejs.org/images/lifecycle.svg" alt></p>
<h1 id="4-模板语法"><a href="#4-模板语法" class="headerlink" title="4. 模板语法"></a>4. 模板语法</h1><p>Vue.js使用了基于 HTML  的模板语法，允许开发者声明式地将 DOM 绑定至底层组件实例的数据。所有Vue.js的模板都是合法的 HTML，所以能被遵循规范的浏览器和 HTML 解析器解析。</p>
<p>在底层的实现上， Vue 将模板编译成虚拟 DOM 渲染函数。结合响应性系统， Vue 能够智能地计算出最少需要重新渲染多少组件，并把DOM操作次数减到最少。</p>
<p>如果你熟悉虚拟DOM并且偏爱JavaScript的原始力量，你也可以不用模板，<a href="https://v3.cn.vuejs.org/guide/render-function.html" target="_blank" rel="noopener">直接写渲染（render）函数</a>，使用可选的JSX语法。</p>
<h2 id="4-1-插值"><a href="#4-1-插值" class="headerlink" title="4.1 插值"></a>4.1 插值</h2><h3 id="4-1-1-文本"><a href="#4-1-1-文本" class="headerlink" title="4.1.1 文本"></a>4.1.1 文本</h3><p>数据绑定最常见的形式就是使用”Mustache“语法（双大括号）的文本插值：</p>
<pre><code class="html">&lt;span&gt;Message: {{ msg }}&lt;/span&gt;
</code></pre>
<p>Mustache标签将会被替代为对应组件实例中<code>msg</code>property的值。无论何时，绑定的组件实例上<code>msg</code>property发生了改变，插值处的内容都会更新。</p>
<p>通过<a href="https://v3.cn.vuejs.org/api/directives.html#v-once" target="_blank" rel="noopener">v-once指令</a>，你也能执行一次性地插值，当数据改变时，插值处的内容不会更新。但请留心这会影响到该节点上的其他数据绑定：</p>
<pre><code class="html">&lt;span v-once&gt;这个将不会改变: {{ msg }}&lt;/span&gt;
</code></pre>
<h3 id="4-1-2-原始HTML"><a href="#4-1-2-原始HTML" class="headerlink" title="4.1.2 原始HTML"></a>4.1.2 原始HTML</h3><p>双大括号会将数据解释为普通文本，而非HTML代码。为了输出真正的HTML，你需要使用<code>v-html</code>指令：</p>
<pre><code class="html">&lt;p&gt;Using mustaches: {{ rawHtml }}&lt;/p&gt;
&lt;p&gt;Using v-html directive: &lt;span v-html=&quot;rawHtml&quot;&gt;&lt;/span&gt;&lt;/p&gt;
</code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/vue3/原始HTML.png" alt></p>
<p>这个<code>span</code>的内容将会被替换成为property值<code>rawHtml</code>，直接作为HTML——会忽略解析property值中的数据绑定。注意，你不能使用<code>v-html</code>来复合局部模板，因为Vue不是基于字符串的模板引擎。反之，对于用户界面（UI），组件更适合作为可重用和可组合的基本单位。</p>
<blockquote>
<p>TIP</p>
<p>在你的站点上动态渲染任意的 HTML 是非常危险的，因为它很容易导致<a href="https://en.wikipedia.org/wiki/Cross-site_scripting" target="_blank" rel="noopener">XSS攻击</a>。请只对可信内容使用 HTML 插值，绝不要将用户提供的内容作为插值。</p>
</blockquote>
<h3 id="4-1-3-Attribute"><a href="#4-1-3-Attribute" class="headerlink" title="4.1.3 Attribute"></a>4.1.3 Attribute</h3><p>Mustache语法不能在 HTML attribute 中使用，然而，可以使用<code>v-bind</code>指令：</p>
<pre><code class="html">&lt;div v-bind:id=&quot;dynamicId&quot;&gt;&lt;/div&gt;
</code></pre>
<p>如果绑定的值是<code>null</code>或<code>undefined</code>，那么该 attribute 将不会被包含在渲染的元素上。</p>
<p>对于布尔 attribute （它们只要存在就意味着值为 true），<code>v-bind</code>工作起来略有不同，在这个例子中：</p>
<pre><code class="html">&lt;button v-bind:disabled=&quot;isButtonDisabled&quot;&gt;按钮&lt;/button&gt;
</code></pre>
<p>如果<code>isButtonDisabled</code>的值是truthy<a href="truthy不是`true`，详见[MDN](https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy)的解释。">^1</a>，那么<code>disabled</code>attribute将被包含在内。如果该值是一个空字符串，它也会被包括在内，与<code></code>保持一致。对于其他 falsy<a href="falsy不是`false`，详见[MDN](https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy)的解释。">^2</a>的值，该attribute将被省略。</p>
<h3 id="4-1-4-使用JavaScript表达式"><a href="#4-1-4-使用JavaScript表达式" class="headerlink" title="4.1.4 使用JavaScript表达式"></a>4.1.4 使用JavaScript表达式</h3><p>迄今为止，在我们的模板中，我们一直都只绑定简单的property键值。但实际上，对于所有的数据绑定，Vue.js 都提供了完全的 JavaScript 表达式支持。</p>
<pre><code class="html">{{ number + 1 }}

{{ ok ? 'YES' : 'NO' }}

{{ message.split('').reverse().join('') }}

&lt;div v-bind:id=&quot;&#39;list-&#39; + id&quot;&gt;&lt;/div&gt;
</code></pre>
<p>这些表达式会在当前活动实例的数据作用域下作为 JavaScript 被解析。有个限制就是，每个绑定都只能包含<strong>单个表达式</strong>，所以下面的例子都<strong>不会</strong>生效。</p>
<pre><code class="html">&lt;!--  这是语句，不是表达式：--&gt;
{{ var a = 1 }}

&lt;!-- 流控制也不会生效，请使用三元表达式 --&gt;
{{ if (ok) { return message } }}
</code></pre>
<h2 id="4-2-指令"><a href="#4-2-指令" class="headerlink" title="4.2 指令"></a>4.2 指令</h2><p>指令（Directives）是带有<code>v-</code>前缀的特殊attribute。指令attribute的值预期是<strong>单个JavaScript表达式</strong>（<code>v-for</code>和<code>v-on</code>是例外情况，稍后我们再讨论）。指令的职责是，当表达式的值改变时，将其产生的连带影响，响应式地作用于DOM。回顾我们在介绍中看到的例子：</p>
<pre><code class="html">&lt;p v-if=&quot;seen&quot;&gt;现在你看到我了&lt;/p&gt;
</code></pre>
<p>这里，<code>v-if</code>指令将根据表达式<code>seen</code>的值的真假来插入/移除<code>&lt;p&gt;</code>元素。</p>
<h3 id="4-2-1-参数"><a href="#4-2-1-参数" class="headerlink" title="4.2.1 参数"></a>4.2.1 参数</h3><p>一些指令能够接收一个”参数“，在指令名称之后以冒号表示。例如，<code>v-bind</code>指令可以用于响应式地更新HTML attribute：</p>
<pre><code class="html">&lt;a v-bind:href=&quot;url&quot;&gt; ... &lt;/a&gt;
</code></pre>
<p>在这里<code>href</code>是参数，告知<code>v-bind</code>指令将该元素的<code>href</code>attribute与表达式<code>url</code>的值绑定。</p>
<p>另一个例子是<code>v-on</code>指令，它用于监听DOM事件：</p>
<pre><code class="html">&lt;a v-on:click=&quot;doSomething&quot;&gt; ... &lt;/a&gt;
</code></pre>
<p>在这里参数是监听的事件名。</p>
<h3 id="4-2-2-动态参数"><a href="#4-2-2-动态参数" class="headerlink" title="4.2.2 动态参数"></a>4.2.2 动态参数</h3><p>也可以在指令参数中使用JavaScript表达式，方法是用方括号括起来：</p>
<pre><code class="html">&lt;!--
注意，参数表达式的写法存在一些约束，如之后的“对动态参数表达式的约束”章节所述。
--&gt;
&lt;a v-bind:[attributeName]=&quot;url&quot;&gt; ... &lt;/a&gt;
</code></pre>
<p>这里的<code>attributeName</code>会被作为一个JavaScript表达式进行动态求值，求得的值将会作为最终的参数来使用。例如，如果你的组件实例有一个 data property <code>attributeName</code>，其值为<code>&quot;href&quot;</code>，那么这个绑定将等价于<code>v-bind:href</code>。</p>
<p>同样地，你可以使用动态参数为一个动态的事件名绑定处理函数：</p>
<pre><code class="html">&lt;a v-on:[eventName]=&quot;doSomething&quot;&gt; ... &lt;/a&gt;
</code></pre>
<p>在这个示例中，当<code>eventName</code>的值为<code>”focus“</code>时，<code>v-on:[eventName]</code>将等价于<code>v-on:focus</code></p>
<h3 id="4-2-3-修饰符"><a href="#4-2-3-修饰符" class="headerlink" title="4.2.3 修饰符"></a>4.2.3 修饰符</h3><p>修饰符（modifier）是以半角句号<code>.</code>指明的特殊后缀，用于指出一个指令应该以特殊方式绑定。例如，<code>.prevent</code>修饰符告诉<code>v-on</code>指令对于触发的事件调用<code>event.preventDefault()</code>：</p>
<pre><code class="html">&lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;...&lt;/form&gt;
</code></pre>
<p>在接下来对<code>v-on</code>和<code>v-for</code>等功能的探索中，你会看到修饰符的其它例子。</p>
<h2 id="4-3-缩写"><a href="#4-3-缩写" class="headerlink" title="4.3 缩写"></a>4.3 缩写</h2><p><code>v-</code>缩写前缀作为一种视觉提示，用来识别模板中 Vue 特定的 attribute。当你在使用 Vue.js 为现有标签添加动态行为（dynamic behavior）时，v- 前缀很有帮助。然后，对于一些频繁用到的指令来说，就会感到使用繁琐。同时，在构建由 Vue 管理所有模板的单页面应用程序（<a href="https://en.wikipedia.org/wiki/Single-page_application" target="_blank" rel="noopener">SPA - single page application</a>）时，<code>v-</code> 前缀也变得没那么重要了。因此，Vue 为<code>v-bind</code>和<code>v-on</code>这两个最常用的指令，提供了特定简写：</p>
<h3 id="4-3-1-v-bind缩写"><a href="#4-3-1-v-bind缩写" class="headerlink" title="4.3.1 v-bind缩写"></a>4.3.1 <code>v-bind</code>缩写</h3><pre><code class="html">&lt;!-- 完整语法 --&gt;
&lt;a v-bind:href=&quot;url&quot;&gt; ... &lt;/a&gt;

&lt;!-- 缩写 --&gt;
&lt;a :href=&quot;url&quot;&gt; ... &lt;/a&gt;

&lt;!-- 动态参数的缩写 --&gt;
&lt;a :[key]=&quot;url&quot;&gt; ... &lt;/a&gt;
</code></pre>
<h3 id="4-3-2-v-on缩写"><a href="#4-3-2-v-on缩写" class="headerlink" title="4.3.2 v-on缩写"></a>4.3.2 <code>v-on</code>缩写</h3><pre><code class="html">&lt;!-- 完整语法 --&gt;
&lt;a v-on:click=&quot;doSomething&quot;&gt; ... &lt;/a&gt;

&lt;!-- 缩写 --&gt;
&lt;a @click=&quot;doSomething&quot;&gt; ... &lt;/a&gt;

&lt;!-- 动态参数的缩写 (2.6.0+) --&gt;
&lt;a @[event]=&quot;doSomething&quot;&gt; ... &lt;/a&gt;
</code></pre>
<p>它们看起来可能与普通的HTML略有不同，但<code>:</code>与<code>@</code>对attribute名来说都是合法字符，在所有支持 Vue 的浏览器都能被正确解析。而且，它们不会出现在最终渲染的标记中。缩写语法是完全可选的，但随着你更深入了解它们的作用，你会庆幸拥有它们。</p>
<h3 id="4-3-3-注意事项"><a href="#4-3-3-注意事项" class="headerlink" title="4.3.3 注意事项"></a>4.3.3 注意事项</h3><h4 id="4-3-3-1-对动态参数值约定"><a href="#4-3-3-1-对动态参数值约定" class="headerlink" title="4.3.3.1 对动态参数值约定"></a>4.3.3.1 对动态参数值约定</h4><p>动态参数预期会求出一个字符串，异常情况下值为<code>null</code>。这个特殊的<code>null</code>值可以被显性地用于移除绑定。任何其它非字符串类型的值都将会触发一个警告。</p>
<h4 id="4-3-3-2-对动态参数表达式约定"><a href="#4-3-3-2-对动态参数表达式约定" class="headerlink" title="4.3.3.2 对动态参数表达式约定"></a>4.3.3.2 对动态参数表达式约定</h4><p>动态参数表达式有一些语法约束，因为某些字符，如空格和引号，放在 HTML attribute 名里是无效的。</p>
<p>例如：</p>
<pre><code class="html">&lt;!-- 这会触发一个编译警告 --&gt;
&lt;a v-bind:[&#39;foo&#39; + bar]=&quot;value&quot;&gt; ... &lt;/a&gt;
</code></pre>
<p>变通的办法是使用没有空格或引号的表达式，或用<code>计算属性</code>代替这种复杂表达式。</p>
<p>在DOM中使用模板（直接在一个HTML文件里撰写模板），还需要避免使用大写字符来命名键名，因为浏览器会把attribute名全部强制转为小写：</p>
<pre><code class="html">&lt;!--
在 DOM 中使用模板时这段代码会被转换为 `v-bind:[someattr]`。
除非在实例中有一个名为“someattr”的 property，否则代码不会工作。
--&gt;
&lt;a v-bind:[someAttr]=&quot;value&quot;&gt; ... &lt;/a&gt;
</code></pre>
<h4 id="4-3-3-3-JavaScript表达式"><a href="#4-3-3-3-JavaScript表达式" class="headerlink" title="4.3.3.3 JavaScript表达式"></a>4.3.3.3 JavaScript表达式</h4><p>模板表达式都被放在沙盒中，只能访问一个<a href="https://github.com/vuejs/vue-next/blob/master/packages/shared/src/globalsWhitelist.ts#L3" target="_blank" rel="noopener">受限的列表</a>，如<code>Math</code>和<code>Date</code>。你不应该在模板表达式中试图访问用户定义的全局变量。</p>
<h1 id="5-Data-Property和方法"><a href="#5-Data-Property和方法" class="headerlink" title="5. Data Property和方法"></a>5. Data Property和方法</h1><h2 id="5-1-Data-Property"><a href="#5-1-Data-Property" class="headerlink" title="5.1 Data Property"></a>5.1 Data Property</h2><p>组件的<code>data</code>选项是一个函数。 Vue 在创建新组件实例的过程中调用此函数。它应该返回一个对象，然后 Vue 会 通过响应性系统将其包裹起来，并以<code>$data</code>的形式存储在组件实例中。为方便起见，该对象的任何顶级 property 也直接通过组件实例暴露出来：</p>
<pre><code class="js">const app = Vue.createApp({
  data() {
    return { count: 4 }
  }
})

const vm = app.mount(&#39;#app&#39;)

console.log(vm.$data.count) // =&gt; 4
console.log(vm.count)       // =&gt; 4

// 修改 vm.count 的值也会更新 $data.count
vm.count = 5
console.log(vm.$data.count) // =&gt; 5

// 反之亦然
vm.$data.count = 6
console.log(vm.count) // =&gt; 6
</code></pre>

        </div>
        <!-- .entry-content -->
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
          
            <div class="post-nepre half previous">
          
            <a href="/2021/11/23/js-advance/" rel="prev">
              <div class="background">
                <img class="lazyload" src="/images/bg1.jpg" data-src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/4.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/4.jpg">
              </div>
              <span class="label">
              Previous Post</span>
              <div class="info">
                <h3>
                js进阶</h3>
                <hr>
              </div>
            </a>
          </div>
        
        
          
            <div class="post-nepre half next">
          
            <a href="/2021/10/21/mysql/" rel="next">
              <div class="background">
                <img class="lazyload" src="/images/bg1.jpg" data-src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/4.jpg" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/4.jpg">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                mysql</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
<div id="vcomments"></div>
<script>
  window.onload = function(){
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "zMhFPcMIscDyGbtxHjYFffkx-gzGzoHsz",
        appKey: "c4XBymCm0OmYWLklOAKbUlhE",
        path: window.location.pathname,
        placeholder: "你是我一生只会遇见一次的惊喜 ..."
      })
  }
</script>

      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
          <a href="DarkStrand.cn" class="profile gravatar"><img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/avatar.jpg" itemprop="image" alt="DarkStrand" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="DarkStrand.cn" itemprop="url" rel="author">DarkStrand</a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i>一个神奇的小伙</p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            // PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 DarkStrand<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
      <p style="color: #666666;">&copy 2021</p>
    </div>
    <div class="footer-device">
    <p style="font-family: 'Ubuntu', sans-serif;">
        <span style="color: #b9b9b9;">Theme <a href="https://github.com/honjun/hexo-theme-sakura" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Sakura</a> <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> by &<a href="https://www.hojun.cn/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">DarkStrand</a>, Powered by Hexo, Hosted by Coding Pages</a>
        </span>
      </p>
    </div>
  </div><!-- .site-info -->
</footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine@1.3.4/dist/Valine.min.js'></script>
<script src="/js/botui.js"></script>
<!-- 不蒜子 网页计数器 -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2/Bazinga.mp4","name":"Unbroken.mp4","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2/Bazinga.mp4","name":"Unbroken.mp4","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //有图的情况
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://cdn.jsdelivr.net/gh/Darkstranded/CDN/images/touxiang.JPG">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">FLのBlog</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="https://gitee.com/darkstranded" class="fa fa-github" target="_blank" style="color: #333; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            归档
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/技术/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  技术
                </a>
              </li>
            
              <li>
                <a href="/categories/资源/">
                  <i class="fa fa-cloud-download" aria-hidden="true"></i>
                  资源
                </a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <a href="/comment/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-pencil-square-o faa-tada" aria-hidden="true"></i>
            留言板
          </span>
        </a>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<meting-js

    id="2660651585"

    server="netease"

    type="playlist"

    fixed="true"

    autoplay="false"

    loop="all"

    order="random"

    preload="auto"

    volume="0.7"

    mutex="true"

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
</body>
</html>